!function(){var e={757:function(e,t,n){e.exports=n(666)},666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),i=new N(r||[]);return a._invoke=function(e,t,n){var r=d;return function(o,a){if(r===p)throw new Error("Generator is already running");if(r===g){if("throw"===o)throw a;return _()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=A(i,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=u(e,t,n);if("normal"===s.type){if(r=n.done?g:f,s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=g,n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",h={};function m(){}function v(){}function y(){}var w={};s(w,a,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(L([])));k&&k!==n&&r.call(k,a)&&(w=k);var S=y.prototype=m.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function A(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=u(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function L(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:_}}function _(){return{value:t,done:!0}}return v.prototype=y,s(S,"constructor",y),s(y,"constructor",v),v.displayName=s(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},x(I.prototype),s(I.prototype,i,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new I(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=L,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,s,"next",e)}function s(e){i(a,r,o,c,s,"throw",e)}c(void 0)}))}}var s=n(757),l=n.n(s),u="https://ndvivense.glov.ai/nd-styles.css?id=".concat((new Date).toISOString().substring(0,13).replace("T","").replaceAll("-","")),d="https://europe-west3-nextday-34eb3.cloudfunctions.net/api/logResponse",f="(max-width: 440px)",p=90,g="__nextday_session_id",h="ND_PageViews",m="ND_SessionTimestamp",v="ND_PopupDisplayFlag",y="ND_CABasketPrice",w="ND_Debug";function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var x=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Nextday Client SDK";b(this,e),this.origin=t,this.DEBUG=window.localStorage.getItem(w)}return S(e,[{key:"info",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).info.apply(e,["[".concat(t,"]")].concat(r))}},{key:"log",value:function(){var e=this.DEBUG,t=this.origin;if(e){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];(n=console).log.apply(n,["[".concat(t,"]")].concat(o))}}}]),e}(),I=x;function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=new I("Nextday DataLayer Checker"),E=function(e){C.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value,o=N(t);return B(o,n,r)},N=function(e){C.log("Searching dataLayer for key",e);var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(window.dataLayer);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(Object.keys(r).includes(e))return C.log("Found key ".concat(e," with value ").concat(r[e])),r[e]}}catch(e){n.e(e)}finally{n.f()}return C.log("Key ".concat(e," not found in dataLayer")),null},L=new I("Nextday Url Checker"),_=function(e){L.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("path"===t){var o=window.location.href,a=o.includes("ajax/mobile-search/loadOtherPages.php")?decodeURIComponent(new URL(o).search.replace("?originalPath=","")):new URL(o).pathname;return L.log("Checking path ".concat(a," matches rule path ").concat(r)),B(a,n,r)}};function O(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=new I("Nextday Utils");"randomUUID"in crypto||V();var R=function(){document.documentElement.classList.remove("nextDay-hide")},P=function(){var e=c(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j.log("Fetching treatments"),e.next=3,fetch("https://ndtugs.pages.dev/treatments.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(e,t){if(!e)return null;var n=e.split(";").map((function(e){return e.split("=")})).reduce((function(e,t){return t[0]&&t[1]&&(e[decodeURIComponent(t[0].trim())]=decodeURIComponent(t[1].trim())),e}),{})[t];return n?("_ga"===t&&(n=n.split(".")[2]),n):null},U=function(){var e=c(l().mark((function e(t){var n,r,o,a,i,c,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:8,t){e.next=3;break}return e.abrupt("return",-1);case 3:return r=(new TextEncoder).encode(t),e.next=6,crypto.subtle.digest("SHA-1",r);case 6:return o=e.sent,a=Array.from(new Uint8Array(o)),i=a.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),c=parseInt(i.substring(0,n),16),e.abrupt("return",c%100);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(e){var t=document.documentElement.scrollTop,n=setInterval((function(){var r=document.documentElement.scrollTop;t-400>r?(clearInterval(n),e()):t=r}),500)},J=function(e,t){j.log("Applying style changes",t,"to elements",e);for(var n=0;n<e.length;n++)for(var r=e[n],a=0,i=Object.entries(t);a<i.length;a++){var c=o(i[a],2),s=c[0],l=c[1];r.style[s]=l}},M=function(){var e=c(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.createElement("link")).rel="stylesheet",t.type="text/css",t.href=u,document.head.appendChild(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(e,t){var n,r=JSON.parse(JSON.stringify(e)),o=O(r);try{for(o.s();!(n=o.n()).done;){var a=n.value,i=a.subVariants;if(i){var c,s=O(i);try{for(s.s();!(c=s.n()).done;){var l=c.value;if(l.id===t){for(var u in l)"id"!==u&&(a[u]=l[u]);return r}}}catch(e){s.e(e)}finally{s.f()}}}}catch(e){o.e(e)}finally{o.f()}return r},B=function(e,t,n){if("notExist"===t)return e?(j.log("conditionChecker: -not satisfied- target does exist"),!1):(j.log("conditionChecker: -satisfied- target does not exist"),!0);if(null==e||null==t)return j.log("conditionChecker: runTimeValue or condition is not defined"),!1;switch(t){case"exist":return e?(j.log("conditionChecker: -satisfied- target does exist"),!0):(j.log("conditionChecker: -not satisfied- target does not exist"),!1);case"contains":return e.includes(n)?(j.log("conditionChecker: -satisfied- target contains value"),!0):(j.log("conditionChecker: -not satisfied- target does not contain value"),!1);case"notContains":return e.includes(n)?(j.log("conditionChecker: -not satisfied- target contains value"),!1):(j.log("conditionChecker: -satisfied- target does not contain value"),!0);case"equal":return e===n?(j.log("conditionChecker: -satisfied- target equals value"),!0):(j.log("conditionChecker: -not satisfied- target does not equal value"),!1);case"notEqual":return e!==n?(j.log("conditionChecker: -satisfied- target does not equal value"),!0):(j.log("conditionChecker: -not satisfied- target equals value"),!1);case"greaterThan":return e>n?(j.log("conditionChecker: -satisfied- target is greater than value"),!0):(j.log("conditionChecker: -not satisfied- target is not greater than value"),!1);case"lessThan":return e<n?(j.log("conditionChecker: -satisfied- target is less than value"),!0):(j.log("conditionChecker: -not satisfied- target is not less than value"),!1);case"greaterEquals":return e>=n?(j.log("conditionChecker: -satisfied- target is greater or equal than value"),!0):(j.log("conditionChecker: -not satisfied- target is not greater or equal than value"),!1);case"lessEquals":return e<=n?(j.log("conditionChecker: -satisfied- target is less or equal than value"),!0):(j.log("conditionChecker: -not satisfied- target is not less or equal than value"),!1);case"between":var r=o(n.split(","),2),a=r[0],i=r[1];return a=parseInt(a),i=parseInt(i),e>=a&&e<=i?(j.log("conditionChecker: -satisfied- target is between min and max"),!0):(j.log("conditionChecker: -not satisfied- target is not between min and max"),!1);default:return j.log("conditionChecker: condition is not defined ",t),!1}},V=function(){crypto.randomUUID=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}},G=function t(n,r){if(n===r)return!0;if("object"!==e(n)||"object"!==e(r)||null==n||null==r)return!1;var o=Object.keys(n),a=Object.keys(r);if(o.length!==a.length)return!1;var i=!0;return o.forEach((function(e){a.includes(e)||(i=!1),"function"!=typeof n[e]&&"function"!=typeof r[e]||n[e].toString()!==r[e].toString()&&(i=!1),t(n[e],r[e])||(i=!1)})),i},z=function(){var e=[],t={operator:"PageType",condition:"equal",value:"Homepage"};if(E(t))return null;if(t.value="Listingpage",E(t))return Array.from(document.querySelectorAll(".product-card")).forEach((function(t){e.push(t.getAttribute("data-product-sku"))})),e.length?e:(j.log("Product SKUs not found on Listingpage"),null);if(t.value="Productpage",E(t)){var n=document.querySelector(".product-sku");return n?(e.push(n.getAttribute("data-sku")),e):(j.log("Product SKU not found on Productpage"),null)}return t.operator="path",t.value="/siparis-listesi.html",_(t)?(Array.from(document.querySelectorAll(".cart-inside")).forEach((function(t){e.push(t.getAttribute("data-sku"))})),e.length?e:(j.log("Product SKUs not found on basket page"),null)):(j.log("Unidentified page type"),null)},K='<div class="top-left-badge"><div class="super-price-badge"><img src="//cdn.vivense.com/images/badges/superfiyat_badge_final.svg" width="45" class="super-price-icon"></div></div>';function H(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(){return W=c(l().mark((function e(t,n){var r,o,a,i,c,s,u,d=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.length>2&&void 0!==d[2]&&d[2],r=new I("Nextday Apply Treatments"),o=v,a=function(e){r.log("Applying treatment: ",JSON.stringify(e));var t=e.badgeSelector,a=e.operator,i=e.type,l=e.applyEvent,d=e.contentSelector,p=e.selector,g=e.selectorFallback,h=e.mdCondition,m=e.move_selector_1,v=e.move_selector_2,y=e.replaceFn,w=e.value,b=$(p);if(!h||window.matchMedia(h).matches)if(m&&!v||v&&!m)r.log("Both move selectors are required");else{if(m&&v){if(!$(m).length)return void r.log("Move selector 1 not found: ",m);if(!$(v).length)return void r.log("Move selector 2 not found: ",v)}else{if(!p)return void r.log("Selector not specified");if(!b.length&&(r.log("Selector not found: ",p),r.log("Trying fallback selector: ",g),g&&(b=$(g)),!b.length))return void r.log("Fallback selector not found")}if(y&&w.includes("{{REPLACE}}")){r.log("Executing replace function: ",y);var k=Function(y);w=w.replace("{{REPLACE}}",k())}if("remove"===a)b&&(r.log("Removing: ",p),b.remove()),r.log("Cannot found element with selector: ",p);else if("insert"===a)switch(i){case"before":r.log("Inserting before: ",w),String(w).includes("nd-add-to-win")&&$(".nd-add-to-win").remove(),b.before(w);break;case"after":r.log("Inserting after: ",w),b.after(w);break;case"popup":if(0!==parseInt(sessionStorage.getItem(o))){r.log("Popup already displayed in session");break}if(r.log("Creating Popup: ",w),s(w,d),l){var S,x=window.matchMedia(f).matches,I=H(l);try{for(I.s();!(S=I.n()).done;)switch(S.value){case"exitIntent":r.log("Adding exit intent listener"),x?D(c):document.documentElement.addEventListener("mouseleave",c,{once:!0});break;case"copyIntent":r.log("Adding copy intent listener"),document.documentElement.addEventListener("copy",c,{once:!0})}}catch(e){I.e(e)}finally{I.f()}}else setTimeout((function(){c()}),timeout)}else if("edit"===a)switch(i){case"text":r.log("Editing text: ",w),b.text(w);break;case"styleApplicator":r.log("Applying style: ",w);var A=document.querySelectorAll(p),C=JSON.parse(w);r.log("Style Changes Map: ",C),J(A,C);break;case"addClass":r.log("addding class to ".concat(b," named ").concat(w)),b.addClass(w);break;case"removeClass":r.log("remove class from ".concat(b," named ").concat(w)),b.removeClass(w);break;case"updateBadge":if(!n){r.log("Product info unavailable");break}r.log("Updating badges: ",w);for(var E=0,N=Array.from(b);E<N.length;E++){var L=N[E],_=$(L),O=_.attr("data-product-sku");O||(O=_.attr("data-sku")),O?(_.find(t).remove(),Object.keys(n).includes(O)&&n[O].badges.includes(w)&&"superPrice"===w&&_.find(".hover-element-area").before(K)):r.log("Could not find product sku")}break;default:r.log("Unknown edit type: ",i)}else if("setattribute"===a)switch(r.log("Setting attribute: ",attribute,w),attribute){case"src":b.css("content","url(".concat(w.trim(),")"));break;case"style":var T=w.split(":")[0].trim(),j=w.split(":")[1].trim();b.css(T,j,"!important")}else if("replace"===a)r.log("Replacing: ",w),b.replaceAll(w);else if("swap"===a){r.log("Swapping: ",m,v);var R=document.querySelector(m),P=document.querySelector(v);u(R,P)}else if("injectscript"===a)r.log("Injecting script: ",w),b.append("<script>".concat(w,"<\/script>"));else if("move"===a){r.log("Moving ".concat(m," to ").concat(v));var q=document.querySelector(m),U=document.querySelector(v);q.remove(),U.prepend(q)}else"noop"===a?r.log("Noop Operator: No operation is applied on target "):r.log("No such operator exists yet",a)}else r.log("Media condition mismatch: ",h)},i=function e(t){var n=t.target.id;n&&"nd-popup__wrapper"===n&&($("#nd-popup__wrapper").remove(),window.removeEventListener("click",e,!0))},c=function e(){sessionStorage.setItem(o,1);var t=document.querySelector("#grt-shadow-host");t&&(t.style.display="none"),document.getElementById("nd-popup__wrapper").style.display="block",window.addEventListener("click",i,!0),document.documentElement.removeEventListener("mouseleave",e,{once:!0}),document.documentElement.removeEventListener("copy",e,{once:!0}),setTimeout((function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",i,!0)}),15e3)},s=function(e,t){var n=document.createElement("div");n.classList.add("nd-popup__wrapper"),n.id="nd-popup__wrapper";var r=document.createElement("button");if(r.classList.add("nd-popup__button-close"),r.innerText="X",r.onclick=function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",i,!0)},t)for(var o=Array.from(document.querySelectorAll(t));e.includes("{{REPLACE}}")&&o.length>0;)e=e.replace("{{REPLACE}}",o.shift().src);var a=document.createElement("template");a.innerHTML=e.trim();var c=a.content.firstChild;c.appendChild(r),n.appendChild(c),$("#nd-popup__wrapper").remove(),document.body.appendChild(n)},u=function(e,t){var n,r,o=e.parentNode,a=t.parentNode;if(o&&a&&!o.isEqualNode(t)&&!a.isEqualNode(e)){for(var i=0;i<o.children.length;i++)o.children[i].isEqualNode(e)&&(n=i);for(var c=0;c<a.children.length;c++)a.children[c].isEqualNode(t)&&(r=c);o.isEqualNode(a)&&n<r&&r++,o.insertBefore(t,o.children[n]),a.insertBefore(e,a.children[r])}},function e(t){if(window.jQuery){var n,o=H(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;try{a(i)}catch(e){r.warn("Couldn't apply treatment ".concat(i.id," with error ").concat(e.message));continue}}}catch(e){o.e(e)}finally{o.f()}}else setTimeout((function(){e(t)}),10)}(t);case 11:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}var Q=function(e,t){return W.apply(this,arguments)},X=function(){function e(t,n){b(this,e),this.logger=new I("Nextday Monitor"),this.logger.log("Initializing monitor"),this.appliedTreatmentIds=JSON.parse(JSON.stringify(t)),this.eligibleNotAppliedTreatments=JSON.parse(JSON.stringify(n)),this.latestChanges=null,this.eligibleNotAppliedChanges=null,this.sessionId=sessionStorage.getItem(g),this.viewId=crypto.randomUUID(),this.headers={type:"application/json"},this.logger.log("Initializing with session id: "+this.sessionId),this.initializeExitEventListener(),this.debugMode=window.localStorage.getItem(w)?"on":"off"}var t,n;return S(e,[{key:"sendLogs",value:(n=c(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.logger.log("Sending logs"),n=!1,setTimeout((function(){n=!0}),1e3);!n;)n=navigator.sendBeacon(d,this.packageLogData(t));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"updateLatestChanges",value:function(e,t){var n=this.appliedTreatmentIds,r=this.eligibleNotAppliedTreatments,o=this.logger;o.log("Updating latest changes");var a=this.latestChanges||n;G(a,e)||(o.log("Changes detected"),o.log("Changes: ",e),this.latestChanges=e),a=this.eligibleNotAppliedChanges||r,G(a,t)||(o.log("Changes detected"),o.log("Changes: ",e),this.eligibleNotAppliedChanges=t)}},{key:"packageLogData",value:function(e){var t=this.appliedTreatmentIds,n=this.eligibleNotAppliedTreatments,r=this.debugMode,o=this.headers,a=this.sessionId,i=this.viewId,c=Object.keys(t).length?"Treatments applied":"No treatments applied",s=new URL(window.location.href),l={n:"nextday-session_id-".concat(a),u:s.href,d:s.hostname,r:document.referrer,w:window.innerWidth,c:document.cookie,wdl:window.dataLayer?JSON.parse(JSON.stringify(window.dataLayer)):[],t:Date.now(),v:"0.0.22",a:t,e:n,vId:i,sr:p,m:c,dbm:r,isOn:e};return new Blob([JSON.stringify(l)],o)}},{key:"packageUpdateLogData",value:function(){var e=this.headers,t=this.eligibleNotAppliedChanges,n=this.latestChanges,r=this.viewId;if(!n)return!1;var o={t:Date.now(),a:n,e:t,vId:r};return new Blob([JSON.stringify(o)],e)}},{key:"initializeExitEventListener",value:function(){var e=this,t=this.logger;t.log("Initializing exit event listener"),window.addEventListener("pagehide",(function(){t.log("In pagehide event");var n=e.packageUpdateLogData();if(n){for(var r=!1;!r;)r=navigator.sendBeacon(d,n);t.log("Logs queued successfully")}else t.log("No changes to log")}),{capture:!0})}}],[{key:"sendEmptyLog",value:(t=c(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log("Nextday Monitor: Sending empty logs"),r=!1,setTimeout((function(){r=!0}),1e3);!r;)r=navigator.sendBeacon(d,this.packageEmptyLogData(t,n));case 4:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"packageEmptyLogData",value:function(e,t){var n=new URL(window.location.href),r=window.localStorage.getItem(w)?"on":"off",o=sessionStorage.getItem(g),a={n:"nextday-session_id-".concat(o),u:n.href,d:n.hostname,r:document.referrer,w:window.innerWidth,c:document.cookie,wdl:window.dataLayer?JSON.parse(JSON.stringify(window.dataLayer)):[],t:Date.now(),v:"0.0.22",a:{},e:{},vId:null,sr:p,m:e,dbm:r,isOn:t};return new Blob([JSON.stringify(a)],{type:"application/json"})}}]),e}(),Z=X,ee=new I("Nextday Treatment Repository"),te=function(){function e(t){b(this,e);var n=t.cookiePct,r=t.treatments;this.treatments=r,this.cookiePct=n}var t;return S(e,[{key:"getMatchedTreatments",value:function(){var e=this.getUserSegment(),t=this.treatments.filter((function(t){return t.apply_on_user_segment==e||"*"===t.apply_on_user_segment}));return ee.log("".concat(t.length," treatments segment matched")),t.length?t:[]}},{key:"getUserSegment",value:function(){if(-1===this.cookiePct)throw ee.info("New user has no segment"),new Error("New User");return this.cookiePct<50?"A":"B"}}],[{key:"getTreatments",value:(t=c(l().mark((function e(){var t,n,r,o,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee.log("Loading treatments"),t="ND_Treatments",n=JSON.parse(localStorage.getItem(t)),r=null==n?void 0:n.treatments,o=null==n?void 0:n.timestamp,r&&o){e.next=13;break}return ee.log("Treatments not found in local storage"),e.next=9,P();case 9:return r=e.sent,a={timestamp:Date.now(),treatments:r},localStorage.setItem(t,JSON.stringify(a)),e.abrupt("return",r);case 13:if(!o){e.next=23;break}if(!((Date.now()-o)/864e5>1)){e.next=23;break}return ee.log("Treatments are expired"),e.next=19,P();case 19:return r=e.sent,i={timestamp:Date.now(),treatments:r},localStorage.setItem(t,JSON.stringify(i)),e.abrupt("return",r);case 23:return ee.log("Treatments are loaded from local storage"),e.abrupt("return",r);case 25:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),ne=te,re=new I("Nextday Counter Checker"),oe=function(e,t){try{switch(t){case"session":return sessionStorage.getItem(e);case"local":return localStorage.getItem(e);default:return re.log("No such type",t),null}}catch(t){return re.log("Could not get counter ".concat(e),t),null}},ae=new I("Nextday Element Checker"),ie=new I("Nextday Function Checker"),ce=new I("Nextday Session Checker"),se=new I("Nextday Env Checker");function le(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var de=new I("Nextday Rule Engine"),fe=function(){function e(t){b(this,e);var n=t.baseRuleSet,r=t.subVariantRuleSet,o=t.callback,a=void 0===o?null:o;this.baseRuleSet=n,this.subVariantRuleSet=r,this.callback=a}return S(e,[{key:"checkRules",value:function(){var e,t=le(this.baseRuleSet);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!this.checkRule(n))return!1}}catch(e){t.e(e)}finally{t.f()}return!0}},{key:"checkSubVariantRules",value:function(){var e,t=le(this.subVariantRuleSet);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(this.checkRule(n))return n.subVariantId}}catch(e){t.e(e)}finally{t.f()}return!1}},{key:"checkRule",value:function(e){var t=e.chain,n=e.chain_condition,r=e.type,o=null;switch(r){case"session":o=function(e){ce.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;return"duration"===t?function(e,t){var n=(Date.now()-function(){try{return new Date(parseInt(sessionStorage.getItem(m)))}catch(e){return ce.log("Could not get session timestamp",e),Date.now()}}())/1e3;return B(n,e,parseInt(t))}(n,r):null}(e);break;case"counter":o=function(e){re.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"pageView":return function(e,t){var n=parseInt(oe(h,"session"));return re.log("Page views counter value: ",n),null===n?(re.log("Pageviews counter not found in session storage"),!1):B(n,e,parseInt(t))}(n,r);case"CABasketPrice":return function(e,t){var n=parseInt(oe(y,"local"));return re.log("Coupon applicable basket price counter value: ",n),null===n?(re.log("Coupon applicable basket price counter not found in local storage"),!1):B(n,e,parseInt(t))}(n,r);default:return re.log("No such operator",t),!1}}(e);break;case"element":o=function(e){ae.log("Checking rule",JSON.stringify(e));var t,n=e.operator,r=e.condition,o=e.value,a=e.selector,i=e.selectorAll,c=e.selectorFallback,s=void 0===c?null:c,l=a;if(l&&!document.querySelector(l)&&(l=s||l),null===n)return B(document.querySelector(l),r,o);if(l&&!document.querySelector(l))return ae.log("Selector not found on page"),!1;if(i&&!document.querySelectorAll(i))return ae.log("Selector not found on page"),!1;switch(l?t=document.querySelector(l):i&&(t=Array.from(document.querySelectorAll(i))),n){case"text-number":var u;u=Array.isArray(t)?t.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0):parseInt(document.querySelector(l).textContent.replace("TL","").replace(".",""));var d=parseInt(u);return B(d,r,o);case"classList":return B(Array.from(t.classList),r,o);case"count":var f=Array.isArray(t)?t.length:t?1:0;return B(f,r,o);default:return ae.log("Operator not defined"),!1}}(e);break;case"dataLayer":o=E(e);break;case"url":o=_(e);break;case"function":o=function(e){ie.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if(!t)return ie.log("Rule function not defined"),!1;var o=Function(t)();return B(o,n,r)}(e);break;case"environment":o=function(e){se.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("device_type"===t){var o=window.matchMedia(f).matches?"mobile":"desktop";return B(o,n,r)}}(e);break;default:de.log("No such rule type: ".concat(r))}if(t)switch(n){case"and":o=o&&this.checkRule(t);break;case"or":o=o||this.checkRule(t);break;case"xor":o=o!=this.checkRule(t);break;default:de.log("No such chain condition")}return o}}]),e}(),pe=new I("Nextday Api"),ge=function(){var e=c(l().mark((function e(){var t,n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe.log("Starting product info lookup"),t=z()){e.next=5;break}return pe.log("No sku found"),e.abrupt("return",null);case 5:return(n=new Headers).append("Content-Type","application/json"),e.next=9,fetch("https://catalog-api-ijp1hi4.nw.gateway.dev/catalog",{method:"POST",body:JSON.stringify(t),headers:n});case 9:if((r=e.sent).ok){e.next=13;break}return pe.log("Product info lookup failed"),e.abrupt("return",null);case 13:return e.next=15,r.json();case 15:if(r=e.sent){e.next=19;break}return pe.log("Product info extraction from response failed"),e.abrupt("return",null);case 19:return pe.log("Product info lookup successful"),e.abrupt("return",r);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function he(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}c(l().mark((function t(){var n,r,i;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null,t.prev=1,t.delegateYield(l().mark((function e(){var t,r,i,s,u,d,b,k,S,x,A,C,E,N,L,_,O,T,j,P,D,J,B,V,$,G,z,K;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new I).info("Nextday initiated"),r=ge(),(i=window.location.search).includes("nd_debug=1")?window.localStorage.setItem(w,1):i.includes("nd_debug=2")?window.localStorage.setItem(w,2):i.includes("nd_debug=0")&&window.localStorage.removeItem(w),s=q(document.cookie,"_ga"),t.log("Found cookie identifier: ",s),e.next=9,U(s);case 9:if(u=e.sent,window.localStorage.getItem(w)){e.next=19;break}if(!(u<p)){e.next=16;break}if(-1!==u){e.next=14;break}throw new Error("Could not parse cookie");case 14:throw n=!1,new Error("Control group: no treatments applied");case 16:n=!0,e.next=20;break;case 19:t.info("Debug mode on: all applicable treatments will be applied");case 20:if(document.documentElement.classList.contains("nextDay-hide")){e.next=22;break}throw new Error("Nextday script timed out");case 22:return M(),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,H=h,Y=v,W=g,X=m,ee=sessionStorage.getItem(H),te=sessionStorage.getItem(Y),re=sessionStorage.getItem(W),oe=sessionStorage.getItem(X),ee?sessionStorage.setItem(H,parseInt(ee)+1):sessionStorage.setItem(H,1),null===te&&sessionStorage.setItem(Y,0),re||sessionStorage.setItem(W,crypto.randomUUID()),oe||sessionStorage.setItem(X,Date.now()),setTimeout((function(){R()}),2e3),d=ne.getTreatments(),b=window.matchMedia(f).matches,k={subtree:!0,childList:!0},S=function(){var e=c(l().mark((function e(n){var r,o,i,c,u,d,f,p,g,h,m,v,y,k,S,x;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.id,o=n.actions,i=n.baseRuleSet,c=n.device,u=n.dependant_on_treatment,d=n.reapply_event,f=n.subVariantRuleSet,"mobile"!==c||b){e.next=4;break}return t.log("Treatment device 'mobile' mismatch"),e.abrupt("return");case 4:if("desktop"!==c||!b){e.next=7;break}return t.log("Treatment device 'desktop' mismatch"),e.abrupt("return");case 7:if(!u){e.next=14;break}if(!Object.keys(P).includes(String(u))){e.next=12;break}return t.log("Treatment ".concat(r," skipped due to dependant treatment being skipped")),P[r]={dependant_on_treatment:u,subVariantId:null,actions:o},e.abrupt("return");case 12:e.next=22;break;case 14:return e.next=16,U(s+r,7);case 16:if(p=e.sent,window.localStorage.getItem(w)&&"1"===window.localStorage.getItem(w)&&(p=100),!(p<10)){e.next=22;break}return t.log("Treatment ".concat(r," skipped due to treatment split ratio")),P[r]={dependant_on_treatment:null,subVariantId:null,actions:o},e.abrupt("return");case 22:if(d){g=d,Array.isArray(d)||(g=[d]),t.log("Reapply event '".concat(d,"' found for treatment: ").concat(r)),h=he(g);try{for(h.s();!(m=h.n()).done;)v=m.value,(y=D[v]?D[v]:[]).includes(r)?t.log("Treatment already added for reapply event"):D[v]=[].concat(a(y),[r])}catch(e){h.e(e)}finally{h.f()}}if(k=new fe({baseRuleSet:i,subVariantRuleSet:f}),t.log("Starting base rule set check for treatment: "+r),i&&!k.checkRules()){e.next=37;break}if(f){e.next=30;break}return Q(o,_),j[r]={subVariantId:null,actions:o},e.abrupt("return");case 30:return t.log("Starting sub variant rule set check for treatment: "+r),S=k.checkSubVariantRules(),x=o,S?(t.log("Applying sub variant with id: ",S),x=F(o,S)):t.log("Applying treatment with default values"),Q(x,_),j[r]={subVariantId:S,actions:x},e.abrupt("return");case 37:t.log("Rule check failed for treatment: ",r);case 38:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(x=function(){var e=y;if(window.location.href.includes("/siparis-listesi.html")){var n=Array.from(document.querySelectorAll(".price"));if(n.push.apply(n,a(Array.from(document.querySelectorAll(".new-price")))),!n.length)return t.log("Price elements not found"),void window.localStorage.setItem(e,0);t.log("Price elements: ",n);var r=n.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0);t.log("Coupon applicable total price: ",r),r>=0&&window.localStorage.setItem(e,r)}else(window.location.href.includes("/siparis-ozeti.html")||null===window.localStorage.getItem(e))&&window.localStorage.setItem(e,0)})(),window.location.href.includes("/siparis-listesi.html")&&(A=new MutationObserver((function(){t.log("Mutation observed, calling collectCABasketPrice"),x()})),(C=document.querySelector("#checkoutForm"))&&A.observe(C,k)),e.next=34,Promise.all([d,r]);case 34:if(E=e.sent,N=o(E,2),L=N[0],_=N[1],t.log("Found treatments: ",L),t.log("Found cookie percentage: ",u),t.log("Split_ratio: ",p),t.log("cookiePct < SPLIT_RATIO",u<p),t.info("Control group ratio: ".concat(p,"%")),O=new ne({treatments:L,cookiePct:u}),(T=O.getMatchedTreatments()).length){e.next=50;break}return t.log("No treatments matched, returning without further action"),R(),Z.sendEmptyLog("No treatments matched",n),e.abrupt("return",{v:void 0});case 50:j={},P={},D={},J=he(T),e.prev=54,J.s();case 56:if((B=J.n()).done){e.next=68;break}return V=B.value,e.prev=58,e.next=61,S(V);case 61:e.next=66;break;case 63:e.prev=63,e.t0=e.catch(58),t.log("Error executing rules",e.t0);case 66:e.next=56;break;case 68:e.next=73;break;case 70:e.prev=70,e.t1=e.catch(54),J.e(e.t1);case 73:return e.prev=73,J.f(),e.finish(73);case 76:for(t.info("Treatments applied"),R(),t.log("Applied treatments: ",j),($=new Z(j,P)).sendLogs(n),setInterval((function(){$.updateLatestChanges(j,P)}),1e3),G=function(){var e=K[z],n=D[e],r=T.filter((function(e){return n.includes(e.id)}));switch(e){case"infinite_scroll":var o=new ResizeObserver((function(){var e,n=he(r);try{for(n.s();!(e=n.n()).done;){var o=e.value;t.log("Retrying treatment ".concat(o.id," from infinite_scroll")),S(o)}}catch(e){n.e(e)}finally{n.f()}}));o.observe(document.documentElement);break;case"timeout":setTimeout((function(){var e,n=he(r);try{for(n.s();!(e=n.n()).done;){var o=e.value;t.log("Retrying treatment ".concat(o.id," from timeout")),S(o)}}catch(e){n.e(e)}finally{n.f()}}),500);break;case"element_change":var a,i=he(r);try{var c=function(){var e,n=a.value,r=he(Array.isArray(n.reapply_selector)?n.reapply_selector:[n.reapply_selector]);try{for(r.s();!(e=r.n()).done;){var o=e.value,i=document.querySelector(o);i&&new MutationObserver((function(){t.log("Retrying treatment ".concat(n.id," from element_change")),S(n)})).observe(i,k)}}catch(e){r.e(e)}finally{r.f()}};for(i.s();!(a=i.n()).done;)c()}catch(e){i.e(e)}finally{i.f()}break;case"on_scroll":window.onscroll=function(){var e,n=he(r);try{for(n.s();!(e=n.n()).done;){var o=e.value;t.log("Retrying treatment ".concat(o.id," from on_scroll")),S(o)}}catch(e){n.e(e)}finally{n.f()}};break;default:t.log("Reapply event not found: ",e)}},z=0,K=Object.keys(D);z<K.length;z++)G();case 84:case"end":return e.stop()}var H,Y,W,X,ee,te,re,oe}),e,null,[[54,70,73,76],[58,63]])}))(),"t0",3);case 3:if("object"!==e(r=t.t0)){t.next=6;break}return t.abrupt("return",r.v);case 6:t.next=15;break;case 8:t.prev=8,t.t1=t.catch(1),R(),console.warn("Nextday: ",t.t1.message),i=t.t1.message,"Could not parse cookie"!==t.t1.message&&"Control group: no treatments applied"!==t.t1.message&&(i="Error when applying treatments: ".concat(t.t1.message)),Z.sendEmptyLog(i,n);case 15:case"end":return t.stop()}}),t,null,[[1,8]])})))()}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJ1Q0FBQUEsRUFBT0MsUUFBVSxFQUFqQixNLGdCQ09BLElBQUlDLEVBQVcsU0FBVUQsR0FDdkIsYUFFQSxJQUVJRSxFQUZBQyxFQUFLQyxPQUFPQyxVQUNaQyxFQUFTSCxFQUFHSSxlQUVaQyxFQUE0QixtQkFBWEMsT0FBd0JBLE9BQVMsR0FDbERDLEVBQWlCRixFQUFRRyxVQUFZLGFBQ3JDQyxFQUFzQkosRUFBUUssZUFBaUIsa0JBQy9DQyxFQUFvQk4sRUFBUU8sYUFBZSxnQkFFL0MsU0FBU0MsRUFBT0MsRUFBS0MsRUFBS0MsR0FPeEIsT0FOQWYsT0FBT2dCLGVBQWVILEVBQUtDLEVBQUssQ0FDOUJDLE1BQU9BLEVBQ1BFLFlBQVksRUFDWkMsY0FBYyxFQUNkQyxVQUFVLElBRUxOLEVBQUlDLEdBRWIsSUFFRUYsRUFBTyxHQUFJLElBQ1gsTUFBT1EsR0FDUFIsRUFBUyxTQUFTQyxFQUFLQyxFQUFLQyxHQUMxQixPQUFPRixFQUFJQyxHQUFPQyxHQUl0QixTQUFTTSxFQUFLQyxFQUFTQyxFQUFTQyxFQUFNQyxHQUVwQyxJQUFJQyxFQUFpQkgsR0FBV0EsRUFBUXRCLHFCQUFxQjBCLEVBQVlKLEVBQVVJLEVBQy9FQyxFQUFZNUIsT0FBTzZCLE9BQU9ILEVBQWV6QixXQUN6QzZCLEVBQVUsSUFBSUMsRUFBUU4sR0FBZSxJQU16QyxPQUZBRyxFQUFVSSxRQXVNWixTQUEwQlYsRUFBU0UsRUFBTU0sR0FDdkMsSUFBSUcsRUFBUUMsRUFFWixPQUFPLFNBQWdCQyxFQUFRQyxHQUM3QixHQUFJSCxJQUFVSSxFQUNaLE1BQU0sSUFBSUMsTUFBTSxnQ0FHbEIsR0FBSUwsSUFBVU0sRUFBbUIsQ0FDL0IsR0FBZSxVQUFYSixFQUNGLE1BQU1DLEVBS1IsT0FBT0ksSUFNVCxJQUhBVixFQUFRSyxPQUFTQSxFQUNqQkwsRUFBUU0sSUFBTUEsSUFFRCxDQUNYLElBQUlLLEVBQVdYLEVBQVFXLFNBQ3ZCLEdBQUlBLEVBQVUsQ0FDWixJQUFJQyxFQUFpQkMsRUFBb0JGLEVBQVVYLEdBQ25ELEdBQUlZLEVBQWdCLENBQ2xCLEdBQUlBLElBQW1CRSxFQUFrQixTQUN6QyxPQUFPRixHQUlYLEdBQXVCLFNBQW5CWixFQUFRSyxPQUdWTCxFQUFRZSxLQUFPZixFQUFRZ0IsTUFBUWhCLEVBQVFNLFNBRWxDLEdBQXVCLFVBQW5CTixFQUFRSyxPQUFvQixDQUNyQyxHQUFJRixJQUFVQyxFQUVaLE1BREFELEVBQVFNLEVBQ0ZULEVBQVFNLElBR2hCTixFQUFRaUIsa0JBQWtCakIsRUFBUU0sU0FFTixXQUFuQk4sRUFBUUssUUFDakJMLEVBQVFrQixPQUFPLFNBQVVsQixFQUFRTSxLQUduQ0gsRUFBUUksRUFFUixJQUFJWSxFQUFTQyxFQUFTNUIsRUFBU0UsRUFBTU0sR0FDckMsR0FBb0IsV0FBaEJtQixFQUFPRSxLQUFtQixDQU81QixHQUpBbEIsRUFBUUgsRUFBUXNCLEtBQ1piLEVBQ0FjLEVBRUFKLEVBQU9iLE1BQVFRLEVBQ2pCLFNBR0YsTUFBTyxDQUNMN0IsTUFBT2tDLEVBQU9iLElBQ2RnQixLQUFNdEIsRUFBUXNCLE1BR1MsVUFBaEJILEVBQU9FLE9BQ2hCbEIsRUFBUU0sRUFHUlQsRUFBUUssT0FBUyxRQUNqQkwsRUFBUU0sSUFBTWEsRUFBT2IsT0EvUVBrQixDQUFpQmhDLEVBQVNFLEVBQU1NLEdBRTdDRixFQWNULFNBQVNzQixFQUFTSyxFQUFJMUMsRUFBS3VCLEdBQ3pCLElBQ0UsTUFBTyxDQUFFZSxLQUFNLFNBQVVmLElBQUttQixFQUFHQyxLQUFLM0MsRUFBS3VCLElBQzNDLE1BQU9oQixHQUNQLE1BQU8sQ0FBRStCLEtBQU0sUUFBU2YsSUFBS2hCLElBaEJqQ3hCLEVBQVF5QixLQUFPQSxFQW9CZixJQUFJYSxFQUF5QixpQkFDekJtQixFQUF5QixpQkFDekJoQixFQUFvQixZQUNwQkUsRUFBb0IsWUFJcEJLLEVBQW1CLEdBTXZCLFNBQVNqQixLQUNULFNBQVM4QixLQUNULFNBQVNDLEtBSVQsSUFBSUMsRUFBb0IsR0FDeEIvQyxFQUFPK0MsRUFBbUJyRCxHQUFnQixXQUN4QyxPQUFPc0QsUUFHVCxJQUFJQyxFQUFXN0QsT0FBTzhELGVBQ2xCQyxFQUEwQkYsR0FBWUEsRUFBU0EsRUFBU0csRUFBTyxNQUMvREQsR0FDQUEsSUFBNEJoRSxHQUM1QkcsRUFBT3NELEtBQUtPLEVBQXlCekQsS0FHdkNxRCxFQUFvQkksR0FHdEIsSUFBSUUsRUFBS1AsRUFBMkJ6RCxVQUNsQzBCLEVBQVUxQixVQUFZRCxPQUFPNkIsT0FBTzhCLEdBWXRDLFNBQVNPLEVBQXNCakUsR0FDN0IsQ0FBQyxPQUFRLFFBQVMsVUFBVWtFLFNBQVEsU0FBU2hDLEdBQzNDdkIsRUFBT1gsRUFBV2tDLEdBQVEsU0FBU0MsR0FDakMsT0FBT3dCLEtBQUs1QixRQUFRRyxFQUFRQyxTQWtDbEMsU0FBU2dDLEVBQWN4QyxFQUFXeUMsR0FDaEMsU0FBU0MsRUFBT25DLEVBQVFDLEVBQUttQyxFQUFTQyxHQUNwQyxJQUFJdkIsRUFBU0MsRUFBU3RCLEVBQVVPLEdBQVNQLEVBQVdRLEdBQ3BELEdBQW9CLFVBQWhCYSxFQUFPRSxLQUVKLENBQ0wsSUFBSXNCLEVBQVN4QixFQUFPYixJQUNoQnJCLEVBQVEwRCxFQUFPMUQsTUFDbkIsT0FBSUEsR0FDaUIsaUJBQVZBLEdBQ1BiLEVBQU9zRCxLQUFLekMsRUFBTyxXQUNkc0QsRUFBWUUsUUFBUXhELEVBQU0yRCxTQUFTQyxNQUFLLFNBQVM1RCxHQUN0RHVELEVBQU8sT0FBUXZELEVBQU93RCxFQUFTQyxNQUM5QixTQUFTcEQsR0FDVmtELEVBQU8sUUFBU2xELEVBQUttRCxFQUFTQyxNQUkzQkgsRUFBWUUsUUFBUXhELEdBQU80RCxNQUFLLFNBQVNDLEdBSTlDSCxFQUFPMUQsTUFBUTZELEVBQ2ZMLEVBQVFFLE1BQ1AsU0FBU0ksR0FHVixPQUFPUCxFQUFPLFFBQVNPLEVBQU9OLEVBQVNDLE1BdkJ6Q0EsRUFBT3ZCLEVBQU9iLEtBNEJsQixJQUFJMEMsRUFnQ0psQixLQUFLNUIsUUE5QkwsU0FBaUJHLEVBQVFDLEdBQ3ZCLFNBQVMyQyxJQUNQLE9BQU8sSUFBSVYsR0FBWSxTQUFTRSxFQUFTQyxHQUN2Q0YsRUFBT25DLEVBQVFDLEVBQUttQyxFQUFTQyxNQUlqQyxPQUFPTSxFQWFMQSxFQUFrQkEsRUFBZ0JILEtBQ2hDSSxFQUdBQSxHQUNFQSxLQWtIVixTQUFTcEMsRUFBb0JGLEVBQVVYLEdBQ3JDLElBQUlLLEVBQVNNLEVBQVNsQyxTQUFTdUIsRUFBUUssUUFDdkMsR0FBSUEsSUFBV3JDLEVBQVcsQ0FLeEIsR0FGQWdDLEVBQVFXLFNBQVcsS0FFSSxVQUFuQlgsRUFBUUssT0FBb0IsQ0FFOUIsR0FBSU0sRUFBU2xDLFNBQWlCLFNBRzVCdUIsRUFBUUssT0FBUyxTQUNqQkwsRUFBUU0sSUFBTXRDLEVBQ2Q2QyxFQUFvQkYsRUFBVVgsR0FFUCxVQUFuQkEsRUFBUUssUUFHVixPQUFPUyxFQUlYZCxFQUFRSyxPQUFTLFFBQ2pCTCxFQUFRTSxJQUFNLElBQUk0QyxVQUNoQixrREFHSixPQUFPcEMsRUFHVCxJQUFJSyxFQUFTQyxFQUFTZixFQUFRTSxFQUFTbEMsU0FBVXVCLEVBQVFNLEtBRXpELEdBQW9CLFVBQWhCYSxFQUFPRSxLQUlULE9BSEFyQixFQUFRSyxPQUFTLFFBQ2pCTCxFQUFRTSxJQUFNYSxFQUFPYixJQUNyQk4sRUFBUVcsU0FBVyxLQUNaRyxFQUdULElBQUlxQyxFQUFPaEMsRUFBT2IsSUFFbEIsT0FBTTZDLEVBT0ZBLEVBQUs3QixNQUdQdEIsRUFBUVcsRUFBU3lDLFlBQWNELEVBQUtsRSxNQUdwQ2UsRUFBUXFELEtBQU8xQyxFQUFTMkMsUUFRRCxXQUFuQnRELEVBQVFLLFNBQ1ZMLEVBQVFLLE9BQVMsT0FDakJMLEVBQVFNLElBQU10QyxHQVVsQmdDLEVBQVFXLFNBQVcsS0FDWkcsR0FORXFDLEdBM0JQbkQsRUFBUUssT0FBUyxRQUNqQkwsRUFBUU0sSUFBTSxJQUFJNEMsVUFBVSxvQ0FDNUJsRCxFQUFRVyxTQUFXLEtBQ1pHLEdBb0RYLFNBQVN5QyxFQUFhQyxHQUNwQixJQUFJQyxFQUFRLENBQUVDLE9BQVFGLEVBQUssSUFFdkIsS0FBS0EsSUFDUEMsRUFBTUUsU0FBV0gsRUFBSyxJQUdwQixLQUFLQSxJQUNQQyxFQUFNRyxXQUFhSixFQUFLLEdBQ3hCQyxFQUFNSSxTQUFXTCxFQUFLLElBR3hCMUIsS0FBS2dDLFdBQVdDLEtBQUtOLEdBR3ZCLFNBQVNPLEVBQWNQLEdBQ3JCLElBQUl0QyxFQUFTc0MsRUFBTVEsWUFBYyxHQUNqQzlDLEVBQU9FLEtBQU8sZ0JBQ1BGLEVBQU9iLElBQ2RtRCxFQUFNUSxXQUFhOUMsRUFHckIsU0FBU2xCLEVBQVFOLEdBSWZtQyxLQUFLZ0MsV0FBYSxDQUFDLENBQUVKLE9BQVEsU0FDN0IvRCxFQUFZMEMsUUFBUWtCLEVBQWN6QixNQUNsQ0EsS0FBS29DLE9BQU0sR0E4QmIsU0FBU2hDLEVBQU9pQyxHQUNkLEdBQUlBLEVBQVUsQ0FDWixJQUFJQyxFQUFpQkQsRUFBUzNGLEdBQzlCLEdBQUk0RixFQUNGLE9BQU9BLEVBQWUxQyxLQUFLeUMsR0FHN0IsR0FBNkIsbUJBQWxCQSxFQUFTZCxLQUNsQixPQUFPYyxFQUdULElBQUtFLE1BQU1GLEVBQVNHLFFBQVMsQ0FDM0IsSUFBSUMsR0FBSyxFQUFHbEIsRUFBTyxTQUFTQSxJQUMxQixPQUFTa0IsRUFBSUosRUFBU0csUUFDcEIsR0FBSWxHLEVBQU9zRCxLQUFLeUMsRUFBVUksR0FHeEIsT0FGQWxCLEVBQUtwRSxNQUFRa0YsRUFBU0ksR0FDdEJsQixFQUFLL0IsTUFBTyxFQUNMK0IsRUFPWCxPQUhBQSxFQUFLcEUsTUFBUWpCLEVBQ2JxRixFQUFLL0IsTUFBTyxFQUVMK0IsR0FHVCxPQUFPQSxFQUFLQSxLQUFPQSxHQUt2QixNQUFPLENBQUVBLEtBQU0zQyxHQUlqQixTQUFTQSxJQUNQLE1BQU8sQ0FBRXpCLE1BQU9qQixFQUFXc0QsTUFBTSxHQStNbkMsT0E3bUJBSyxFQUFrQnhELFVBQVl5RCxFQUM5QjlDLEVBQU9xRCxFQUFJLGNBQWVQLEdBQzFCOUMsRUFBTzhDLEVBQTRCLGNBQWVELEdBQ2xEQSxFQUFrQjZDLFlBQWMxRixFQUM5QjhDLEVBQ0FoRCxFQUNBLHFCQWFGZCxFQUFRMkcsb0JBQXNCLFNBQVNDLEdBQ3JDLElBQUlDLEVBQXlCLG1CQUFYRCxHQUF5QkEsRUFBT0UsWUFDbEQsUUFBT0QsSUFDSEEsSUFBU2hELEdBRzJCLHVCQUFuQ2dELEVBQUtILGFBQWVHLEVBQUtFLFFBSWhDL0csRUFBUWdILEtBQU8sU0FBU0osR0FRdEIsT0FQSXhHLE9BQU82RyxlQUNUN0csT0FBTzZHLGVBQWVMLEVBQVE5QyxJQUU5QjhDLEVBQU9NLFVBQVlwRCxFQUNuQjlDLEVBQU80RixFQUFROUYsRUFBbUIsc0JBRXBDOEYsRUFBT3ZHLFVBQVlELE9BQU82QixPQUFPb0MsR0FDMUJ1QyxHQU9UNUcsRUFBUW1ILE1BQVEsU0FBUzNFLEdBQ3ZCLE1BQU8sQ0FBRXNDLFFBQVN0QyxJQXNFcEI4QixFQUFzQkUsRUFBY25FLFdBQ3BDVyxFQUFPd0QsRUFBY25FLFVBQVdPLEdBQXFCLFdBQ25ELE9BQU9vRCxRQUVUaEUsRUFBUXdFLGNBQWdCQSxFQUt4QnhFLEVBQVFvSCxNQUFRLFNBQVMxRixFQUFTQyxFQUFTQyxFQUFNQyxFQUFhNEMsUUFDeEMsSUFBaEJBLElBQXdCQSxFQUFjNEMsU0FFMUMsSUFBSUMsRUFBTyxJQUFJOUMsRUFDYi9DLEVBQUtDLEVBQVNDLEVBQVNDLEVBQU1DLEdBQzdCNEMsR0FHRixPQUFPekUsRUFBUTJHLG9CQUFvQmhGLEdBQy9CMkYsRUFDQUEsRUFBSy9CLE9BQU9SLE1BQUssU0FBU0YsR0FDeEIsT0FBT0EsRUFBT3JCLEtBQU9xQixFQUFPMUQsTUFBUW1HLEVBQUsvQixXQXVLakRqQixFQUFzQkQsR0FFdEJyRCxFQUFPcUQsRUFBSXZELEVBQW1CLGFBTzlCRSxFQUFPcUQsRUFBSTNELEdBQWdCLFdBQ3pCLE9BQU9zRCxRQUdUaEQsRUFBT3FELEVBQUksWUFBWSxXQUNyQixNQUFPLHdCQWtDVHJFLEVBQVF1SCxLQUFPLFNBQVNDLEdBQ3RCLElBQUlELEVBQU8sR0FDWCxJQUFLLElBQUlyRyxLQUFPc0csRUFDZEQsRUFBS3RCLEtBQUsvRSxHQU1aLE9BSkFxRyxFQUFLRSxVQUlFLFNBQVNsQyxJQUNkLEtBQU9nQyxFQUFLZixRQUFRLENBQ2xCLElBQUl0RixFQUFNcUcsRUFBS0csTUFDZixHQUFJeEcsS0FBT3NHLEVBR1QsT0FGQWpDLEVBQUtwRSxNQUFRRCxFQUNicUUsRUFBSy9CLE1BQU8sRUFDTCtCLEVBUVgsT0FEQUEsRUFBSy9CLE1BQU8sRUFDTCtCLElBc0NYdkYsRUFBUW9FLE9BQVNBLEVBTWpCakMsRUFBUTlCLFVBQVksQ0FDbEJ5RyxZQUFhM0UsRUFFYmlFLE1BQU8sU0FBU3VCLEdBY2QsR0FiQTNELEtBQUs0RCxLQUFPLEVBQ1o1RCxLQUFLdUIsS0FBTyxFQUdadkIsS0FBS2YsS0FBT2UsS0FBS2QsTUFBUWhELEVBQ3pCOEQsS0FBS1IsTUFBTyxFQUNaUSxLQUFLbkIsU0FBVyxLQUVoQm1CLEtBQUt6QixPQUFTLE9BQ2R5QixLQUFLeEIsSUFBTXRDLEVBRVg4RCxLQUFLZ0MsV0FBV3pCLFFBQVEyQixJQUVuQnlCLEVBQ0gsSUFBSyxJQUFJWixLQUFRL0MsS0FFUSxNQUFuQitDLEVBQUtjLE9BQU8sSUFDWnZILEVBQU9zRCxLQUFLSSxLQUFNK0MsS0FDakJSLE9BQU9RLEVBQUtlLE1BQU0sTUFDckI5RCxLQUFLK0MsR0FBUTdHLElBTXJCNkgsS0FBTSxXQUNKL0QsS0FBS1IsTUFBTyxFQUVaLElBQ0l3RSxFQURZaEUsS0FBS2dDLFdBQVcsR0FDTEcsV0FDM0IsR0FBd0IsVUFBcEI2QixFQUFXekUsS0FDYixNQUFNeUUsRUFBV3hGLElBR25CLE9BQU93QixLQUFLaUUsTUFHZDlFLGtCQUFtQixTQUFTK0UsR0FDMUIsR0FBSWxFLEtBQUtSLEtBQ1AsTUFBTTBFLEVBR1IsSUFBSWhHLEVBQVU4QixLQUNkLFNBQVNtRSxFQUFPQyxFQUFLQyxHQVluQixPQVhBaEYsRUFBT0UsS0FBTyxRQUNkRixFQUFPYixJQUFNMEYsRUFDYmhHLEVBQVFxRCxLQUFPNkMsRUFFWEMsSUFHRm5HLEVBQVFLLE9BQVMsT0FDakJMLEVBQVFNLElBQU10QyxLQUdObUksRUFHWixJQUFLLElBQUk1QixFQUFJekMsS0FBS2dDLFdBQVdRLE9BQVMsRUFBR0MsR0FBSyxJQUFLQSxFQUFHLENBQ3BELElBQUlkLEVBQVEzQixLQUFLZ0MsV0FBV1MsR0FDeEJwRCxFQUFTc0MsRUFBTVEsV0FFbkIsR0FBcUIsU0FBakJSLEVBQU1DLE9BSVIsT0FBT3VDLEVBQU8sT0FHaEIsR0FBSXhDLEVBQU1DLFFBQVU1QixLQUFLNEQsS0FBTSxDQUM3QixJQUFJVSxFQUFXaEksRUFBT3NELEtBQUsrQixFQUFPLFlBQzlCNEMsRUFBYWpJLEVBQU9zRCxLQUFLK0IsRUFBTyxjQUVwQyxHQUFJMkMsR0FBWUMsRUFBWSxDQUMxQixHQUFJdkUsS0FBSzRELEtBQU9qQyxFQUFNRSxTQUNwQixPQUFPc0MsRUFBT3hDLEVBQU1FLFVBQVUsR0FDekIsR0FBSTdCLEtBQUs0RCxLQUFPakMsRUFBTUcsV0FDM0IsT0FBT3FDLEVBQU94QyxFQUFNRyxpQkFHakIsR0FBSXdDLEdBQ1QsR0FBSXRFLEtBQUs0RCxLQUFPakMsRUFBTUUsU0FDcEIsT0FBT3NDLEVBQU94QyxFQUFNRSxVQUFVLE9BRzNCLEtBQUkwQyxFQU1ULE1BQU0sSUFBSTdGLE1BQU0sMENBTGhCLEdBQUlzQixLQUFLNEQsS0FBT2pDLEVBQU1HLFdBQ3BCLE9BQU9xQyxFQUFPeEMsRUFBTUcsZ0JBVTlCMUMsT0FBUSxTQUFTRyxFQUFNZixHQUNyQixJQUFLLElBQUlpRSxFQUFJekMsS0FBS2dDLFdBQVdRLE9BQVMsRUFBR0MsR0FBSyxJQUFLQSxFQUFHLENBQ3BELElBQUlkLEVBQVEzQixLQUFLZ0MsV0FBV1MsR0FDNUIsR0FBSWQsRUFBTUMsUUFBVTVCLEtBQUs0RCxNQUNyQnRILEVBQU9zRCxLQUFLK0IsRUFBTyxlQUNuQjNCLEtBQUs0RCxLQUFPakMsRUFBTUcsV0FBWSxDQUNoQyxJQUFJMEMsRUFBZTdDLEVBQ25CLE9BSUE2QyxJQUNVLFVBQVRqRixHQUNTLGFBQVRBLElBQ0RpRixFQUFhNUMsUUFBVXBELEdBQ3ZCQSxHQUFPZ0csRUFBYTFDLGFBR3RCMEMsRUFBZSxNQUdqQixJQUFJbkYsRUFBU21GLEVBQWVBLEVBQWFyQyxXQUFhLEdBSXRELE9BSEE5QyxFQUFPRSxLQUFPQSxFQUNkRixFQUFPYixJQUFNQSxFQUVUZ0csR0FDRnhFLEtBQUt6QixPQUFTLE9BQ2R5QixLQUFLdUIsS0FBT2lELEVBQWExQyxXQUNsQjlDLEdBR0ZnQixLQUFLeUUsU0FBU3BGLElBR3ZCb0YsU0FBVSxTQUFTcEYsRUFBUTBDLEdBQ3pCLEdBQW9CLFVBQWhCMUMsRUFBT0UsS0FDVCxNQUFNRixFQUFPYixJQWNmLE1BWG9CLFVBQWhCYSxFQUFPRSxNQUNTLGFBQWhCRixFQUFPRSxLQUNUUyxLQUFLdUIsS0FBT2xDLEVBQU9iLElBQ00sV0FBaEJhLEVBQU9FLE1BQ2hCUyxLQUFLaUUsS0FBT2pFLEtBQUt4QixJQUFNYSxFQUFPYixJQUM5QndCLEtBQUt6QixPQUFTLFNBQ2R5QixLQUFLdUIsS0FBTyxPQUNhLFdBQWhCbEMsRUFBT0UsTUFBcUJ3QyxJQUNyQy9CLEtBQUt1QixLQUFPUSxHQUdQL0MsR0FHVDBGLE9BQVEsU0FBUzVDLEdBQ2YsSUFBSyxJQUFJVyxFQUFJekMsS0FBS2dDLFdBQVdRLE9BQVMsRUFBR0MsR0FBSyxJQUFLQSxFQUFHLENBQ3BELElBQUlkLEVBQVEzQixLQUFLZ0MsV0FBV1MsR0FDNUIsR0FBSWQsRUFBTUcsYUFBZUEsRUFHdkIsT0FGQTlCLEtBQUt5RSxTQUFTOUMsRUFBTVEsV0FBWVIsRUFBTUksVUFDdENHLEVBQWNQLEdBQ1AzQyxJQUtiLE1BQVMsU0FBUzRDLEdBQ2hCLElBQUssSUFBSWEsRUFBSXpDLEtBQUtnQyxXQUFXUSxPQUFTLEVBQUdDLEdBQUssSUFBS0EsRUFBRyxDQUNwRCxJQUFJZCxFQUFRM0IsS0FBS2dDLFdBQVdTLEdBQzVCLEdBQUlkLEVBQU1DLFNBQVdBLEVBQVEsQ0FDM0IsSUFBSXZDLEVBQVNzQyxFQUFNUSxXQUNuQixHQUFvQixVQUFoQjlDLEVBQU9FLEtBQWtCLENBQzNCLElBQUlvRixFQUFTdEYsRUFBT2IsSUFDcEIwRCxFQUFjUCxHQUVoQixPQUFPZ0QsR0FNWCxNQUFNLElBQUlqRyxNQUFNLDBCQUdsQmtHLGNBQWUsU0FBU3ZDLEVBQVVmLEVBQVlFLEdBYTVDLE9BWkF4QixLQUFLbkIsU0FBVyxDQUNkbEMsU0FBVXlELEVBQU9pQyxHQUNqQmYsV0FBWUEsRUFDWkUsUUFBU0EsR0FHUyxTQUFoQnhCLEtBQUt6QixTQUdQeUIsS0FBS3hCLElBQU10QyxHQUdOOEMsSUFRSmhELEVBOXNCSyxDQXF0QmlCRCxFQUFPQyxTQUd0QyxJQUNFNkksbUJBQXFCNUksRUFDckIsTUFBTzZJLEdBV21CLGlCQUFmQyxXQUNUQSxXQUFXRixtQkFBcUI1SSxFQUVoQytJLFNBQVMsSUFBSyx5QkFBZEEsQ0FBd0MvSSxNQzl1QnhDZ0osRUFBMkIsR0FHL0IsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQmpKLElBQWpCa0osRUFDSCxPQUFPQSxFQUFhcEosUUFHckIsSUFBSUQsRUFBU2tKLEVBQXlCRSxHQUFZLENBR2pEbkosUUFBUyxJQU9WLE9BSEFxSixFQUFvQkYsR0FBVXBKLEVBQVFBLEVBQU9DLFFBQVNrSixHQUcvQ25KLEVBQU9DLFFDcEJma0osRUFBb0JJLEVBQUksU0FBU3ZKLEdBQ2hDLElBQUl3SixFQUFTeEosR0FBVUEsRUFBT3lKLFdBQzdCLFdBQWEsT0FBT3pKLEVBQWdCLFNBQ3BDLFdBQWEsT0FBT0EsR0FFckIsT0FEQW1KLEVBQW9CTyxFQUFFRixFQUFRLENBQUVHLEVBQUdILElBQzVCQSxHQ0xSTCxFQUFvQk8sRUFBSSxTQUFTekosRUFBUzJKLEdBQ3pDLElBQUksSUFBSXpJLEtBQU95SSxFQUNYVCxFQUFvQlUsRUFBRUQsRUFBWXpJLEtBQVNnSSxFQUFvQlUsRUFBRTVKLEVBQVNrQixJQUM1RWQsT0FBT2dCLGVBQWVwQixFQUFTa0IsRUFBSyxDQUFFRyxZQUFZLEVBQU13SSxJQUFLRixFQUFXekksTUNKM0VnSSxFQUFvQlUsRUFBSSxTQUFTM0ksRUFBSzZJLEdBQVEsT0FBTzFKLE9BQU9DLFVBQVVFLGVBQWVxRCxLQUFLM0MsRUFBSzZJLEksd0JDQWhGLFNBQVNDLEVBQVE5SSxHQUc5QixPQUFPOEksRUFBVSxtQkFBcUJ0SixRQUFVLGlCQUFtQkEsT0FBT0UsU0FBVyxTQUFVTSxHQUM3RixjQUFjQSxHQUNaLFNBQVVBLEdBQ1osT0FBT0EsR0FBTyxtQkFBcUJSLFFBQVVRLEVBQUk2RixjQUFnQnJHLFFBQVVRLElBQVFSLE9BQU9KLFVBQVksZ0JBQWtCWSxHQUN2SDhJLEVBQVE5SSxHQ1BFLFNBQVMrSSxFQUFrQkMsRUFBS0MsSUFDbEMsTUFBUEEsR0FBZUEsRUFBTUQsRUFBSXpELFVBQVEwRCxFQUFNRCxFQUFJekQsUUFFL0MsSUFBSyxJQUFJQyxFQUFJLEVBQUcwRCxFQUFPLElBQUlDLE1BQU1GLEdBQU16RCxFQUFJeUQsRUFBS3pELElBQzlDMEQsRUFBSzFELEdBQUt3RCxFQUFJeEQsR0FHaEIsT0FBTzBELEVDTk0sU0FBU0UsRUFBNEJULEVBQUdVLEdBQ3JELEdBQUtWLEVBQUwsQ0FDQSxHQUFpQixpQkFBTkEsRUFBZ0IsT0FBTyxFQUFpQkEsRUFBR1UsR0FDdEQsSUFBSWhCLEVBQUlsSixPQUFPQyxVQUFVa0ssU0FBUzNHLEtBQUtnRyxHQUFHOUIsTUFBTSxHQUFJLEdBRXBELE1BRFUsV0FBTndCLEdBQWtCTSxFQUFFOUMsY0FBYXdDLEVBQUlNLEVBQUU5QyxZQUFZQyxNQUM3QyxRQUFOdUMsR0FBcUIsUUFBTkEsRUFBb0JjLE1BQU1JLEtBQUtaLEdBQ3hDLGNBQU5OLEdBQXFCLDJDQUEyQ21CLEtBQUtuQixHQUFXLEVBQWlCTSxFQUFHVSxRQUF4RyxHQ0hhLFNBQVNJLEVBQWVULEVBQUt4RCxHQUMxQyxPQ0xhLFNBQXlCd0QsR0FDdEMsR0FBSUcsTUFBTU8sUUFBUVYsR0FBTSxPQUFPQSxFREl4QixDQUFlQSxJRUxULFNBQStCQSxFQUFLeEQsR0FDakQsSUFBSW1FLEVBQVksTUFBUFgsRUFBYyxLQUF5QixvQkFBWHhKLFFBQTBCd0osRUFBSXhKLE9BQU9FLFdBQWFzSixFQUFJLGNBRTNGLEdBQVUsTUFBTlcsRUFBSixDQUNBLElBSUlDLEVBQUlDLEVBSkpDLEVBQU8sR0FDUEMsR0FBSyxFQUNMQyxHQUFLLEVBSVQsSUFDRSxJQUFLTCxFQUFLQSxFQUFHaEgsS0FBS3FHLEtBQVFlLEdBQU1ILEVBQUtELEVBQUdyRixRQUFRL0IsUUFDOUN1SCxFQUFLOUUsS0FBSzRFLEVBQUcxSixRQUVUc0YsR0FBS3NFLEVBQUt2RSxTQUFXQyxHQUg0QnVFLEdBQUssSUFLNUQsTUFBT3hKLEdBQ1B5SixHQUFLLEVBQ0xILEVBQUt0SixFQUNMLFFBQ0EsSUFDT3dKLEdBQXNCLE1BQWhCSixFQUFXLFFBQVdBLEVBQVcsU0FDNUMsUUFDQSxHQUFJSyxFQUFJLE1BQU1ILEdBSWxCLE9BQU9DLEdGdEJ1QixDQUFxQmQsRUFBS3hELElBQU0sRUFBMkJ3RCxFQUFLeEQsSUdMakYsV0FDYixNQUFNLElBQUlyQixVQUFVLDZJSElnRixHSUR2RixTQUFTOEYsRUFBbUJqQixHQUN6QyxPQ0phLFNBQTRCQSxHQUN6QyxHQUFJRyxNQUFNTyxRQUFRVixHQUFNLE9BQU8sRUFBaUJBLEdER3pDLENBQWtCQSxJRUxaLFNBQTBCM0MsR0FDdkMsR0FBc0Isb0JBQVg3RyxRQUFtRCxNQUF6QjZHLEVBQUs3RyxPQUFPRSxXQUEyQyxNQUF0QjJHLEVBQUssY0FBdUIsT0FBTzhDLE1BQU1JLEtBQUtsRCxHRkluRixDQUFnQjJDLElBQVEsRUFBMkJBLElHTHZFLFdBQ2IsTUFBTSxJQUFJN0UsVUFBVSx3SUhJd0UsR0lMOUYsU0FBUytGLEVBQW1CQyxFQUFLekcsRUFBU0MsRUFBUXlHLEVBQU9DLEVBQVFwSyxFQUFLc0IsR0FDcEUsSUFDRSxJQUFJNkMsRUFBTytGLEVBQUlsSyxHQUFLc0IsR0FDaEJyQixFQUFRa0UsRUFBS2xFLE1BQ2pCLE1BQU84RCxHQUVQLFlBREFMLEVBQU9LLEdBSUxJLEVBQUs3QixLQUNQbUIsRUFBUXhELEdBRVJrRyxRQUFRMUMsUUFBUXhELEdBQU80RCxLQUFLc0csRUFBT0MsR0FJeEIsU0FBU0MsRUFBa0I1SCxHQUN4QyxPQUFPLFdBQ0wsSUFBSS9CLEVBQU9vQyxLQUNQd0gsRUFBT0MsVUFDWCxPQUFPLElBQUlwRSxTQUFRLFNBQVUxQyxFQUFTQyxHQUNwQyxJQUFJd0csRUFBTXpILEVBQUcrSCxNQUFNOUosRUFBTTRKLEdBRXpCLFNBQVNILEVBQU1sSyxHQUNiZ0ssRUFBbUJDLEVBQUt6RyxFQUFTQyxFQUFReUcsRUFBT0MsRUFBUSxPQUFRbkssR0FHbEUsU0FBU21LLEVBQU85SixHQUNkMkosRUFBbUJDLEVBQUt6RyxFQUFTQyxFQUFReUcsRUFBT0MsRUFBUSxRQUFTOUosR0FHbkU2SixPQUFNbkwsTyxzQkMzQkN5TCxFQUFzQiw4Q0FBSCxRQUFpRCxJQUFJQyxNQUFPQyxjQUFjQyxVQUFVLEVBQUcsSUFBSUMsUUFBUSxJQUFLLElBQUlDLFdBQVcsSUFBSyxLQUMvSUMsRUFBYyx3RUFFZEMsRUFBcUIscUJBQ3JCQyxFQUFjLEdBSWRDLEVBQ0MsdUJBRERBLEVBRUMsZUFGREEsRUFHUSxzQkFIUkEsRUFJUyxzQkFFVEMsRUFFcUIsbUJBRnJCQSxFQUdJLFdDckJGLFNBQVNDLEVBQWdCQyxFQUFVQyxHQUNoRCxLQUFNRCxhQUFvQkMsR0FDeEIsTUFBTSxJQUFJcEgsVUFBVSxxQ0NGeEIsU0FBU3FILEVBQWtCQyxFQUFRQyxHQUNqQyxJQUFLLElBQUlsRyxFQUFJLEVBQUdBLEVBQUlrRyxFQUFNbkcsT0FBUUMsSUFBSyxDQUNyQyxJQUFJbUcsRUFBYUQsRUFBTWxHLEdBQ3ZCbUcsRUFBV3ZMLFdBQWF1TCxFQUFXdkwsYUFBYyxFQUNqRHVMLEVBQVd0TCxjQUFlLEVBQ3RCLFVBQVdzTCxJQUFZQSxFQUFXckwsVUFBVyxHQUNqRG5CLE9BQU9nQixlQUFlc0wsRUFBUUUsRUFBVzFMLElBQUswTCxJQUluQyxTQUFTQyxFQUFhTCxFQUFhTSxFQUFZQyxHQU01RCxPQUxJRCxHQUFZTCxFQUFrQkQsRUFBWW5NLFVBQVd5TSxHQUNyREMsR0FBYU4sRUFBa0JELEVBQWFPLEdBQ2hEM00sT0FBT2dCLGVBQWVvTCxFQUFhLFlBQWEsQ0FDOUNqTCxVQUFVLElBRUxpTCxFLElDZkhRLEVBQUFBLFdBQ0osYUFBMkMsSUFBL0JDLEVBQStCLHVEQUF0QixxQkFBc0IsVUFDekNqSixLQUFLaUosT0FBU0EsRUFDZGpKLEtBQUtrSixNQUFRQyxPQUFPQyxhQUFhQyxRQUFRaEIsRyw4QkFHM0MsV0FBYyxVQUNMWSxFQUFVakosS0FBVmlKLE9BREssbUJBQU56QixFQUFNLHlCQUFOQSxFQUFNLGlCQUVaLEVBQUE4QixTQUFRakksS0FBUixvQkFBaUI0SCxFQUFqQixhQUErQnpCLE0saUJBR2pDLFdBQ0UsSUFBTzBCLEVBQWlCbEosS0FBakJrSixNQUFPRCxFQUFVakosS0FBVmlKLE9BQ2QsR0FBSUMsRUFBTyw4QkFGTjFCLEVBRU0seUJBRk5BLEVBRU0saUJBQ1QsRUFBQThCLFNBQVFDLElBQVIsb0JBQWdCTixFQUFoQixhQUE4QnpCLFMsRUFkOUJ3QixHQW1CTixJLDBHQ2xCQSxJQUFNUSxFQUFTLElBQUlSLEVBQU8sNkJBRWJTLEVBQXFCLFNBQUNDLEdBQ2pDRixFQUFPRCxJQUFJLGdCQUFpQkksS0FBS0MsVUFBVUYsSUFDM0MsSUFBT0csRUFBOEJILEVBQTlCRyxTQUFVQyxFQUFvQkosRUFBcEJJLFVBQVczTSxFQUFTdU0sRUFBVHZNLE1BQ3RCNE0sRUFBZUMsRUFBZ0JILEdBQ3JDLE9BQU9JLEVBQWlCRixFQUFjRCxFQUFXM00sSUFHN0M2TSxFQUFrQixTQUFDOU0sR0FDdkJzTSxFQUFPRCxJQUFJLDhCQUErQnJNLEdBRFgsUSwyNUJBQUEsQ0FFYmlNLE9BQU9lLFdBRk0sSUFFL0IsMkJBQW9DLEtBQXpCak4sRUFBeUIsUUFFbEMsR0FEYWIsT0FBT21ILEtBQUt0RyxHQUNoQmtOLFNBQVNqTixHQUVoQixPQURBc00sRUFBT0QsSUFBUCxvQkFBd0JyTSxFQUF4Qix1QkFBMENELEVBQUlDLEtBQ3ZDRCxFQUFJQyxJQU5nQiw4QkFVL0IsT0FEQXNNLEVBQU9ELElBQVAsY0FBa0JyTSxFQUFsQiw0QkFDTyxNQ25CSHNNLEVBQVMsSUFBSVIsRUFBTyx1QkFFYm9CLEVBQWUsU0FBQ1YsR0FDM0JGLEVBQU9ELElBQUksZ0JBQWlCSSxLQUFLQyxVQUFVRixJQUMzQyxJQUFPRyxFQUE4QkgsRUFBOUJHLFNBQVVDLEVBQW9CSixFQUFwQkksVUFBVzNNLEVBQVN1TSxFQUFUdk0sTUFFNUIsR0FDTyxTQURDME0sRUFDTixDQUNFLElBQU1RLEVBQVlsQixPQUFPbUIsU0FBU0MsS0FFNUJDLEVBRFNILEVBQVdGLFNBQVMseUNBRW5DTSxtQkFDSSxJQUFJQyxJQUFJTCxHQUFZTSxPQUFPNUMsUUFBUSxpQkFBa0IsS0FGbEMsSUFBSTJDLElBQUlMLEdBQVlPLFNBSzNDLE9BREFwQixFQUFPRCxJQUFQLHdCQUE0QmlCLEVBQTVCLDhCQUFzRHJOLElBQy9DOE0sRUFBaUJPLEVBQU1WLEVBQVczTSxLLHVnQ0NaL0MsSUFBTXFNLEVBQVMsSUFBSVIsRUFBTyxpQkFFcEIsZUFBZ0I2QixRQUlsQkMsSUFJRyxJQUFNQyxFQUFxQixXQUNoQ0MsU0FBU0MsZ0JBQWdCQyxVQUFVQyxPQUFPLGlCQUcvQkMsRUFBZSw2QkFBRywyRkFDN0I1QixFQUFPRCxJQUFJLHVCQURrQixTQUVKOEIsTU5sQlEsNENNZ0JKLGNBRXZCQyxFQUZ1QixnQkFHaEJBLEVBQVdDLE9BSEssbUZBQUgscURBTWZDLEVBQTBCLFNBQUNDLEVBQWNDLEdBQ3BELElBQUtELEVBQ0gsT0FBTyxLQUdULElBVUlFLEVBVldGLEVBQ1ZHLE1BQU0sS0FDTkMsS0FBSSxTQUFDQyxHQUFELE9BQU9BLEVBQUVGLE1BQU0sUUFDbkJHLFFBQU8sU0FBQ0MsRUFBS0YsR0FJWixPQUhJQSxFQUFFLElBQU1BLEVBQUUsS0FDWkUsRUFBSXZCLG1CQUFtQnFCLEVBQUUsR0FBR0csU0FBV3hCLG1CQUFtQnFCLEVBQUUsR0FBR0csU0FFMURELElBQ04sSUFFaUJOLEdBQ3hCLE9BQUtDLEdBR2MsUUFBZkQsSUFHRkMsRUFBYUEsRUFBV0MsTUFBTSxLQUROLElBR25CRCxHQVBFLE1BVUVPLEVBQVksNkJBQUcsV0FBT1AsR0FBUCxnR0FBbUJRLEVBQW5CLCtCQUFxQyxFQUMxRFIsRUFEcUIsMENBRWhCLEdBRmdCLGNBS3BCUyxHQUFVLElBQUlDLGFBQWNDLE9BQU9YLEdBTGYsU0FRRGQsT0FBTzBCLE9BQU9DLE9BQU8sUUFBU0osR0FSN0IsY0FRcEJLLEVBUm9CLE9BV3BCQyxFQUFZdEcsTUFBTUksS0FBSyxJQUFJbUcsV0FBV0YsSUFHdENHLEVBQWFGLEVBQ2RiLEtBQUksU0FBQ2dCLEdBQUQsT0FBT0EsRUFBRXRHLFNBQVMsSUFBSXVHLFNBQVMsRUFBRyxRQUN0Q0MsS0FBSyxJQUlKQyxFQUFhQyxTQUFTTCxFQUFXOUUsVUFBVSxFQUFHcUUsR0FBa0IsSUFwQjVDLGtCQXNCbkJhLEVBQWEsS0F0Qk0sNENBQUgsc0RBeUJaRSxFQUFxQixTQUFDQyxHQUNqQyxJQVdJQyxFQUFnQnBDLFNBQVNDLGdCQUFnQm9DLFVBQ3ZDQyxFQUFxQkMsYUFaZCxXQUNYLElBQU1GLEVBQVlyQyxTQUFTQyxnQkFBZ0JvQyxVQUN2Q0QsRUFBZ0IsSUFBTUMsR0FDeEJHLGNBQWNGLEdBQ2RILEtBRUFDLEVBQWdCQyxJQU15QixNQVVsQ0ksRUFBa0IsU0FBQ0MsRUFBVUMsR0FDeENuRSxFQUFPRCxJQUFJLHlCQUEwQm9FLEVBQWlCLGNBQWVELEdBQ3JFLElBQUssSUFBSWpMLEVBQUUsRUFBR0EsRUFBRWlMLEVBQVNsTCxPQUFRQyxJQUUvQixJQURBLElBQU1tTCxFQUFVRixFQUFTakwsR0FDekIsTUFBMkJyRyxPQUFPeVIsUUFBUUYsR0FBMUMsZUFBNEQsQ0FBdkQsZ0JBQU96USxFQUFQLEtBQVlDLEVBQVosS0FDSHlRLEVBQVFFLE1BQU01USxHQUFPQyxJQUtkNFEsRUFBZ0IsNkJBQUcscUZBQ3hCQyxFQUFhaEQsU0FBU2lELGNBQWMsU0FDL0JDLElBQU0sYUFDakJGLEVBQVd6TyxLQUFPLFdBQ2xCeU8sRUFBV3pELEtBQU81QyxFQUNsQnFELFNBQVNtRCxLQUFLQyxZQUFZSixHQUxJLDJDQUFILHFEQVFoQkssRUFBaUIsU0FBQ0MsRUFBa0JDLEdBQy9DLElBRGdFLEVBQzFEQyxFQUFVN0UsS0FBSzhFLE1BQU05RSxLQUFLQyxVQUFVMEUsSUFEc0IsSUFFM0NFLEdBRjJDLElBRWhFLDJCQUE4QixLQUFuQkUsRUFBbUIsUUFDckJDLEVBQWVELEVBQWZDLFlBQ1AsR0FBS0EsRUFBTCxDQUY0QixVQUdIQSxHQUhHLElBRzVCLDJCQUFzQyxLQUEzQkMsRUFBMkIsUUFDcEMsR0FBSUEsRUFBV0MsS0FBT04sRUFBYyxDQUNsQyxJQUFLLElBQU1yUixLQUFPMFIsRUFDSixPQUFSMVIsSUFDRndSLEVBQU94UixHQUFPMFIsRUFBVzFSLElBRzdCLE9BQU9zUixJQVZpQixpQ0FGa0MsOEJBZ0JoRSxPQUFPQSxHQXlCSXZFLEVBQW1CLFNBQUM2RSxFQUFjaEYsRUFBVzNNLEdBQ3hELEdBQWtCLGFBQWQyTSxFQUNGLE9BQUtnRixHQUlMdEYsRUFBT0QsSUFBSSx3REFDSixJQUpMQyxFQUFPRCxJQUFJLHdEQUNKLEdBS1gsR0FBSXVGLE1BQUFBLEdBQUFBLE1BRUZoRixFQUdBLE9BREFOLEVBQU9ELElBQUksK0RBQ0osRUFFVCxPQUFRTyxHQUNOLElBQUssUUFDSCxPQUFJZ0YsR0FDRnRGLEVBQU9ELElBQUksb0RBQ0osSUFFVEMsRUFBT0QsSUFBSSw0REFDSixHQUNULElBQUssV0FDSCxPQUFJdUYsRUFBYTNFLFNBQVNoTixJQUN4QnFNLEVBQU9ELElBQUksd0RBQ0osSUFFVEMsRUFBT0QsSUFBSSxvRUFDSixHQUNULElBQUssY0FDSCxPQUFLdUYsRUFBYTNFLFNBQVNoTixJQUkzQnFNLEVBQU9ELElBQUksNERBQ0osSUFKTEMsRUFBT0QsSUFBSSxnRUFDSixHQUlYLElBQUssUUFDSCxPQUFJdUYsSUFBaUIzUixHQUNuQnFNLEVBQU9ELElBQUksc0RBQ0osSUFFVEMsRUFBT0QsSUFBSSxrRUFDSixHQUNULElBQUssV0FDSCxPQUFJdUYsSUFBaUIzUixHQUNuQnFNLEVBQU9ELElBQUksOERBQ0osSUFFVEMsRUFBT0QsSUFBSSwwREFDSixHQUNULElBQUssY0FDSCxPQUFJdUYsRUFBZTNSLEdBQ2pCcU0sRUFBT0QsSUFBSSwrREFDSixJQUVUQyxFQUFPRCxJQUFJLHVFQUNKLEdBQ1QsSUFBSyxXQUNILE9BQUl1RixFQUFlM1IsR0FDakJxTSxFQUFPRCxJQUFJLDREQUNKLElBRVRDLEVBQU9ELElBQUksb0VBQ0osR0FDVCxJQUFLLGdCQUNILE9BQUl1RixHQUFnQjNSLEdBQ2xCcU0sRUFBT0QsSUFBSSx3RUFDSixJQUVUQyxFQUFPRCxJQUFJLGdGQUNKLEdBQ1QsSUFBSyxhQUNILE9BQUl1RixHQUFnQjNSLEdBQ2xCcU0sRUFBT0QsSUFBSSxxRUFDSixJQUVUQyxFQUFPRCxJQUFJLDZFQUNKLEdBQ1QsSUFBSyxVQUNILFFBQWlCcE0sRUFBTXlPLE1BQU0sS0FBN0IsR0FBS21ELEVBQUwsS0FBVUMsRUFBVixLQUdBLE9BRkFELEVBQU05QixTQUFTOEIsR0FDZkMsRUFBTS9CLFNBQVMrQixHQUNYRixHQUFnQkMsR0FBT0QsR0FBZ0JFLEdBQ3pDeEYsRUFBT0QsSUFBSSxnRUFDSixJQUVUQyxFQUFPRCxJQUFJLHdFQUNKLEdBRVQsUUFFRSxPQURBQyxFQUFPRCxJQUFJLDhDQUErQ08sSUFDbkQsSUFJQWdCLEVBQXFCLFdBQ2hDRCxPQUFPb0UsV0FBYSxXQUNsQixPQUNFLENBQUMsTUFBTSxLQUFLLEtBQUssS0FBSyxNQUFNbEgsUUFBUSxVQUNsQyxTQUFDbUgsR0FBRCxPQUFRQSxFQUFJckUsT0FBT3NFLGdCQUFnQixJQUFJeEMsV0FBVyxJQUFJLEdBQUssSUFBTXVDLEVBQUksR0FBRzNJLFNBQVMsU0FLNUU2SSxFQUFpQixTQUFqQkEsRUFBa0JDLEVBQU1DLEdBQ25DLEdBQUlELElBQVNDLEVBQU0sT0FBTyxFQUUxQixHQUNrQixXQUFoQixFQUFPRCxJQUNXLFdBQWhCLEVBQU9DLElBQ0MsTUFBUkQsR0FDUSxNQUFSQyxFQUVGLE9BQU8sRUFHVCxJQUFNQyxFQUFRblQsT0FBT21ILEtBQUs4TCxHQUNwQkcsRUFBUXBULE9BQU9tSCxLQUFLK0wsR0FFMUIsR0FBSUMsRUFBTS9NLFNBQVdnTixFQUFNaE4sT0FDekIsT0FBTyxFQUdULElBQUkzQixHQUFTLEVBcUJiLE9BbkJBME8sRUFBTWhQLFNBQVEsU0FBQ3JELEdBQ1JzUyxFQUFNckYsU0FBU2pOLEtBQ2xCMkQsR0FBUyxHQUlZLG1CQUFkd08sRUFBS25TLElBQ2EsbUJBQWRvUyxFQUFLcFMsSUFFWm1TLEVBQUtuUyxHQUFLcUosYUFBZStJLEVBQUtwUyxHQUFLcUosYUFDckMxRixHQUFTLEdBSVJ1TyxFQUFlQyxFQUFLblMsR0FBTW9TLEVBQUtwUyxNQUNsQzJELEdBQVMsTUFJTkEsR0FJSTRPLEVBQWUsV0FDMUIsSUFBTUMsRUFBVSxHQUdWaEcsRUFBTyxDQUNYRyxTQUFVLFdBQ1ZDLFVBQVcsUUFDWDNNLE1BQU8sWUFFVCxHQUFJc00sRUFBbUJDLEdBQ3JCLE9BQU8sS0FLVCxHQURBQSxFQUFLdk0sTUFBUSxjQUNUc00sRUFBbUJDLEdBS3JCLE9BSmlCdEQsTUFBTUksS0FBS3dFLFNBQVMyRSxpQkFBaUIsa0JBQzdDcFAsU0FBUSxTQUFDcVAsR0FDaEJGLEVBQVF6TixLQUFLMk4sRUFBRUMsYUFBYSx3QkFFekJILEVBQVFsTixPQUlOa04sR0FITGxHLEVBQU9ELElBQUkseUNBQ0osTUFPWCxHQURBRyxFQUFLdk0sTUFBUSxjQUNUc00sRUFBbUJDLEdBQU8sQ0FDNUIsSUFBTWtFLEVBQVU1QyxTQUFTOEUsY0FBYyxnQkFDdkMsT0FBS2xDLEdBSUw4QixFQUFRek4sS0FBSzJMLEVBQVFpQyxhQUFhLGFBQzNCSCxJQUpMbEcsRUFBT0QsSUFBSSx3Q0FDSixNQVNYLE9BRkFHLEVBQUtHLFNBQVcsT0FDaEJILEVBQUt2TSxNQUFRLHdCQUNUaU4sRUFBYVYsSUFDRXRELE1BQU1JLEtBQUt3RSxTQUFTMkUsaUJBQWlCLGlCQUM3Q3BQLFNBQVEsU0FBQ3FQLEdBQ2hCRixFQUFRek4sS0FBSzJOLEVBQUVDLGFBQWEsZ0JBRXpCSCxFQUFRbE4sT0FJTmtOLEdBSExsRyxFQUFPRCxJQUFJLHlDQUNKLFFBS1hDLEVBQU9ELElBQUksMEJBQ0osT0N6V1QsRUFGd0Isb0wseWlDQ0l4QixXQUErQitCLEVBQVl5RSxHQUEzQywrSEFlUXZHLEVBQVMsSUFBSVIsRUFBTyw0QkFDbkJnSCxFQUFzQjVILEVBRXZCNkgsRUFBYyxTQUFxQkMsR0FDdkMxRyxFQUFPRCxJQUFJLHVCQUF3QkksS0FBS0MsVUFBVXNHLElBQ2xELElBQ0VDLEVBV0VELEVBWEZDLGNBQ0F0RyxFQVVFcUcsRUFWRnJHLFNBQ0F0SyxFQVNFMlEsRUFURjNRLEtBQ0E2USxFQVFFRixFQVJGRSxXQUNBQyxFQU9FSCxFQVBGRyxnQkFDQUMsRUFNRUosRUFORkksU0FDQUMsRUFLRUwsRUFMRkssaUJBQ0FDLEVBSUVOLEVBSkZNLFlBQ0FDLEVBR0VQLEVBSEZPLGdCQUNBQyxFQUVFUixFQUZGUSxnQkFDQUMsRUFDRVQsRUFERlMsVUFFR3hULEVBQVMrUyxFQUFUL1MsTUFDRHlRLEVBQVVnRCxFQUFFTixHQUdoQixJQURXRSxHQUFjckgsT0FBTzBILFdBQVdMLEdBQWFNLFFBS3hELEdBQUtMLElBQW9CQyxHQUFxQkEsSUFBb0JELEVBQ2hFakgsRUFBT0QsSUFBSSx3Q0FEYixDQUlBLEdBQUlrSCxHQUFtQkMsRUFBaUIsQ0FDdEMsSUFBS0UsRUFBRUgsR0FBaUJqTyxPQUV0QixZQURBZ0gsRUFBT0QsSUFBSSw4QkFBK0JrSCxHQUc1QyxJQUFLRyxFQUFFRixHQUFpQmxPLE9BRXRCLFlBREFnSCxFQUFPRCxJQUFJLDhCQUErQm1ILE9BR3ZDLEtBQUtKLEVBRVYsWUFEQTlHLEVBQU9ELElBQUksMEJBR1gsSUFBS3FFLEVBQVFwTCxTQUNYZ0gsRUFBT0QsSUFBSSx1QkFBd0IrRyxHQUNuQzlHLEVBQU9ELElBQUksNkJBQThCZ0gsR0FDckNBLElBQWtCM0MsRUFBVWdELEVBQUVMLEtBQzdCM0MsRUFBUXBMLFFBRVgsWUFEQWdILEVBQU9ELElBQUksK0JBTWpCLEdBQUlvSCxHQUFheFQsRUFBTWdOLFNBQVMsZUFBZ0IsQ0FDOUNYLEVBQU9ELElBQUksK0JBQWdDb0gsR0FDM0MsSUFBTUksRUFBa0IvTCxTQUFTMkwsR0FDakN4VCxFQUFRQSxFQUFNNEssUUFBUSxjQUFlZ0osS0FHdkMsR0FBaUIsV0FBYmxILEVBQ0UrRCxJQUNGcEUsRUFBT0QsSUFBSSxhQUFjK0csR0FDekIxQyxFQUFRekMsVUFFVjNCLEVBQU9ELElBQUksdUNBQXdDK0csUUFDOUMsR0FBaUIsV0FBYnpHLEVBQ1QsT0FBUXRLLEdBQ04sSUFBSyxTQUNIaUssRUFBT0QsSUFBSSxxQkFBc0JwTSxHQUM3QjZULE9BQU83VCxHQUFPZ04sU0FBUyxrQkFDekJ5RyxFQUFFLGtCQUFrQnpGLFNBRXRCeUMsRUFBUXFELE9BQU85VCxHQUNmLE1BQ0YsSUFBSyxRQUNIcU0sRUFBT0QsSUFBSSxvQkFBcUJwTSxHQUNoQ3lRLEVBQVFzRCxNQUFNL1QsR0FDZCxNQUNGLElBQUssUUFDSCxHQUE2RCxJQUF6RDhQLFNBQVNrRSxlQUFlOUgsUUFBUTJHLElBQTRCLENBQzlEeEcsRUFBT0QsSUFBSSxzQ0FDWCxNQUtGLEdBSEFDLEVBQU9ELElBQUksbUJBQW9CcE0sR0FDL0JpVSxFQUFZalUsRUFBT2tULEdBRWZELEVBQVksQ0FDZCxJQURjLEVBQ1JpQixFQUFTbEksT0FBTzBILFdBQVczSSxHQUFvQjRJLFFBRHZDLElBRU1WLEdBRk4sSUFFZCwyQkFDRSxPQUQ4QixTQUU1QixJQUFLLGFBQ0g1RyxFQUFPRCxJQUFJLCtCQUNQOEgsRUFDRm5FLEVBQW1Cb0UsR0FFbkJ0RyxTQUFTQyxnQkFBZ0JzRyxpQkFBaUIsYUFBY0QsRUFDcEQsQ0FBQ0UsTUFBTSxJQUViLE1BQ0YsSUFBSyxhQUNIaEksRUFBT0QsSUFBSSwrQkFDWHlCLFNBQVNDLGdCQUFnQnNHLGlCQUFpQixPQUFRRCxFQUM5QyxDQUFDRSxNQUFNLEtBaEJILG9DQXNCZEMsWUFBVyxXQUNUSCxNQUNDSSxjQUtKLEdBQWlCLFNBQWI3SCxFQUNULE9BQVF0SyxHQUNOLElBQUssT0FDSGlLLEVBQU9ELElBQUksaUJBQWtCcE0sR0FDN0J5USxFQUFRK0QsS0FBS3hVLEdBQ2IsTUFDRixJQUFLLGtCQUNIcU0sRUFBT0QsSUFBSSxtQkFBb0JwTSxHQUMvQixJQUFNdVEsRUFBVzFDLFNBQVMyRSxpQkFBaUJXLEdBQ3JDM0MsRUFBa0JoRSxLQUFLOEUsTUFBTXRSLEdBQ25DcU0sRUFBT0QsSUFBSSxzQkFBdUJvRSxHQUNsQ0YsRUFBZ0JDLEVBQVVDLEdBRTFCLE1BQ0YsSUFBSyxXQUNIbkUsRUFBT0QsSUFBUCwyQkFBK0JxRSxFQUEvQixrQkFBZ0R6USxJQUNoRHlRLEVBQVFnRSxTQUFTelUsR0FDakIsTUFDRixJQUFLLGNBQ0hxTSxFQUFPRCxJQUFQLDRCQUFnQ3FFLEVBQWhDLGtCQUFpRHpRLElBQ2pEeVEsRUFBUWlFLFlBQVkxVSxHQUNwQixNQUNGLElBQUssY0FDSCxJQUFLNFMsRUFBYSxDQUNoQnZHLEVBQU9ELElBQUksNEJBQ1gsTUFFRkMsRUFBT0QsSUFBSSxvQkFBcUJwTSxHQUVoQyxJQURBLElBQ0EsTUFEaUJpSixNQUFNSSxLQUFLb0gsR0FDNUIsZUFBNkIsQ0FBeEIsSUFBTWtFLEVBQUksS0FDUEMsRUFBS25CLEVBQUVrQixHQUNURSxFQUFhRCxFQUFHRSxLQUFLLG9CQUNwQkQsSUFBWUEsRUFBYUQsRUFBR0UsS0FBSyxhQUNqQ0QsR0FJTEQsRUFBR0csS0FBSy9CLEdBQWVoRixTQUNuQi9PLE9BQU9tSCxLQUFLd00sR0FBYTVGLFNBQVM2SCxJQUFlakMsRUFBWWlDLEdBQVlHLE9BQU9oSSxTQUFTaE4sSUFFcEYsZUFEQ0EsR0FFSjRVLEVBQUdHLEtBQUssdUJBQXVCakIsT0FBT21CLElBUDFDNUksRUFBT0QsSUFBSSw4QkFhZixNQUNGLFFBQ0VDLEVBQU9ELElBQUksc0JBQXVCaEssUUFHakMsR0FBaUIsaUJBQWJzSyxFQUVULE9BREFMLEVBQU9ELElBQUksc0JBQXVCOEksVUFBV2xWLEdBQ3JDa1YsV0FDTixJQUFLLE1BQ0h6RSxFQUFRMEUsSUFBSSxVQUFaLGNBQThCblYsRUFBTThPLE9BQXBDLE1BQ0EsTUFDRixJQUFLLFFBRUgsSUFBTXNHLEVBQVdwVixFQUFNeU8sTUFBTSxLQUFLLEdBQUdLLE9BRS9CdUcsRUFBZ0JyVixFQUFNeU8sTUFBTSxLQUFLLEdBQUdLLE9BRTFDMkIsRUFBUTBFLElBQUlDLEVBQVVDLEVBQWUsbUJBS3BDLEdBQWlCLFlBQWIzSSxFQUNUTCxFQUFPRCxJQUFJLGNBQWVwTSxHQUMxQnlRLEVBQVE1RixXQUFXN0ssUUFDZCxHQUFpQixTQUFiME0sRUFBcUIsQ0FDOUJMLEVBQU9ELElBQUksYUFBY2tILEVBQWlCQyxHQUMxQyxJQUFNK0IsRUFBS3pILFNBQVM4RSxjQUFjVyxHQUM1QmlDLEVBQUsxSCxTQUFTOEUsY0FBY1ksR0FDbENpQyxFQUFVRixFQUFJQyxRQUNULEdBQWlCLGlCQUFiN0ksRUFDVEwsRUFBT0QsSUFBSSxxQkFBc0JwTSxHQUNqQ3lRLEVBQVFnRixPQUFSLGtCQUEwQnpWLEVBQTFCLG9CQUNLLEdBQWlCLFNBQWIwTSxFQUFxQixDQUM5QkwsRUFBT0QsSUFBUCxpQkFBcUJrSCxFQUFyQixlQUEyQ0MsSUFDM0MsSUFBTW1DLEVBQVM3SCxTQUFTOEUsY0FBY1csR0FDaENxQyxFQUFjOUgsU0FBUzhFLGNBQWNZLEdBQzNDbUMsRUFBTzFILFNBQ1AySCxFQUFZQyxRQUFRRixPQUNFLFNBQWJoSixFQUNUTCxFQUFPRCxJQUFJLHFEQUVYQyxFQUFPRCxJQUFJLDhCQUErQk0sUUF0TDFDTCxFQUFPRCxJQUFJLDZCQUE4QmlILElBMEx2Q3dDLEVBQW1CLFNBQW5CQSxFQUFvQkMsR0FDeEIsSUFBTXBFLEVBQUtvRSxFQUFNdkssT0FBT21HLEdBQ3BCQSxHQUFhLHNCQUFQQSxJQUNSK0IsRUFBRSxzQkFBc0J6RixTQUN4QmhDLE9BQU8rSixvQkFBb0IsUUFBU0YsR0FBa0IsS0FJcEQxQixFQUFlLFNBQWZBLElBQ0pILGVBQWVnQyxRQUFRbkQsRUFBb0IsR0FDM0MsSUFBTW9ELEVBQVNwSSxTQUFTOEUsY0FBYyxvQkFDbENzRCxJQUFRQSxFQUFPdEYsTUFBUCxRQUEwQixRQUN0QzlDLFNBQVNxSSxlQUFlLHFCQUFxQnZGLE1BQTdDLFFBQWdFLFFBQ2hFM0UsT0FBT29JLGlCQUFpQixRQUFTeUIsR0FBa0IsR0FFbkRoSSxTQUFTQyxnQkFBZ0JpSSxvQkFBb0IsYUFBYzVCLEVBQWMsQ0FBQ0UsTUFBTSxJQUNoRnhHLFNBQVNDLGdCQUFnQmlJLG9CQUFvQixPQUFRNUIsRUFBYyxDQUFDRSxNQUFNLElBRTFFQyxZQUFXLFdBQ1RiLEVBQUUsc0JBQXNCekYsU0FDeEJoQyxPQUFPK0osb0JBQW9CLFFBQVNGLEdBQWtCLEtBQ3JELE9BR0M1QixFQUFjLFNBQUNqVSxFQUFPa1QsR0FFMUIsSUFBTWlELEVBQWV0SSxTQUFTaUQsY0FBYyxPQUU1Q3FGLEVBQWFwSSxVQUFVcUksSUFBSSxxQkFDM0JELEVBQWF6RSxHQUFLLG9CQUdsQixJQUFNMkUsRUFBbUJ4SSxTQUFTaUQsY0FBYyxVQVFoRCxHQVBBdUYsRUFBaUJ0SSxVQUFVcUksSUFBSSwwQkFDL0JDLEVBQWlCQyxVQUFZLElBQzdCRCxFQUFpQkUsUUFBVSxXQUN6QjlDLEVBQUUsc0JBQXNCekYsU0FDeEJoQyxPQUFPK0osb0JBQW9CLFFBQVNGLEdBQWtCLElBR3BEM0MsRUFFRixJQURBLElBQU1zRCxFQUFXdk4sTUFBTUksS0FBS3dFLFNBQVMyRSxpQkFBaUJVLElBQy9DbFQsRUFBTWdOLFNBQVMsZ0JBQWtCd0osRUFBU25SLE9BQVMsR0FDeERyRixFQUFRQSxFQUFNNEssUUFBUSxjQUFlNEwsRUFBU0MsUUFBUUMsS0FLMUQsSUFBTUMsRUFBVzlJLFNBQVNpRCxjQUFjLFlBQ3hDNkYsRUFBU0MsVUFBWTVXLEVBQU04TyxPQUMzQixJQUFNK0gsRUFBUUYsRUFBU0csUUFBUUMsV0FDL0JGLEVBQU01RixZQUFZb0YsR0FDbEJGLEVBQWFsRixZQUFZNEYsR0FHekJwRCxFQUFFLHNCQUFzQnpGLFNBQ3hCSCxTQUFTbUosS0FBSy9GLFlBQVlrRixJQUd0QlgsRUFBWSxTQUFtQkYsRUFBSUMsR0FDdkMsSUFFSTBCLEVBQ0FDLEVBSEVDLEVBQUs3QixFQUFHOEIsV0FDUkMsRUFBSzlCLEVBQUc2QixXQUlkLEdBQUtELEdBQU9FLElBQU1GLEVBQUdHLFlBQVkvQixLQUFPOEIsRUFBR0MsWUFBWWhDLEdBQXZELENBRUEsSUFBSyxJQUFJaFEsRUFBSSxFQUFHQSxFQUFJNlIsRUFBR0ksU0FBU2xTLE9BQVFDLElBQ2xDNlIsRUFBR0ksU0FBU2pTLEdBQUdnUyxZQUFZaEMsS0FDN0IyQixFQUFLM1IsR0FHVCxJQUFLLElBQUlBLEVBQUksRUFBR0EsRUFBSStSLEVBQUdFLFNBQVNsUyxPQUFRQyxJQUNsQytSLEVBQUdFLFNBQVNqUyxHQUFHZ1MsWUFBWS9CLEtBQzdCMkIsRUFBSzVSLEdBSUw2UixFQUFHRyxZQUFZRCxJQUFPSixFQUFLQyxHQUM3QkEsSUFFRkMsRUFBR0ssYUFBYWpDLEVBQUk0QixFQUFHSSxTQUFTTixJQUNoQ0ksRUFBR0csYUFBYWxDLEVBQUkrQixFQUFHRSxTQUFTTCxNQUdOLFNBQXRCTyxFQUF1QkMsR0FDM0IsR0FBSzFMLE9BQU8yTCxPQUlMLFdBQ21CRCxHQURuQixJQUNMLDJCQUF1QyxLQUE1QjNFLEVBQTRCLFFBQ3JDLElBQ0VELEVBQVlDLEdBQ1osTUFBTzFTLEdBQ1BnTSxFQUFPdUwsS0FBUCxtQ0FDZ0M3RSxFQUFVckIsR0FEMUMsdUJBQzJEclIsRUFBSXdYLFVBSy9ELFdBWEMsb0NBSEx2RCxZQUFXLFdBQ1RtRCxFQUFvQkMsS0FDbkIsSUFtQlBELENBQW9CdEosR0E1VXRCLDRDLHdCQWlWQSxNLFNBalYrQixFQUFoQjJKLEcsZ0NDREZDLEVBQWIsV0FDRSxXQUFZQyxFQUFxQkMsR0FBOEIsVUFDN0RwVixLQUFLd0osT0FBUyxJQUFJUixFQUFPLG1CQUN6QmhKLEtBQUt3SixPQUFPRCxJQUFJLHdCQUVoQnZKLEtBQUttVixvQkFBc0J4TCxLQUFLOEUsTUFBTTlFLEtBQUtDLFVBQVV1TCxJQUNyRG5WLEtBQUtvViw2QkFBK0J6TCxLQUFLOEUsTUFBTTlFLEtBQUtDLFVBQVV3TCxJQUM5RHBWLEtBQUtxVixjQUFnQixLQUNyQnJWLEtBQUtzViwwQkFBNEIsS0FDakN0VixLQUFLdVYsVUFBWXBFLGVBQWU5SCxRQUFRakIsR0FDeENwSSxLQUFLd1YsT0FBUzNLLE9BQU9vRSxhQUNyQmpQLEtBQUt5VixRQUFVLENBQ2JsVyxLQUFNLG9CQUVSUyxLQUFLd0osT0FBT0QsSUFBSSxpQ0FBbUN2SixLQUFLdVYsV0FDeER2VixLQUFLMFYsOEJBQ0wxVixLQUFLMlYsVUFBWXhNLE9BQU9DLGFBQWFDLFFBQVFoQixHQUFvQyxLQUFPLE1BaEI1Rix5REFtQkUsV0FBZXVOLEdBQWYsdUVBTUUsSUFMQTVWLEtBQUt3SixPQUFPRCxJQUFJLGdCQUNac00sR0FBUyxFQUNicEUsWUFBVyxXQUNUb0UsR0FBUyxJQUNSLE1BQ0tBLEdBQ05BLEVBQVNDLFVBQVVDLFdBQVc5TixFQUFhakksS0FBS2dXLGVBQWVKLElBUG5FLGdEQW5CRiwrRUF5Q0UsU0FBb0JLLEVBQVNYLEdBQzNCLElBQU9ILEVBQTZEblYsS0FBN0RtVixvQkFBcUJDLEVBQXdDcFYsS0FBeENvViw2QkFBOEI1TCxFQUFVeEosS0FBVndKLE9BQzFEQSxFQUFPRCxJQUFJLDJCQUVYLElBQUkyTSxFQUFZbFcsS0FBS3FWLGVBQWlCRixFQUNqQy9GLEVBQWU4RyxFQUFXRCxLQUM3QnpNLEVBQU9ELElBQUksb0JBQ1hDLEVBQU9ELElBQUksWUFBYTBNLEdBQ3hCalcsS0FBS3FWLGNBQWdCWSxHQUd2QkMsRUFBWWxXLEtBQUtzViwyQkFBNkJGLEVBQ3pDaEcsRUFBZThHLEVBQVdaLEtBQzdCOUwsRUFBT0QsSUFBSSxvQkFDWEMsRUFBT0QsSUFBSSxZQUFhME0sR0FDeEJqVyxLQUFLc1YsMEJBQTRCQSxLQXhEdkMsNEJBNERFLFNBQWVNLEdBQ2IsSUFBT1QsRUFLS25WLEtBTExtVixvQkFDTEMsRUFJVXBWLEtBSlZvViw2QkFDQU8sRUFHVTNWLEtBSFYyVixVQUNBRixFQUVVelYsS0FGVnlWLFFBQ0FGLEVBQ1V2VixLQURWdVYsVUFDQUMsRUFBVXhWLEtBQVZ3VixPQUNJUixFQUFVNVksT0FBT21ILEtBQUs0UixHQUFxQjNTLE9BQVMscUJBQ3hELHdCQUNJMlQsRUFBYSxJQUFJekwsSUFBSXZCLE9BQU9tQixTQUFTQyxNQUNyQzRKLEVBQU8sQ0FDWDdPLEVBQUcsc0JBQUYsT0FBd0JpUSxHQUN6QmEsRUFBR0QsRUFBVzVMLEtBQ2Q5RSxFQUFHMFEsRUFBV0UsU0FDZEMsRUFBR3RMLFNBQVN1TCxTQUNaQyxFQUFHck4sT0FBT3NOLFdBQ1Z2SCxFQUFHbEUsU0FBUzBMLE9BQ1pDLElBQUt4TixPQUFPZSxVQUFZUCxLQUFLOEUsTUFBTTlFLEtBQUtDLFVBQVVULE9BQU9lLFlBQWMsR0FDdkUwTSxFQUFHaFAsS0FBS2lQLE1BQ1IvSyxFQUFHLFNBQ0hwRyxFQUFHeVAsRUFDSHZGLEVBQUd3RixFQUNIMEIsSUFBS3RCLEVBQ0x1QixHQUFJNU8sRUFDSjZPLEVBQUdoQyxFQUNIaUMsSUFBS3RCLEVBQ0xDLEtBQU1BLEdBRVIsT0FBTyxJQUFJc0IsS0FBSyxDQUFDdk4sS0FBS0MsVUFBVXVLLElBQVFzQixLQXhGNUMsa0NBMkZFLFdBQ0UsSUFBT0EsRUFBNkR6VixLQUE3RHlWLFFBQVNILEVBQW9EdFYsS0FBcERzViwwQkFBMkJELEVBQXlCclYsS0FBekJxVixjQUFlRyxFQUFVeFYsS0FBVndWLE9BQzFELElBQUtILEVBQWUsT0FBTyxFQUMzQixJQUFNbEIsRUFBTyxDQUNYeUMsRUFBR2hQLEtBQUtpUCxNQUNSblIsRUFBRzJQLEVBQ0h6RixFQUFHMEYsRUFDSHdCLElBQUt0QixHQUVQLE9BQU8sSUFBSTBCLEtBQUssQ0FBQ3ZOLEtBQUtDLFVBQVV1SyxJQUFRc0IsS0FwRzVDLHlDQW1JRSxXQUE4QixXQUNyQmpNLEVBQVV4SixLQUFWd0osT0FDUEEsRUFBT0QsSUFBSSxvQ0FDWEosT0FBT29JLGlCQUNILFlBQ0EsV0FDRS9ILEVBQU9ELElBQUkscUJBQ1gsSUFBTTROLEVBQVUsRUFBS0MsdUJBQ3JCLEdBQUtELEVBQUwsQ0FLQSxJQURBLElBQUl0QixHQUFTLEdBQ0xBLEdBQ05BLEVBQVNDLFVBQ0xDLFdBQVc5TixFQUFha1AsR0FFOUIzTixFQUFPRCxJQUFJLGlDQVJUQyxFQUFPRCxJQUFJLHVCQVVmLENBQUM4TixTQUFTLE9BdEpsQiwwQ0E4QkUsV0FBMEJyQyxFQUFTWSxHQUFuQyx1RUFNRSxJQUxBdE0sUUFBUUMsSUFBSSx1Q0FDUnNNLEdBQVMsRUFDYnBFLFlBQVcsV0FDVG9FLEdBQVMsSUFDUixNQUNLQSxHQUNOQSxFQUFTQyxVQUFVQyxXQUFXOU4sRUFBYWpJLEtBQUtzWCxvQkFBb0J0QyxFQUFTWSxJQVBqRixnREE5QkYsaUZBdUdFLFNBQTJCWixFQUFTWSxHQUNsQyxJQUFNTyxFQUFhLElBQUl6TCxJQUFJdkIsT0FBT21CLFNBQVNDLE1BQ3JDb0wsRUFBWXhNLE9BQU9DLGFBQWFDLFFBQVFoQixHQUFvQyxLQUFPLE1BQ25Ga04sRUFBWXBFLGVBQWU5SCxRQUFRakIsR0FJbkMrTCxFQUFPLENBQ1g3TyxFQUFHLHNCQUFGLE9BQXdCaVEsR0FDekJhLEVBQUdELEVBQVc1TCxLQUNkOUUsRUFBRzBRLEVBQVdFLFNBQ2RDLEVBQUd0TCxTQUFTdUwsU0FDWkMsRUFBR3JOLE9BQU9zTixXQUNWdkgsRUFBR2xFLFNBQVMwTCxPQUNaQyxJQUFLeE4sT0FBT2UsVUFBWVAsS0FBSzhFLE1BQU05RSxLQUFLQyxVQUFVVCxPQUFPZSxZQUFjLEdBQ3ZFME0sRUFBR2hQLEtBQUtpUCxNQUNSL0ssRUFBRyxTQUNIcEcsRUFBRyxHQUNIa0ssRUFBRyxHQUNIa0gsSUFBSyxLQUNMQyxHQUFJNU8sRUFDSjZPLEVBQUdoQyxFQUNIaUMsSUFBS3RCLEVBQ0xDLEtBQU1BLEdBRVIsT0FBTyxJQUFJc0IsS0FBSyxDQUFDdk4sS0FBS0MsVUFBVXVLLElBckJoQixDQUNkNVUsS0FBTSx5QkE1R1osS0EySkEsSUM1Sk1pSyxHQUFTLElBQUlSLEVBQU8sZ0NBRXBCdU8sR0FBQUEsV0FDSixXQUFZcEQsR0FBTSxVQUNoQixJQUFPcUQsRUFBeUJyRCxFQUF6QnFELFVBQVdsTSxFQUFjNkksRUFBZDdJLFdBQ2xCdEwsS0FBS3NMLFdBQWFBLEVBQ2xCdEwsS0FBS3dYLFVBQVlBLEUsb0RBb0NuQixXQUNFLElBQU1DLEVBQWN6WCxLQUFLMFgsaUJBRW5CQyxFQUEyQjNYLEtBQUtzTCxXQUFXc00sUUFDN0MsU0FBQ2hCLEdBQUQsT0FDRUEsRUFBRWlCLHVCQUF5QkosR0FDRCxNQUE1QmIsRUFBRWlCLHlCQUdOLE9BREFyTyxHQUFPRCxJQUFQLFVBQWNvTyxFQUF5Qm5WLE9BQXZDLGdDQUNLbVYsRUFBeUJuVixPQUN2Qm1WLEVBRHNDLEssNEJBSS9DLFdBQ0UsSUFBd0IsSUFBcEIzWCxLQUFLd1gsVUFFUCxNQURBaE8sR0FBT25JLEtBQUssMkJBQ04sSUFBSTNDLE1BQU0sWUFDWCxPQUFJc0IsS0FBS3dYLFVBQVksR0FBVyxJQUNoQyxPLDJDQW5EVCxpR0FDRWhPLEdBQU9ELElBQUksc0JBQ0p1TyxFVktHLGdCVUpKQyxFQUFnQnBPLEtBQUs4RSxNQUFNckYsYUFBYUMsUUFBUXlPLElBQ2xEeE0sRUFBYXlNLE1BQUFBLE9BSm5CLEVBSW1CQSxFQUFlek0sV0FDMUIwTSxFQUFZRCxNQUFBQSxPQUxwQixFQUtvQkEsRUFBZUMsVUFDNUIxTSxHQUFlME0sRUFOdEIsd0JBT0l4TyxHQUFPRCxJQUFJLHlDQVBmLFNBUXVCNkIsSUFSdkIsY0FRSUUsRUFSSixPQVNVMk0sRUFBeUIsQ0FDN0JELFVBQVdwUSxLQUFLaVAsTUFDaEJ2TCxXQUFBQSxHQUVGbEMsYUFBYStKLFFBQVEyRSxFQUFZbk8sS0FBS0MsVUFBVXFPLElBYnBELGtCQWNXM00sR0FkWCxZQWdCTTBNLEVBaEJOLHVCQWlCeUJwUSxLQUFLaVAsTUFBUW1CLEdBQWQsTVZuQlMsR1VFakMsd0JBbUJNeE8sR0FBT0QsSUFBSSwwQkFuQmpCLFVBb0J5QjZCLElBcEJ6QixlQW9CTUUsRUFwQk4sT0FxQlkyTSxFQUF5QixDQUM3QkQsVUFBV3BRLEtBQUtpUCxNQUNoQnZMLFdBQUFBLEdBRUZsQyxhQUFhK0osUUFBUTJFLEVBQVluTyxLQUFLQyxVQUFVcU8sSUF6QnRELGtCQTBCYTNNLEdBMUJiLGVBNkJFOUIsR0FBT0QsSUFBSSw0Q0E3QmIsa0JBOEJTK0IsR0E5QlQsNEMsaURBUElpTSxHQThETixNQ2hFTS9OLEdBQVMsSUFBSVIsRUFBTywyQkFnQnBCa1AsR0FBYSxTQUFDQyxFQUFTNVksR0FDM0IsSUFDRSxPQUFRQSxHQUNOLElBQUssVUFDSCxPQUFPNFIsZUFBZTlILFFBQVE4TyxHQUNoQyxJQUFLLFFBQ0gsT0FBTy9PLGFBQWFDLFFBQVE4TyxHQUM5QixRQUVFLE9BREEzTyxHQUFPRCxJQUFJLGVBQWdCaEssR0FDcEIsTUFFWCxNQUFPL0IsR0FFUCxPQURBZ00sR0FBT0QsSUFBUCxnQ0FBb0M0TyxHQUFXM2EsR0FDeEMsT0M5QkxnTSxHQUFTLElBQUlSLEVBQU8sMkJDQXBCUSxHQUFTLElBQUlSLEVBQU8sNEJDQ3BCUSxHQUFTLElBQUlSLEVBQU8sMkJDQXBCUSxHQUFTLElBQUlSLEVBQU8sdUIsMmdDQ0sxQixJQUFNUSxHQUFTLElBQUlSLEVBQU8sdUJBRUxvUCxHQUFBQSxXQUNuQixXQUFZakUsR0FBTSxVQUNoQixJQUFPa0UsRUFBbURsRSxFQUFuRGtFLFlBQWFDLEVBQXNDbkUsRUFBdENtRSxrQkFBcEIsRUFBMERuRSxFQUFuQm9FLFNBQUFBLE9BQXZDLE1BQWtELEtBQWxELEVBQ0F2WSxLQUFLcVksWUFBY0EsRUFDbkJyWSxLQUFLc1ksa0JBQW9CQSxFQUN6QnRZLEtBQUt1WSxTQUFXQSxFLG9DQUdsQixXQUFhLFdBQ1F2WSxLQUFLcVksYUFEYixJQUNYLDJCQUFxQyxLQUExQjNPLEVBQTBCLFFBRW5DLElBRHNCMUosS0FBS3dZLFVBQVU5TyxHQUVuQyxPQUFPLEdBSkEsOEJBT1gsT0FBTyxJLGtDQUdULFdBQXVCLFdBQ0YxSixLQUFLc1ksbUJBREgsSUFDckIsMkJBQTJDLEtBQWhDNU8sRUFBZ0MsUUFFekMsR0FEc0IxSixLQUFLd1ksVUFBVTlPLEdBRW5DLE9BQU9BLEVBQUs2RSxjQUpLLDhCQU9yQixPQUFPLEksdUJBR1QsU0FBVTdFLEdBQ1IsSUFBTytPLEVBQWdDL08sRUFBaEMrTyxNQUFPQyxFQUF5QmhQLEVBQXpCZ1AsZ0JBQWlCblosRUFBUW1LLEVBQVJuSyxLQUMzQm9aLEVBQWdCLEtBRXBCLE9BQVFwWixHQUNOLElBQUssVUFDSG9aLEVGdkN3QixTQUFDalAsR0FDL0JGLEdBQU9ELElBQUksZ0JBQWlCSSxLQUFLQyxVQUFVRixJQUMzQyxJQUFPRyxFQUE4QkgsRUFBOUJHLFNBQVVDLEVBQW9CSixFQUFwQkksVUFBVzNNLEVBQVN1TSxFQUFUdk0sTUFDNUIsTUFDTyxhQURDME0sRUFpQmMsU0FBQ0MsRUFBVzNNLEdBQ2xDLElBQU15YixHQUFZaFIsS0FBS2lQLE1BVkcsV0FDMUIsSUFDRSxPQUFPLElBQUlqUCxLQUFLcUYsU0FBU2tFLGVBQWU5SCxRQUFRakIsS0FDaEQsTUFBTzVLLEdBRVAsT0FEQWdNLEdBQU9ELElBQUksa0NBQW1DL0wsR0FDdkNvSyxLQUFLaVAsT0FLaUJnQyxJQUF5QixJQUN4RCxPQUFPNU8sRUFBaUIyTyxFQUFVOU8sRUFBV21ELFNBQVM5UCxJQWpCM0MyYixDQUFnQmhQLEVBQVczTSxHQUUzQixLRWdDVzRiLENBQWlCclAsR0FDakMsTUFDRixJQUFLLFVBQ0hpUCxFTDFDd0IsU0FBQ2pQLEdBQy9CRixHQUFPRCxJQUFJLGdCQUFpQkksS0FBS0MsVUFBVUYsSUFDM0MsSUFBT0csRUFBOEJILEVBQTlCRyxTQUFVQyxFQUFvQkosRUFBcEJJLFVBQVczTSxFQUFTdU0sRUFBVHZNLE1BQzVCLE9BQVEwTSxHQUNOLElBQUssV0FDSCxPQTBCa0IsU0FBQ0MsRUFBVzNNLEdBQ2xDLElBQU02YixFQUFZL0wsU0FBU2lMLEdBQVc5UCxFQUFpQyxZQUV2RSxPQURBb0IsR0FBT0QsSUFBSSw2QkFBOEJ5UCxHQUN2QixPQUFkQSxHQUNGeFAsR0FBT0QsSUFBSSxtREFDSixHQUVGVSxFQUFpQitPLEVBQVdsUCxFQUFXbUQsU0FBUzlQLElBakM1QzhiLENBQWdCblAsRUFBVzNNLEdBQ3BDLElBQUssZ0JBQ0gsT0FrQ3VCLFNBQUMyTSxFQUFXM00sR0FDdkMsSUFBTStiLEVBQWdCak0sU0FDbEJpTCxHQUFXN1AsRUFBbUQsVUFFbEUsT0FEQW1CLEdBQU9ELElBQUksaURBQWtEMlAsR0FDdkMsT0FBbEJBLEdBQ0YxUCxHQUFPRCxJQUFJLHNFQUNKLEdBRUZVLEVBQWlCaVAsRUFBZXBQLEVBQVdtRCxTQUFTOVAsSUExQ2hEZ2MsQ0FBcUJyUCxFQUFXM00sR0FDekMsUUFFRSxPQURBcU0sR0FBT0QsSUFBSSxtQkFBb0JNLElBQ3hCLEdLZ0NXdVAsQ0FBaUIxUCxHQUNqQyxNQUNGLElBQUssVUFDSGlQLEVKOUN3QixTQUFDalAsR0FDL0JGLEdBQU9ELElBQUksZ0JBQWlCSSxLQUFLQyxVQUFVRixJQUMzQyxJQWtCSWtFLEVBbEJHL0QsRUFBOEVILEVBQTlFRyxTQUFVQyxFQUFvRUosRUFBcEVJLFVBQVczTSxFQUF5RHVNLEVBQXpEdk0sTUFBT21ULEVBQWtENUcsRUFBbEQ0RyxTQUFVK0ksRUFBd0MzUCxFQUF4QzJQLFlBQTdDLEVBQXFGM1AsRUFBM0I2RyxpQkFBQUEsT0FBMUQsTUFBNkUsS0FBN0UsRUFDSStJLEVBQWVoSixFQUtuQixHQUpJZ0osSUFBaUJ0TyxTQUFTOEUsY0FBY3dKLEtBQzFDQSxFQUFlL0ksR0FBc0MrSSxHQUd0QyxPQUFielAsRUFDRixPQUFPSSxFQUFpQmUsU0FBUzhFLGNBQWN3SixHQUFleFAsRUFBVzNNLEdBRTNFLEdBQUltYyxJQUFpQnRPLFNBQVM4RSxjQUFjd0osR0FFMUMsT0FEQTlQLEdBQU9ELElBQUksK0JBQ0osRUFFVCxHQUFJOFAsSUFBZ0JyTyxTQUFTMkUsaUJBQWlCMEosR0FFNUMsT0FEQTdQLEdBQU9ELElBQUksK0JBQ0osRUFPVCxPQUhJK1AsRUFBYzFMLEVBQVU1QyxTQUFTOEUsY0FBY3dKLEdBQzFDRCxJQUFhekwsRUFBVXhILE1BQU1JLEtBQUt3RSxTQUFTMkUsaUJBQWlCMEosS0FFN0R4UCxHQUNOLElBQUssY0FDSCxJQUFJMFAsRUFFRkEsRUFERW5ULE1BQU1PLFFBQVFpSCxHQUNOQSxFQUFRN0IsUUFBTyxTQUFDeU4sRUFBVzFILEdBRW5DLE9BREEwSCxFQUFhdk0sU0FBUzZFLEVBQUsySCxZQUFZMVIsUUFBUSxLQUFNLElBQUlBLFFBQVEsSUFBSyxPQUVyRSxHQUVPa0YsU0FBU2pDLFNBQVM4RSxjQUFjd0osR0FBY0csWUFDbkQxUixRQUFRLEtBQU0sSUFBSUEsUUFBUSxJQUFLLEtBRXRDLElBQU0rRyxFQUFlN0IsU0FBU3NNLEdBQzlCLE9BQU90UCxFQUFpQjZFLEVBQWNoRixFQUFXM00sR0FFbkQsSUFBSyxZQUNILE9BQU84TSxFQUFpQjdELE1BQU1JLEtBQUtvSCxFQUFRMUMsV0FBWXBCLEVBQVczTSxHQUNwRSxJQUFLLFFBQ0gsSUFBTTJSLEVBQWUxSSxNQUFNTyxRQUFRaUgsR0FBV0EsRUFBUXBMLE9BQVNvTCxFQUFVLEVBQUksRUFDN0UsT0FBTzNELEVBQWlCNkUsRUFBY2hGLEVBQVczTSxHQUVuRCxRQUVFLE9BREFxTSxHQUFPRCxJQUFJLHlCQUNKLEdJRFdtUSxDQUFpQmhRLEdBQ2pDLE1BQ0YsSUFBSyxZQUNIaVAsRUFBZ0JsUCxFQUFtQkMsR0FDbkMsTUFDRixJQUFLLE1BQ0hpUCxFQUFnQnZPLEVBQWFWLEdBQzdCLE1BQ0YsSUFBSyxXQUNIaVAsRUh2RHlCLFNBQUNqUCxHQUNoQ0YsR0FBT0QsSUFBSSxnQkFBaUJJLEtBQUtDLFVBQVVGLElBQzNDLElBQU9HLEVBQThCSCxFQUE5QkcsU0FBVUMsRUFBb0JKLEVBQXBCSSxVQUFXM00sRUFBU3VNLEVBQVR2TSxNQUM1QixJQUFLME0sRUFFSCxPQURBTCxHQUFPRCxJQUFJLDhCQUNKLEVBRVQsSUFDTVEsRUFEZS9FLFNBQVM2RSxFQUNUOFAsR0FDckIsT0FBTzFQLEVBQWlCRixFQUFjRCxFQUFXM00sR0c4QzNCeWMsQ0FBa0JsUSxHQUNsQyxNQUNGLElBQUssY0FDSGlQLEVEekRvQixTQUFDalAsR0FDM0JGLEdBQU9ELElBQUksZ0JBQWlCSSxLQUFLQyxVQUFVRixJQUMzQyxJQUFPRyxFQUE4QkgsRUFBOUJHLFNBQVVDLEVBQW9CSixFQUFwQkksVUFBVzNNLEVBQVN1TSxFQUFUdk0sTUFFNUIsR0FDTyxnQkFEQzBNLEVBQ04sQ0FDRSxJQUFNZ1EsRUFBVzFRLE9BQU8wSCxXQUFXM0ksR0FBb0I0SSxRQUFVLFNBQVcsVUFDNUUsT0FBTzdHLEVBQWlCNFAsRUFBVS9QLEVBQVczTSxJQ2tEM0IyYyxDQUFhcFEsR0FDN0IsTUFDRixRQUNFRixHQUFPRCxJQUFQLDZCQUFpQ2hLLElBSXJDLEdBQUlrWixFQUNGLE9BQVFDLEdBQ04sSUFBSyxNQUNIQyxFQUFnQkEsR0FBaUIzWSxLQUFLd1ksVUFBVUMsR0FDaEQsTUFDRixJQUFLLEtBQ0hFLEVBQWdCQSxHQUFpQjNZLEtBQUt3WSxVQUFVQyxHQUNoRCxNQUNGLElBQUssTUFDSEUsRUFBZ0JBLEdBQWlCM1ksS0FBS3dZLFVBQVVDLEdBQ2hELE1BQ0YsUUFDRWpQLEdBQU9ELElBQUksMkJBSWpCLE9BQU9vUCxNLEVBM0VVUCxHQ1BmNU8sR0FBUyxJQUFJUixFQUFPLGVBRWIrUSxHQUFpQiw2QkFBRywyRkFDL0J2USxHQUFPRCxJQUFJLGdDQUNMbUcsRUFBVUQsSUFGZSx1QkFJN0JqRyxHQUFPRCxJQUFJLGdCQUprQixrQkFLdEIsTUFMc0IsY0FPekJrTSxFQUFVLElBQUl1RSxTQUNacEgsT0FBTyxlQUFnQixvQkFSQSxTQVNQdkgsTWpCUkkscURpQlFrQixDQUM1QzlNLE9BQVEsT0FDUjRWLEtBQU14SyxLQUFLQyxVQUFVOEYsR0FDckIrRixRQUFBQSxJQVo2QixXQVMzQjFGLEVBVDJCLFFBY2RrSyxHQWRjLHdCQWU3QnpRLEdBQU9ELElBQUksOEJBZmtCLGtCQWdCdEIsTUFoQnNCLHlCQWtCWHdHLEVBQVl4RSxPQWxCRCxXQWtCL0J3RSxFQWxCK0IsK0JBb0I3QnZHLEdBQU9ELElBQUksZ0RBcEJrQixrQkFxQnRCLE1BckJzQixlQXVCL0JDLEdBQU9ELElBQUksa0NBdkJvQixrQkF3QnhCd0csR0F4QndCLDRDQUFILHFELDJnQ0NnQjlCLFlBQUMsK0ZBQ0s2RixFQUFPLEtBRFosb0xBR1NwTSxFQUFTLElBQUlSLEdBQ1ozSCxLQUFLLHFCQUNONlksRUFBcUJILE1BRXJCSSxFQUFjaFIsT0FBT21CLFNBQVNLLFFBQ3BCUixTQUFTLGNBQ3ZCaEIsT0FBT0MsYUFBYStKLFFBQVE5SyxFQUFrQyxHQUNyRDhSLEVBQVloUSxTQUFTLGNBQzlCaEIsT0FBT0MsYUFBYStKLFFBQVE5SyxFQUFrQyxHQUNyRDhSLEVBQVloUSxTQUFTLGVBQzlCaEIsT0FBT0MsYUFBYWdSLFdBQVcvUixHQUczQnNELEVBQWFILEVBQXdCUixTQUFTMEwsT2xCcEM3QixPa0JxQ3ZCbE4sRUFBT0QsSUFBSSw0QkFBNkJvQyxHQWpCM0MsU0FrQjJCTyxFQUFhUCxHQWxCeEMsVUFrQlM2TCxFQWxCVCxPQW1CUXJPLE9BQU9DLGFBQWFDLFFBQVFoQixHQW5CcEMsc0JBb0JTbVAsRUFBWXJQLEdBcEJyQixxQkFxQjBCLElBQWZxUCxFQXJCWCx1QkFzQmUsSUFBSTlZLE1BQU0sMEJBdEJ6QixjQXdCT2tYLEdBQU8sRUFDRCxJQUFJbFgsTUFBTSx3Q0F6QnZCLFFBMEJPa1gsR0FBTyxFQTFCZCx3QkEyQlVwTSxFQUFPbkksS0FBSyw0REEzQnRCLFdBNkJRMkosU0FBU0MsZ0JBQWdCQyxVQUFVbVAsU0FBUyxnQkE3QnBELHVCQThCVyxJQUFJM2IsTUFBTSw0QkE5QnJCLGVBaUNHcVAsU1pvRkt1TSxPQUFZdEssT0FBb0J1SyxPQUFZQyxPQUM3Q3hCLE9BQ0F5QixPQUNBbEYsT0FDQW1GLEVBSkNKLEVBQWlFbFMsRUFBckQ0SCxFQUFxRDVILEVBQWpDbVMsRUFBaUNuUyxFQUFyQm9TLEVBQXFCcFMsRUFDbEU0USxHQUFZN0gsZUFBZTlILFFBQVFpUixHQUNuQ0csR0FBbUJ0SixlQUFlOUgsUUFBUTJHLEdBQzFDdUYsR0FBWXBFLGVBQWU5SCxRQUFRa1IsR0FDbkNHLEdBQW1CdkosZUFBZTlILFFBQVFtUixHQUMzQ3hCLEdBR0g3SCxlQUFlZ0MsUUFBUW1ILEVBQVlyTixTQUFTK0wsSUFBYSxHQUZ6RDdILGVBQWVnQyxRQUFRbUgsRUFBWSxHQUlaLE9BQXJCRyxJQUNGdEosZUFBZWdDLFFBQVFuRCxFQUFvQixHQUV4Q3VGLElBQ0hwRSxlQUFlZ0MsUUFBUW9ILEVBQVkxUCxPQUFPb0UsY0FFdkN5TCxJQUNIdkosZUFBZWdDLFFBQVFxSCxFQUFtQjVTLEtBQUtpUCxPWW5HL0NwRixZQUFXLFdBQ1QxRyxNQUNDLEtBQ0c0UCxFQUFvQnBELEdBQUFBLGdCQUNwQnNDLEVBQVcxUSxPQUFPMEgsV0FBVzNJLEdBQW9CNEksUUFDakQ4SixFQUFrQixDQUFDQyxTQUFTLEVBQU1DLFdBQVcsR0FHN0NDLEVBM0NULDZCQTJDMkIsV0FBTzdLLEdBQVAsd0dBQ2ZyQixFQUE4RnFCLEVBQTlGckIsR0FBSUwsRUFBMEYwQixFQUExRjFCLFFBQVM2SixFQUFpRm5JLEVBQWpGbUksWUFBYTJDLEVBQW9FOUssRUFBcEU4SyxPQUFRQyxFQUE0RC9LLEVBQTVEK0ssdUJBQXdCQyxFQUFvQ2hMLEVBQXBDZ0wsY0FBZTVDLEVBQXFCcEksRUFBckJvSSxrQkFDakUsV0FBWDBDLEdBQXdCbkIsRUFGTix1QkFHcEJyUSxFQUFPRCxJQUFJLHNDQUhTLDZCQU1QLFlBQVh5UixJQUF3Qm5CLEVBTk4sdUJBT3BCclEsRUFBT0QsSUFBSSx1Q0FQUyw4QkFVbEIwUixFQVZrQixxQkFXaEI3ZSxPQUFPbUgsS0FBSzZSLEdBQThCakwsU0FBUzZHLE9BQU9pSyxJQVgxQyx3QkFZbEJ6UixFQUFPRCxJQUFQLG9CQUF3QnNGLEVBQXhCLHNEQUNBdUcsRUFBNkJ2RyxHQUFNLENBQUNvTSx1QkFBQUEsRUFBd0IxTSxhQUFjLEtBQU1DLFFBQUFBLEdBYjlELG9FQWlCS3RDLEVBQWFQLEVBQWFrRCxFQUFJLEdBakJuQyxXQWlCaEJzTSxFQWpCZ0IsT0FrQmhCaFMsT0FBT0MsYUFBYUMsUUFBUWhCLElBQ2tDLE1BQWxFYyxPQUFPQyxhQUFhQyxRQUFRaEIsS0FDMUI4UyxFQUFlLE9BRWJBLEVsQjdFbUIsSWtCdURILHdCQXVCbEIzUixFQUFPRCxJQUFQLG9CQUF3QnNGLEVBQXhCLDBDQUNBdUcsRUFBNkJ2RyxHQUFNLENBQUNvTSx1QkFBd0IsS0FBTTFNLGFBQWMsS0FBTUMsUUFBQUEsR0F4QnBFLDJCQTRCdEIsR0FBSTBNLEVBQWUsQ0FDYkUsRUFBc0JGLEVBQ3JCOVUsTUFBTU8sUUFBUXVVLEtBQWdCRSxFQUFzQixDQUFDRixJQUMxRDFSLEVBQU9ELElBQVAseUJBQTZCMlIsRUFBN0Isa0NBQW9Fck0sSUFIbkQsS0FJVXVNLEdBSlYsSUFJakIsMkJBQVdDLEVBQXFDLFNBQ3hDQyxFQUFnQkMsRUFBcUJGLEdBQ3ZDRSxFQUFxQkYsR0FBZ0IsSUFDdkJsUixTQUFTMEUsR0FDekJyRixFQUFPRCxJQUFJLDZDQUNOZ1MsRUFBcUJGLEdBQXJCLFlBQXlDQyxHQUF6QyxDQUF3RHpNLElBVGhELCtCQTVCRyxHQXdDaEIyTSxFQUFhLElBQUlwRCxHQUFXLENBQUNDLFlBQUFBLEVBQWFDLGtCQUFBQSxJQUNoRDlPLEVBQU9ELElBQUksK0NBQWlEc0YsR0FDdkR3SixJQUFlbUQsRUFBV0MsYUExQ1Qsb0JBMkNmbkQsRUEzQ2Usd0JBNENsQnJELEVBQWdCekcsRUFBU3VCLEdBQ3pCb0YsRUFBb0J0RyxHQUFNLENBQUNOLGFBQWMsS0FBTUMsUUFBQUEsR0E3QzdCLGtDQWdEcEJoRixFQUFPRCxJQUFJLHNEQUF3RHNGLEdBQzdETixFQUFlaU4sRUFBV0UsdUJBQzVCQyxFQUFXbk4sRUFDWEQsR0FDRi9FLEVBQU9ELElBQUksaUNBQWtDZ0YsR0FDN0NvTixFQUFXdE4sRUFBZUcsRUFBU0QsSUFDOUIvRSxFQUFPRCxJQUFJLDBDQUNsQjBMLEVBQWdCMEcsRUFBVTVMLEdBQzFCb0YsRUFBb0J0RyxHQUFNLENBQUNOLGFBQUFBLEVBQWNDLFFBQVNtTixHQXhEOUIsMkJBMkR0Qm5TLEVBQU9ELElBQUksb0NBQXFDc0YsR0EzRDFCLDRDQTNDM0IsdURBMkdTK00sRUFBdUIsV0FDM0IsSUFBT0MsRUFBa0N4VCxFQUN6QyxHQUFJYyxPQUFPbUIsU0FBU0MsS0FBS0osU0FBUyx5QkFBMEIsQ0FDMUQsSUFBTTJSLEVBQWdCMVYsTUFBTUksS0FBS3dFLFNBQVMyRSxpQkFBaUIsV0FFM0QsR0FEQW1NLEVBQWM3WixLQUFkLE1BQUE2WixFQUFhLEVBQVMxVixNQUFNSSxLQUFLd0UsU0FBUzJFLGlCQUFpQixrQkFDdERtTSxFQUFjdFosT0FHakIsT0FGQWdILEVBQU9ELElBQUksaUNBQ1hKLE9BQU9DLGFBQWErSixRQUFRMEksRUFBZ0MsR0FHOURyUyxFQUFPRCxJQUFJLG1CQUFvQnVTLEdBQy9CLElBQU1DLEVBQTZCRCxFQUFjL1AsUUFBTyxTQUFDeU4sRUFBVzFILEdBRWxFLE9BREEwSCxFQUFhdk0sU0FBUzZFLEVBQUsySCxZQUFZMVIsUUFBUSxLQUFNLElBQUlBLFFBQVEsSUFBSyxPQUVyRSxHQUNIeUIsRUFBT0QsSUFBSSxrQ0FBbUN3UyxHQUMxQ0EsR0FBOEIsR0FDaEM1UyxPQUFPQyxhQUFhK0osUUFDaEIwSSxFQUFnQ0UsUUFFN0I1UyxPQUFPbUIsU0FBU0MsS0FBS0osU0FBUyx3QkFJakIsT0FEQWhCLE9BQU9DLGFBQWFDLFFBQVF3UyxLQUZsRDFTLE9BQU9DLGFBQWErSixRQUFRMEksRUFBZ0MsT0FVNUQxUyxPQUFPbUIsU0FBU0MsS0FBS0osU0FBUywyQkFDMUI2UixFQUFXLElBQUlDLGtCQUFpQixXQUNwQ3pTLEVBQU9ELElBQUksbURBQ1hxUyxRQUVJTSxFQUFxQmxSLFNBQVM4RSxjQUFjLG1CQUMxQmtNLEVBQVNHLFFBQVFELEVBQW9CdEIsSUFoSmxFLFVBb0oyQ3ZYLFFBQVErWSxJQUFJLENBQUN6QixFQUFtQlQsSUFwSjNFLDZCQW9KVTVPLEVBcEpWLEtBb0pzQnlFLEVBcEp0QixLQXNKR3ZHLEVBQU9ELElBQUkscUJBQXNCK0IsR0FDakM5QixFQUFPRCxJQUFJLDRCQUE2QmlPLEdBQ3hDaE8sRUFBT0QsSUFBSSxnQkFBaUJwQixHQUM1QnFCLEVBQU9ELElBQUksMEJBQTJCaU8sRUFBWXJQLEdBQ2xEcUIsRUFBT25JLEtBQVAsK0JBQW9DOEcsRUFBcEMsTUFFTWtVLEVBQXNCLElBQUk5RSxHQUFvQixDQUNsRGpNLFdBQUFBLEVBQ0FrTSxVQUFBQSxLQUVJOEUsRUFBb0JELEVBQW9CRSx3QkFDdkIvWixPQWpLMUIsd0JBa0tLZ0gsRUFBT0QsSUFBSSwyREFDWHdCLElBQ0FtSyxFQUFBQSxhQUFxQix3QkFBeUJVLEdBcEtuRCxzQ0F1S1NULEVBQXNCLEdBQ3RCQyxFQUErQixHQUMvQm1HLEVBQXVCLEdBektoQyxLQTBLMkJlLEdBMUszQixrRUEwS2NwTSxFQTFLZCw0QkE0S2E2SyxFQUFnQjdLLEdBNUs3QiwyREE4S08xRyxFQUFPRCxJQUFJLHdCQUFYLE1BOUtQLGlKQTZMRyxJQVpBQyxFQUFPbkksS0FBSyxzQkFDWjBKLElBR0F2QixFQUFPRCxJQUFJLHVCQUF3QjRMLElBQzdCcUgsRUFBVSxJQUFJdEgsRUFBUUMsRUFBcUJDLElBQ3pDcUgsU0FBUzdHLEdBRWpCckksYUFBWSxXQUNWaVAsRUFBUUUsb0JBQW9CdkgsRUFBcUJDLEtBQ2hELEtBM0xOLGFBNkxRLElBQU1sWSxFQUFHLEtBQ055ZixFQUFlcEIsRUFBcUJyZSxHQUNwQzBmLEVBQW9CTixFQUFrQjFFLFFBQU8sU0FBQ2hCLEdBQUQsT0FBTytGLEVBQWF4UyxTQUFTeU0sRUFBRS9ILE9BQ2xGLE9BQVEzUixHQUNOLElBQUssa0JBQ0gsSUFBTThlLEVBQVcsSUFBSWEsZ0JBQWUsV0FBVyxXQUNyQkQsR0FEcUIsSUFDN0MsMkJBQTJDLEtBQWhDMU0sRUFBZ0MsUUFDekMxRyxFQUFPRCxJQUFQLDZCQUFpQzJHLEVBQVVyQixHQUEzQywwQkFDQWtNLEVBQWdCN0ssSUFIMkIsa0NBTS9DOEwsRUFBU0csUUFBUW5SLFNBQVNDLGlCQUUxQixNQUNGLElBQUssVUFDSHdHLFlBQVcsV0FBTSxXQUNTbUwsR0FEVCxJQUNmLDJCQUEyQyxLQUFoQzFNLEVBQWdDLFFBQ3pDMUcsRUFBT0QsSUFBUCw2QkFBaUMyRyxFQUFVckIsR0FBM0Msa0JBQ0FrTSxFQUFnQjdLLElBSEgsaUNBS2QsS0FFSCxNQUNGLElBQUssaUJBQWtCLFdBQ0cwTSxHQURILDJCQUNWMU0sRUFEVSxhQUVTOUosTUFBTU8sUUFBUXVKLEVBQVU0TSxrQkFDcEQ1TSxFQUFVNE0saUJBQW1CLENBQUM1TSxFQUFVNE0sbUJBSHJCLElBSW5CLDJCQUE0QyxLQUFqQ3hNLEVBQWlDLFFBQ3BDMUMsRUFBVTVDLFNBQVM4RSxjQUFjUSxHQUNuQzFDLEdBQ2UsSUFBSXFPLGtCQUFpQixXQUNwQ3pTLEVBQU9ELElBQVAsNkJBQWlDMkcsRUFBVXJCLEdBQTNDLHlCQUNBa00sRUFBZ0I3SyxNQUVUaU0sUUFBUXZPLEVBQVNnTixJQVhYLGdDQUNyQiwyQkFBMkMsSUFEdEIsOEJBZ0JyQixNQUNGLElBQUssWUFDSHpSLE9BQU80VCxTQUFXLFdBQVcsV0FDSEgsR0FERyxJQUMzQiwyQkFBMkMsS0FBaEMxTSxFQUFnQyxRQUN6QzFHLEVBQU9ELElBQVAsNkJBQWlDMkcsRUFBVXJCLEdBQTNDLG9CQUNBa00sRUFBZ0I3SyxJQUhTLGdDQU83QixNQUNGLFFBQ0UxRyxFQUFPRCxJQUFJLDRCQUE2QnJNLEtBbEQ5QyxNQUFrQmQsT0FBT21ILEtBQUtnWSxHQUE5QixlQUFxRCxJQTdMeEQsa0Nab0hzQyxJQUM5QmpCLEVBQVl0SyxFQUFvQnVLLEVBQVlDLEVBQzdDeEIsR0FDQXlCLEdBQ0FsRixHQUNBbUYsS1l6SFAsaUxBb1BHM1AsSUFDQXpCLFFBQVF5TCxLQUFLLFlBQWEsS0FBSUMsU0FDMUJBLEVBQVUsS0FBSUEsUUFDRSwyQkFBaEIsS0FBSUEsU0FBd0QseUNBQWhCLEtBQUlBLFVBQ2xEQSxFQUFVLG1DQUFILE9BQXNDLEtBQUlBLFVBRW5ERSxFQUFBQSxhQUFxQkYsRUFBU1ksR0ExUGpDLHdEQUFELEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheUxpa2VUb0FycmF5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlXaXRoSG9sZXMuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL25vbkl0ZXJhYmxlUmVzdC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlXaXRob3V0SG9sZXMuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9ub25JdGVyYWJsZVNwcmVhZC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvbG9nZ2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvZGF0YUxheWVyQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL3VybENoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy91dGlscy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL0NvbXBvbmVudHMvdnZfc3VwZXJfcHJpY2VfYmFkZ2UuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5QXBwbHlUcmVhdG1lbnRzL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheU1vbml0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5VHJlYXRtZW50UmVwb3NpdG9yeS9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2NvdW50ZXJDaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvZWxlbWVudENoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9mdW5jdGlvbkNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9zZXNzaW9uQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2VudkNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlBcGkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5Q2xpZW50U0RLL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlZ2VuZXJhdG9yLXJ1bnRpbWVcIik7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbnZhciBydW50aW1lID0gKGZ1bmN0aW9uIChleHBvcnRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBPcCA9IE9iamVjdC5wcm90b3R5cGU7XG4gIHZhciBoYXNPd24gPSBPcC5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sIDoge307XG4gIHZhciBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG4gIHZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCI7XG4gIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG5cbiAgZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIG9ialtrZXldO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gSUUgOCBoYXMgYSBicm9rZW4gT2JqZWN0LmRlZmluZVByb3BlcnR5IHRoYXQgb25seSB3b3JrcyBvbiBET00gb2JqZWN0cy5cbiAgICBkZWZpbmUoe30sIFwiXCIpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBkZWZpbmUgPSBmdW5jdGlvbihvYmosIGtleSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuXG4gICAgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3I7XG4gICAgdmFyIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKTtcbiAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTtcblxuICAgIC8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMuXG4gICAgZ2VuZXJhdG9yLl9pbnZva2UgPSBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBleHBvcnRzLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICAvLyBUaGlzIGlzIGEgcG9seWZpbGwgZm9yICVJdGVyYXRvclByb3RvdHlwZSUgZm9yIGVudmlyb25tZW50cyB0aGF0XG4gIC8vIGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQuXG4gIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuICBkZWZpbmUoSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gIGRlZmluZShHcCwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gIGRlZmluZShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvbik7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKFxuICAgIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLFxuICAgIHRvU3RyaW5nVGFnU3ltYm9sLFxuICAgIFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICApO1xuXG4gIC8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlXG4gIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuXG4gIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcbiAgICBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgIGRlZmluZShwcm90b3R5cGUsIG1ldGhvZCwgZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3JcbiAgICAgID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICAgIGRlZmluZShnZW5GdW4sIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgICBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCk7XG4gICAgcmV0dXJuIGdlbkZ1bjtcbiAgfTtcblxuICAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG9cbiAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3RcbiAgLy8gYGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIilgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLlxuICBleHBvcnRzLmF3cmFwID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHsgX19hd2FpdDogYXJnIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IsIFByb21pc2VJbXBsKSB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJuZXh0XCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24odW53cmFwcGVkKSB7XG4gICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgICAvLyBjdXJyZW50IGl0ZXJhdGlvbi5cbiAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIC8vIElmIGEgcmVqZWN0ZWQgUHJvbWlzZSB3YXMgeWllbGRlZCwgdGhyb3cgdGhlIHJlamVjdGlvbiBiYWNrXG4gICAgICAgICAgLy8gaW50byB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZSBoYW5kbGVkIHRoZXJlLlxuICAgICAgICAgIHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCBlcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHByZXZpb3VzUHJvbWlzZTtcblxuICAgIGZ1bmN0aW9uIGVucXVldWUobWV0aG9kLCBhcmcpIHtcbiAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2VJbXBsKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPVxuICAgICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAgIC8vIGFsbCBwcmV2aW91cyBQcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQgYmVmb3JlIGNhbGxpbmcgaW52b2tlLFxuICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAgIC8vIGNhbGwgaW52b2tlIGltbWVkaWF0ZWx5LCB3aXRob3V0IHdhaXRpbmcgb24gYSBjYWxsYmFjayB0byBmaXJlLFxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAgIC8vIGlzIHdoeSB0aGUgUHJvbWlzZSBjb25zdHJ1Y3RvciBzeW5jaHJvbm91c2x5IGludm9rZXMgaXRzXG4gICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAgIC8vIGFzeW5jIGZ1bmN0aW9ucyBpbiB0ZXJtcyBvZiBhc3luYyBnZW5lcmF0b3JzLCBpdCBpcyBlc3BlY2lhbGx5XG4gICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsXG4gICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXJcbiAgICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmdcbiAgICAgICAgKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cbiAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICB9XG5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKTtcbiAgZGVmaW5lKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlLCBhc3luY0l0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xuICBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QsIFByb21pc2VJbXBsKSB7XG4gICAgaWYgKFByb21pc2VJbXBsID09PSB2b2lkIDApIFByb21pc2VJbXBsID0gUHJvbWlzZTtcblxuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3IoXG4gICAgICB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSxcbiAgICAgIFByb21pc2VJbXBsXG4gICAgKTtcblxuICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbilcbiAgICAgID8gaXRlciAvLyBJZiBvdXRlckZuIGlzIGEgZ2VuZXJhdG9yLCByZXR1cm4gdGhlIGZ1bGwgaXRlcmF0b3IuXG4gICAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgIHZhciBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlRXhlY3V0aW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzpcbiAgICAgICAgLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZVxuICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgIGNvbnRleHQuYXJnID0gYXJnO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcbiAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XG4gICAgICAgICAgICByZXR1cm4gZGVsZWdhdGVSZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAgY29udGV4dC5zZW50ID0gY29udGV4dC5fc2VudCA9IGNvbnRleHQuYXJnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydCkge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAgIHRocm93IGNvbnRleHQuYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuXG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZVxuICAgICAgICAgICAgPyBHZW5TdGF0ZUNvbXBsZXRlZFxuICAgICAgICAgICAgOiBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZyxcbiAgICAgICAgICAgIGRvbmU6IGNvbnRleHQuZG9uZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZykgY2FsbCBhYm92ZS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gQ2FsbCBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF0oY29udGV4dC5hcmcpIGFuZCBoYW5kbGUgdGhlXG4gIC8vIHJlc3VsdCwgZWl0aGVyIGJ5IHJldHVybmluZyBhIHsgdmFsdWUsIGRvbmUgfSByZXN1bHQgZnJvbSB0aGVcbiAgLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsXG4gIC8vIHNldHRpbmcgY29udGV4dC5kZWxlZ2F0ZSB0byBudWxsLCBhbmQgcmV0dXJuaW5nIHRoZSBDb250aW51ZVNlbnRpbmVsLlxuICBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXTtcbiAgICBpZiAobWV0aG9kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEEgLnRocm93IG9yIC5yZXR1cm4gd2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIC50aHJvd1xuICAgICAgLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAvLyBOb3RlOiBbXCJyZXR1cm5cIl0gbXVzdCBiZSB1c2VkIGZvciBFUzMgcGFyc2luZyBjb21wYXRpYmlsaXR5LlxuICAgICAgICBpZiAoZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbVxuICAgICAgICAgICAgLy8gXCJyZXR1cm5cIiB0byBcInRocm93XCIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuXG4gICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcblxuICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgaWYgKCEgaW5mbykge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTtcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnlcbiAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcblxuICAgICAgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcblxuICAgICAgLy8gSWYgY29udGV4dC5tZXRob2Qgd2FzIFwidGhyb3dcIiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlXG4gICAgICAvLyBleGNlcHRpb24sIGxldCB0aGUgb3V0ZXIgZ2VuZXJhdG9yIHByb2NlZWQgbm9ybWFsbHkuIElmXG4gICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgXCJuZXh0XCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlblxuICAgICAgLy8gXCJjb25zdW1lZFwiIGJ5IHRoZSBkZWxlZ2F0ZSBpdGVyYXRvci4gSWYgY29udGV4dC5tZXRob2Qgd2FzXG4gICAgICAvLyBcInJldHVyblwiLCBhbGxvdyB0aGUgb3JpZ2luYWwgLnJldHVybiBjYWxsIHRvIGNvbnRpbnVlIGluIHRoZVxuICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLlxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSBcInJldHVyblwiKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlLXlpZWxkIHRoZSByZXN1bHQgcmV0dXJuZWQgYnkgdGhlIGRlbGVnYXRlIG1ldGhvZC5cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXG4gICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cbiAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBkZWZpbmUoR3AsIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvclwiKTtcblxuICAvLyBBIEdlbmVyYXRvciBzaG91bGQgYWx3YXlzIHJldHVybiBpdHNlbGYgYXMgdGhlIGl0ZXJhdG9yIG9iamVjdCB3aGVuIHRoZVxuICAvLyBAQGl0ZXJhdG9yIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBpdC4gU29tZSBicm93c2VycycgaW1wbGVtZW50YXRpb25zIG9mIHRoZVxuICAvLyBpdGVyYXRvciBwcm90b3R5cGUgY2hhaW4gaW5jb3JyZWN0bHkgaW1wbGVtZW50IHRoaXMsIGNhdXNpbmcgdGhlIEdlbmVyYXRvclxuICAvLyBvYmplY3QgdG8gbm90IGJlIHJldHVybmVkIGZyb20gdGhpcyBjYWxsLiBUaGlzIGVuc3VyZXMgdGhhdCBkb2Vzbid0IGhhcHBlbi5cbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9pc3N1ZXMvMjc0IGZvciBtb3JlIGRldGFpbHMuXG4gIGRlZmluZShHcCwgaXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcblxuICBkZWZpbmUoR3AsIFwidG9TdHJpbmdcIiwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24oc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICAvLyBSZXNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmXG4gICAgICAgICAgICAgIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmXG4gICAgICAgICAgICAgICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcblxuICAgICAgICBpZiAoY2F1Z2h0KSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEgY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcbiAgICAgICAgICAodHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgIHR5cGUgPT09IFwiY29udGludWVcIikgJiZcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxuICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZVxuICAvLyBvciBub3QsIHJldHVybiB0aGUgcnVudGltZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gZGVjbGFyZSB0aGUgdmFyaWFibGVcbiAgLy8gcmVnZW5lcmF0b3JSdW50aW1lIGluIHRoZSBvdXRlciBzY29wZSwgd2hpY2ggYWxsb3dzIHRoaXMgbW9kdWxlIHRvIGJlXG4gIC8vIGluamVjdGVkIGVhc2lseSBieSBgYmluL3JlZ2VuZXJhdG9yIC0taW5jbHVkZS1ydW50aW1lIHNjcmlwdC5qc2AuXG4gIHJldHVybiBleHBvcnRzO1xuXG59KFxuICAvLyBJZiB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGUsIHVzZSBtb2R1bGUuZXhwb3J0c1xuICAvLyBhcyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIG5hbWVzcGFjZS4gT3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBlbXB0eVxuICAvLyBvYmplY3QuIEVpdGhlciB3YXksIHRoZSByZXN1bHRpbmcgb2JqZWN0IHdpbGwgYmUgdXNlZCB0byBpbml0aWFsaXplXG4gIC8vIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgdmFyaWFibGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUuXG4gIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgPyBtb2R1bGUuZXhwb3J0cyA6IHt9XG4pKTtcblxudHJ5IHtcbiAgcmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbn0gY2F0Y2ggKGFjY2lkZW50YWxTdHJpY3RNb2RlKSB7XG4gIC8vIFRoaXMgbW9kdWxlIHNob3VsZCBub3QgYmUgcnVubmluZyBpbiBzdHJpY3QgbW9kZSwgc28gdGhlIGFib3ZlXG4gIC8vIGFzc2lnbm1lbnQgc2hvdWxkIGFsd2F5cyB3b3JrIHVubGVzcyBzb21ldGhpbmcgaXMgbWlzY29uZmlndXJlZC4gSnVzdFxuICAvLyBpbiBjYXNlIHJ1bnRpbWUuanMgYWNjaWRlbnRhbGx5IHJ1bnMgaW4gc3RyaWN0IG1vZGUsIGluIG1vZGVybiBlbmdpbmVzXG4gIC8vIHdlIGNhbiBleHBsaWNpdGx5IGFjY2VzcyBnbG9iYWxUaGlzLiBJbiBvbGRlciBlbmdpbmVzIHdlIGNhbiBlc2NhcGVcbiAgLy8gc3RyaWN0IG1vZGUgdXNpbmcgYSBnbG9iYWwgRnVuY3Rpb24gY2FsbC4gVGhpcyBjb3VsZCBjb25jZWl2YWJseSBmYWlsXG4gIC8vIGlmIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgZm9yYmlkcyB1c2luZyBGdW5jdGlvbiwgYnV0IGluIHRoYXQgY2FzZVxuICAvLyB0aGUgcHJvcGVyIHNvbHV0aW9uIGlzIHRvIGZpeCB0aGUgYWNjaWRlbnRhbCBzdHJpY3QgbW9kZSBwcm9ibGVtLiBJZlxuICAvLyB5b3UndmUgbWlzY29uZmlndXJlZCB5b3VyIGJ1bmRsZXIgdG8gZm9yY2Ugc3RyaWN0IG1vZGUgYW5kIGFwcGxpZWQgYVxuICAvLyBDU1AgdG8gZm9yYmlkIEZ1bmN0aW9uLCBhbmQgeW91J3JlIG5vdCB3aWxsaW5nIHRvIGZpeCBlaXRoZXIgb2YgdGhvc2VcbiAgLy8gcHJvYmxlbXMsIHBsZWFzZSBkZXRhaWwgeW91ciB1bmlxdWUgcHJlZGljYW1lbnQgaW4gYSBHaXRIdWIgaXNzdWUuXG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gXCJvYmplY3RcIikge1xuICAgIGdsb2JhbFRoaXMucmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbiAgfSBlbHNlIHtcbiAgICBGdW5jdGlvbihcInJcIiwgXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKHJ1bnRpbWUpO1xuICB9XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcblx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIG1vZHVsZTsgfTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIGRlZmluaXRpb24pIHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgfSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICB9LCBfdHlwZW9mKG9iaik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYXJyMltpXSA9IGFycltpXTtcbiAgfVxuXG4gIHJldHVybiBhcnIyO1xufSIsImltcG9ydCBhcnJheUxpa2VUb0FycmF5IGZyb20gXCIuL2FycmF5TGlrZVRvQXJyYXkuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59IiwiaW1wb3J0IGFycmF5V2l0aEhvbGVzIGZyb20gXCIuL2FycmF5V2l0aEhvbGVzLmpzXCI7XG5pbXBvcnQgaXRlcmFibGVUb0FycmF5TGltaXQgZnJvbSBcIi4vaXRlcmFibGVUb0FycmF5TGltaXQuanNcIjtcbmltcG9ydCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSBmcm9tIFwiLi91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IG5vbkl0ZXJhYmxlUmVzdCBmcm9tIFwiLi9ub25JdGVyYWJsZVJlc3QuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgbm9uSXRlcmFibGVSZXN0KCk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgdmFyIF9pID0gYXJyID09IG51bGwgPyBudWxsIDogdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdO1xuXG4gIGlmIChfaSA9PSBudWxsKSByZXR1cm47XG4gIHZhciBfYXJyID0gW107XG4gIHZhciBfbiA9IHRydWU7XG4gIHZhciBfZCA9IGZhbHNlO1xuXG4gIHZhciBfcywgX2U7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZCA9IHRydWU7XG4gICAgX2UgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gX2Fycjtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufSIsImltcG9ydCBhcnJheVdpdGhvdXRIb2xlcyBmcm9tIFwiLi9hcnJheVdpdGhvdXRIb2xlcy5qc1wiO1xuaW1wb3J0IGl0ZXJhYmxlVG9BcnJheSBmcm9tIFwiLi9pdGVyYWJsZVRvQXJyYXkuanNcIjtcbmltcG9ydCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSBmcm9tIFwiLi91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IG5vbkl0ZXJhYmxlU3ByZWFkIGZyb20gXCIuL25vbkl0ZXJhYmxlU3ByZWFkLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBhcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgbm9uSXRlcmFibGVTcHJlYWQoKTtcbn0iLCJpbXBvcnQgYXJyYXlMaWtlVG9BcnJheSBmcm9tIFwiLi9hcnJheUxpa2VUb0FycmF5LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KGFycik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59IiwiZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykge1xuICB0cnkge1xuICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTtcbiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlamVjdChlcnJvcik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGluZm8uZG9uZSkge1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXG4gICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7XG4gICAgICB9XG5cbiAgICAgIF9uZXh0KHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gIH07XG59IiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuZXhwb3J0IGNvbnN0IENPT0tJRV9OQU1FID0gXCJfZ2FcIjtcbi8vIFRPRE8gcmV2ZXJ0IHRoZSBmb2xsb3dpbmcgc3RhZ2luZyBlbnYgY2hlY2sgYWZ0ZXIgbW92aW5nIHRvIG5ldyBicmFuY2ggc3RydWN0dXJlXG5leHBvcnQgY29uc3QgVFJFQVRNRU5UU19MT0NBVElPTiA9IFwiaHR0cHM6Ly9uZHR1Z3MucGFnZXMuZGV2L3RyZWF0bWVudHMuanNvblwiO1xuZXhwb3J0IGNvbnN0IFNUWUxFU0hFRVRfTE9DQVRJT04gPSBgaHR0cHM6Ly9uZHZpdmVuc2UuZ2xvdi5haS9uZC1zdHlsZXMuY3NzP2lkPSR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cmluZygwLCAxMykucmVwbGFjZShcIlRcIiwgXCJcIikucmVwbGFjZUFsbChcIi1cIiwgXCJcIil9YDtcbmV4cG9ydCBjb25zdCBMT0dfQVBJX1VSTCA9IFwiaHR0cHM6Ly9ldXJvcGUtd2VzdDMtbmV4dGRheS0zNGViMy5jbG91ZGZ1bmN0aW9ucy5uZXQvYXBpL2xvZ1Jlc3BvbnNlXCI7XG5leHBvcnQgY29uc3QgTE9PS1VQX0FQSV9VUkwgPSBcImh0dHBzOi8vY2F0YWxvZy1hcGktaWpwMWhpNC5udy5nYXRld2F5LmRldi9jYXRhbG9nXCI7XG5leHBvcnQgY29uc3QgTU9CSUxFX01FRElBX1FVRVJZID0gXCIobWF4LXdpZHRoOiA0NDBweClcIjtcbmV4cG9ydCBjb25zdCBTUExJVF9SQVRJTyA9IDkwOyAvLyBDb250cm9sIGdyb3VwIHJhdGlvXG5leHBvcnQgY29uc3QgVFJFQVRNRU5UX1JBVElPID0gMTA7IC8vIFBlcmNlbnRhZ2Ugb2YgdHJlYXRtZW50cyB0byBiZSBza2lwcGVkXG5leHBvcnQgY29uc3QgVFJFQVRNRU5UU19EVVJBVElPTiA9IDE7XG5cbmV4cG9ydCBjb25zdCBTRVNTSU9OX1NUT1JBR0VfS0VZUyA9IHtcbiAgU0VTU0lPTl9JRDogXCJfX25leHRkYXlfc2Vzc2lvbl9pZFwiLFxuICBQQUdFX1ZJRVdTOiBcIk5EX1BhZ2VWaWV3c1wiLFxuICBTRVNTSU9OX1RJTUVTVEFNUDogXCJORF9TZXNzaW9uVGltZXN0YW1wXCIsXG4gIFBPUFVQX0RJU1BMQVlfRkxBRzogXCJORF9Qb3B1cERpc3BsYXlGbGFnXCIsXG59O1xuZXhwb3J0IGNvbnN0IExPQ0FMX1NUT1JBR0VfS0VZUyA9IHtcbiAgVFJFQVRNRU5UUzogXCJORF9UcmVhdG1lbnRzXCIsXG4gIENPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRTogXCJORF9DQUJhc2tldFByaWNlXCIsXG4gIE5EX0RFQlVHX01PREU6IFwiTkRfRGVidWdcIixcbn07XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufSIsImZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwge1xuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufSIsImltcG9ydCB7TE9DQUxfU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmNsYXNzIExvZ2dlciB7XG4gIGNvbnN0cnVjdG9yKG9yaWdpbiA9IFwiTmV4dGRheSBDbGllbnQgU0RLXCIpIHtcbiAgICB0aGlzLm9yaWdpbiA9IG9yaWdpbjtcbiAgICB0aGlzLkRFQlVHID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5ORF9ERUJVR19NT0RFKTtcbiAgfVxuXG4gIGluZm8oLi4uYXJncykge1xuICAgIGNvbnN0IHtvcmlnaW59ID0gdGhpcztcbiAgICBjb25zb2xlLmluZm8oYFske29yaWdpbn1dYCwgLi4uYXJncyk7XG4gIH1cblxuICBsb2coLi4uYXJncykge1xuICAgIGNvbnN0IHtERUJVRywgb3JpZ2lufSA9IHRoaXM7XG4gICAgaWYgKERFQlVHKSB7XG4gICAgICBjb25zb2xlLmxvZyhgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9nZ2VyO1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgRGF0YUxheWVyIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0RhdGFMYXllclJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG4gIGNvbnN0IHJ1bnRpbWVWYWx1ZSA9IGRhdGFMYXllckZpbmRlcihvcGVyYXRvcik7XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1bnRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG59O1xuXG5jb25zdCBkYXRhTGF5ZXJGaW5kZXIgPSAoa2V5KSA9PiB7XG4gIGxvZ2dlci5sb2coXCJTZWFyY2hpbmcgZGF0YUxheWVyIGZvciBrZXlcIiwga2V5KTtcbiAgZm9yIChjb25zdCBvYmogb2Ygd2luZG93LmRhdGFMYXllcikge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIGlmIChrZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIGxvZ2dlci5sb2coYEZvdW5kIGtleSAke2tleX0gd2l0aCB2YWx1ZSAke29ialtrZXldfWApO1xuICAgICAgcmV0dXJuIG9ialtrZXldO1xuICAgIH1cbiAgfVxuICBsb2dnZXIubG9nKGBLZXkgJHtrZXl9IG5vdCBmb3VuZCBpbiBkYXRhTGF5ZXJgKTtcbiAgcmV0dXJuIG51bGw7XG59O1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgVXJsIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja1VybFJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG5cbiAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgIGNhc2UgXCJwYXRoXCI6IHtcbiAgICAgIGNvbnN0IHJlcXVlc3RVUkw9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgICAgY29uc3QgaXNBamF4ID0gcmVxdWVzdFVSTC5pbmNsdWRlcyhcImFqYXgvbW9iaWxlLXNlYXJjaC9sb2FkT3RoZXJQYWdlcy5waHBcIik7XG4gICAgICBjb25zdCBwYXRoID0gIWlzQWpheCA/IG5ldyBVUkwocmVxdWVzdFVSTCkucGF0aG5hbWUgOlxuICAgICAgZGVjb2RlVVJJQ29tcG9uZW50KFxuICAgICAgICAgIG5ldyBVUkwocmVxdWVzdFVSTCkuc2VhcmNoLnJlcGxhY2UoXCI/b3JpZ2luYWxQYXRoPVwiLCBcIlwiKSxcbiAgICAgICk7XG4gICAgICBsb2dnZXIubG9nKGBDaGVja2luZyBwYXRoICR7cGF0aH0gbWF0Y2hlcyBydWxlIHBhdGggJHt2YWx1ZX1gKTtcbiAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKHBhdGgsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIH1cbiAgfVxufTtcbiIsImltcG9ydCB7U0VTU0lPTl9TVE9SQUdFX0tFWVMsIFNUWUxFU0hFRVRfTE9DQVRJT04sIFRSRUFUTUVOVFNfTE9DQVRJT059IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtjaGVja0RhdGFMYXllclJ1bGV9IGZyb20gXCIuL05leHRkYXlSdWxlRW5naW5lL2RhdGFMYXllckNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tVcmxSdWxlfSBmcm9tIFwiLi9OZXh0ZGF5UnVsZUVuZ2luZS91cmxDaGVja2VyXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuL2xvZ2dlclwiO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBVdGlsc1wiKTtcblxuaWYgKCEoXCJyYW5kb21VVUlEXCIgaW4gY3J5cHRvKSkge1xuICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyMy8yODAwMjE4XG4gIC8vIExJQ0VOU0U6IGh0dHBzOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS1zYS80LjAvbGVnYWxjb2RlXG4gIHtcbiAgICByYW5kb21VVUlERmFsbGJhY2soKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVtb3ZlRG9jdW1lbnRIaWRlID0gKCkgPT4ge1xuICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm5leHREYXktaGlkZVwiKTtcbn07XG5cbmV4cG9ydCBjb25zdCBmZXRjaFRyZWF0bWVudHMgPSBhc3luYyAoKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJGZXRjaGluZyB0cmVhdG1lbnRzXCIpO1xuICBjb25zdCB0cmVhdG1lbnRzID0gYXdhaXQgZmV0Y2goVFJFQVRNRU5UU19MT0NBVElPTik7XG4gIHJldHVybiBhd2FpdCB0cmVhdG1lbnRzLmpzb24oKTtcbn07XG5cbmV4cG9ydCBjb25zdCBleHRyYWN0Q29va2llSWRlbnRpZmllciA9IChjb29raWVTdHJpbmcsIGNvb2tpZU5hbWUpID0+IHtcbiAgaWYgKCFjb29raWVTdHJpbmcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHBhcnNlZCA9IGNvb2tpZVN0cmluZ1xuICAgICAgLnNwbGl0KFwiO1wiKVxuICAgICAgLm1hcCgodikgPT4gdi5zcGxpdChcIj1cIikpXG4gICAgICAucmVkdWNlKChhY2MsIHYpID0+IHtcbiAgICAgICAgaWYgKHZbMF0gJiYgdlsxXSkge1xuICAgICAgICAgIGFjY1tkZWNvZGVVUklDb21wb25lbnQodlswXS50cmltKCkpXSA9IGRlY29kZVVSSUNvbXBvbmVudCh2WzFdLnRyaW0oKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sIHt9KTtcblxuICBsZXQgaWRlbnRpZmllciA9IHBhcnNlZFtjb29raWVOYW1lXTtcbiAgaWYgKCFpZGVudGlmaWVyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKGNvb2tpZU5hbWUgPT09IFwiX2dhXCIpIHtcbiAgICAvLyBleHRyYWN0IHVuaXF1ZSBpZGVudGlmaWVyIGZyb20gR0EgY29va2llXG4gICAgY29uc3QgaWRlbnRpZmllckluZGV4ID0gMjtcbiAgICBpZGVudGlmaWVyID0gaWRlbnRpZmllci5zcGxpdChcIi5cIilbaWRlbnRpZmllckluZGV4XTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcjtcbn07XG5cbmV4cG9ydCBjb25zdCBkZXRlcm1pbmVQY3QgPSBhc3luYyAoaWRlbnRpZmllciwgc3Vic3RyaW5nTGVuZ3RoID0gOCkgPT4ge1xuICBpZiAoIWlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgLy8gZW5jb2RlIHN0cmluZyB0byBhbiBhcnJheSBvZiA4LWJpdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlc1xuICBjb25zdCBlbmNvZGVkID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGlkZW50aWZpZXIpO1xuXG4gIC8vIGhhc2ggdGhlIGVuY29kZWQgY29va2llIGludG8gYSBidWZmZXJcbiAgY29uc3QgaGFzaEJ1ZmZlciA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTFcIiwgZW5jb2RlZCk7XG5cbiAgLy8gY29udmVydCBidWZmZXIgdG8gYnl0ZSBhcnJheVxuICBjb25zdCBoYXNoQXJyYXkgPSBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGhhc2hCdWZmZXIpKTtcblxuICAvLyBjb252ZXJ0IGJ5dGVzIHRvIGhleCBzdHJpbmdcbiAgY29uc3QgaGFzaFN0cmluZyA9IGhhc2hBcnJheVxuICAgICAgLm1hcCgoYikgPT4gYi50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpKVxuICAgICAgLmpvaW4oXCJcIik7XG5cbiAgLy8gTWFwIHRoZSBjb29raWUgaGFzaCB0byBhIG51bWJlciBiZXR3ZWVuIDAgLT4gOTksXG4gIC8vIHRoaXMgbnVtYmVyIGlzIHRoZSBvblJhdGlvblxuICBjb25zdCBoYXNoTnVtYmVyID0gcGFyc2VJbnQoaGFzaFN0cmluZy5zdWJzdHJpbmcoMCwgc3Vic3RyaW5nTGVuZ3RoKSwgMTYpO1xuXG4gIHJldHVybiBoYXNoTnVtYmVyICUgMTAwO1xufTtcblxuZXhwb3J0IGNvbnN0IGV4aXRTY3JvbGxMaXN0ZW5lciA9IChjYWxsQmFjaykgPT4ge1xuICBjb25zdCBsb29wID0gKCkgPT4ge1xuICAgIGNvbnN0IHNjcm9sbFRvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgaWYgKGxhc3RTY3JvbGxUb3AgLSA0MDAgPiBzY3JvbGxUb3ApIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoZXhpdFNjcm9sbEludGVydmFsKTtcbiAgICAgIGNhbGxCYWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhc3RTY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIGxldCBsYXN0U2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgY29uc3QgZXhpdFNjcm9sbEludGVydmFsID0gc2V0SW50ZXJ2YWwobG9vcCwgNTAwKTtcbn07XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBhcHBseSB0cmVhdG1lbnRzIHRvIHRoZSBwYWdlIG9uIHNwZWNpZmljIG1lZGlhIHR5cGUuXG4gKiBAcGFyYW0ge01lZGlhUXVlcnlMaXN0fSBtZWRpYVF1ZXJ5Q29uZGl0aW9uIHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogNTAwcHgpXCIpXG4gKiBAcGFyYW0ge0RPTU5vZGVMaXN0IH0gZWxlbWVudHMgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImRpdi5wcm9kdWN0X2luZm9cIilcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdHlsZUNoYW5nZXNNYXAgeyBcIm1hcmdpbi10b3BcIiA6IFwiMTByZW1cIn1cbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBjb25zdCBzdHlsZUFwcGxpY2F0b3IgPSAoZWxlbWVudHMsIHN0eWxlQ2hhbmdlc01hcCkgPT4ge1xuICBsb2dnZXIubG9nKFwiQXBwbHlpbmcgc3R5bGUgY2hhbmdlc1wiLCBzdHlsZUNoYW5nZXNNYXAsIFwidG8gZWxlbWVudHNcIiwgZWxlbWVudHMpO1xuICBmb3IgKGxldCBpPTA7IGk8ZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHNbaV07XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoc3R5bGVDaGFuZ2VzTWFwKSkge1xuICAgICAgZWxlbWVudC5zdHlsZVtrZXldID0gdmFsdWU7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgY29uc3QgaW5qZWN0U3R5bGVTaGVldCA9IGFzeW5jICgpID0+IHtcbiAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICBzdHlsZVNoZWV0LnJlbCA9IFwic3R5bGVzaGVldFwiO1xuICBzdHlsZVNoZWV0LnR5cGUgPSBcInRleHQvY3NzXCI7XG4gIHN0eWxlU2hlZXQuaHJlZiA9IFNUWUxFU0hFRVRfTE9DQVRJT047XG4gIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVTaGVldCk7XG59O1xuXG5leHBvcnQgY29uc3QgcHJlcGFyZUFjdGlvbnMgPSAoYWN0aW9uc1RvUHJlcGFyZSwgc3ViVmFyaWFudElkKSA9PiB7XG4gIGNvbnN0IGFjdGlvbnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFjdGlvbnNUb1ByZXBhcmUpKTtcbiAgZm9yIChjb25zdCBhY3Rpb24gb2YgYWN0aW9ucykge1xuICAgIGNvbnN0IHtzdWJWYXJpYW50c30gPSBhY3Rpb247XG4gICAgaWYgKCFzdWJWYXJpYW50cykgY29udGludWU7XG4gICAgZm9yIChjb25zdCBzdWJWYXJpYW50IG9mIHN1YlZhcmlhbnRzKSB7XG4gICAgICBpZiAoc3ViVmFyaWFudC5pZCA9PT0gc3ViVmFyaWFudElkKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHN1YlZhcmlhbnQpIHtcbiAgICAgICAgICBpZiAoa2V5ICE9PSBcImlkXCIpIHtcbiAgICAgICAgICAgIGFjdGlvbltrZXldID0gc3ViVmFyaWFudFtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWN0aW9ucztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFjdGlvbnM7XG59O1xuXG5leHBvcnQgY29uc3QgaW5pdGlhdGVTZXNzaW9uU3RvcmFnZXMgPSAoKSA9PiB7XG4gIGNvbnN0IHtQQUdFX1ZJRVdTLCBQT1BVUF9ESVNQTEFZX0ZMQUcsIFNFU1NJT05fSUQsIFNFU1NJT05fVElNRVNUQU1QfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuICBjb25zdCBwYWdlVmlld3MgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFBBR0VfVklFV1MpO1xuICBjb25zdCBwb3B1cERpc3BsYXlGbGFnID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShQT1BVUF9ESVNQTEFZX0ZMQUcpO1xuICBjb25zdCBzZXNzaW9uSWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fSUQpO1xuICBjb25zdCBzZXNzaW9uVGltZXN0YW1wID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1RJTUVTVEFNUCk7XG4gIGlmICghcGFnZVZpZXdzKSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQQUdFX1ZJRVdTLCAxKTtcbiAgfSBlbHNlIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBBR0VfVklFV1MsIHBhcnNlSW50KHBhZ2VWaWV3cykgKyAxKTtcbiAgfVxuICBpZiAocG9wdXBEaXNwbGF5RmxhZyA9PT0gbnVsbCkge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUE9QVVBfRElTUExBWV9GTEFHLCAwKTtcbiAgfVxuICBpZiAoIXNlc3Npb25JZCkge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9JRCwgY3J5cHRvLnJhbmRvbVVVSUQoKSk7XG4gIH1cbiAgaWYgKCFzZXNzaW9uVGltZXN0YW1wKSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX1RJTUVTVEFNUCwgRGF0ZS5ub3coKSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBjb25kaXRpb25DaGVja2VyID0gKHJ1blRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSkgPT4ge1xuICBpZiAoY29uZGl0aW9uID09PSBcIm5vdEV4aXN0XCIpIHtcbiAgICBpZiAoIXJ1blRpbWVWYWx1ZSkge1xuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBleGlzdFwiKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBkb2VzIGV4aXN0XCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAocnVuVGltZVZhbHVlID09PSBudWxsIHx8XG4gICAgcnVuVGltZVZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICBjb25kaXRpb24gPT09IG51bGwgfHxcbiAgICBjb25kaXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiBydW5UaW1lVmFsdWUgb3IgY29uZGl0aW9uIGlzIG5vdCBkZWZpbmVkXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzd2l0Y2ggKGNvbmRpdGlvbikge1xuICAgIGNhc2UgXCJleGlzdFwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgZXhpc3RcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgZXhpc3RcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImNvbnRhaW5zXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGNvbnRhaW5zIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGNvbnRhaW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcIm5vdENvbnRhaW5zXCI6XG4gICAgICBpZiAoIXJ1blRpbWVWYWx1ZS5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBjb250YWluIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGNvbnRhaW5zIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJlcXVhbFwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBlcXVhbHMgdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgZXF1YWwgdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcIm5vdEVxdWFsXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGVxdWFsIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGVxdWFscyB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwiZ3JlYXRlclRoYW5cIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPiB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGdyZWF0ZXIgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgZ3JlYXRlciB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJsZXNzVGhhblwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA8IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgbGVzcyB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBsZXNzIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImdyZWF0ZXJFcXVhbHNcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPj0gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBpcyBncmVhdGVyIG9yIGVxdWFsIHRoYW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgaXMgbm90IGdyZWF0ZXIgb3IgZXF1YWwgdGhhbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwibGVzc0VxdWFsc1wiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA8PSB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGxlc3Mgb3IgZXF1YWwgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgbGVzcyBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJiZXR3ZWVuXCI6IHtcbiAgICAgIGxldCBbbWluLCBtYXhdID0gdmFsdWUuc3BsaXQoXCIsXCIpO1xuICAgICAgbWluID0gcGFyc2VJbnQobWluKTtcbiAgICAgIG1heCA9IHBhcnNlSW50KG1heCk7XG4gICAgICBpZiAocnVuVGltZVZhbHVlID49IG1pbiAmJiBydW5UaW1lVmFsdWUgPD0gbWF4KSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgYmV0d2VlbiBtaW4gYW5kIG1heFwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgYmV0d2VlbiBtaW4gYW5kIG1heFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiBjb25kaXRpb24gaXMgbm90IGRlZmluZWQgXCIsIGNvbmRpdGlvbik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCByYW5kb21VVUlERmFsbGJhY2sgPSAoKSA9PiB7XG4gIGNyeXB0by5yYW5kb21VVUlEID0gZnVuY3Rpb24gcmFuZG9tVVVJRCgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgWzFlN10rLTFlMystNGUzKy04ZTMrLTFlMTEpLnJlcGxhY2UoL1swMThdL2csXG4gICAgICAgIChjKSA9PiAoYyBeIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdICYgMTUgPj4gYyAvIDQpLnRvU3RyaW5nKDE2KSxcbiAgICApO1xuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGNvbXBhcmVPYmplY3RzID0gKG9iajEsIG9iajIpID0+IHtcbiAgaWYgKG9iajEgPT09IG9iajIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChcbiAgICB0eXBlb2Ygb2JqMSAhPT0gXCJvYmplY3RcIiB8fFxuICAgICAgdHlwZW9mIG9iajIgIT09IFwib2JqZWN0XCIgfHxcbiAgICAgIG9iajEgPT0gbnVsbCB8fFxuICAgICAgb2JqMiA9PSBudWxsXG4gICkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IGtleXNBID0gT2JqZWN0LmtleXMob2JqMSk7XG4gIGNvbnN0IGtleXNCID0gT2JqZWN0LmtleXMob2JqMik7XG5cbiAgaWYgKGtleXNBLmxlbmd0aCAhPT0ga2V5c0IubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgbGV0IHJlc3VsdCA9IHRydWU7XG5cbiAga2V5c0EuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgaWYgKCFrZXlzQi5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICB0eXBlb2Ygb2JqMVtrZXldID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAgICAgICB0eXBlb2Ygb2JqMltrZXldID09PSBcImZ1bmN0aW9uXCJcbiAgICApIHtcbiAgICAgIGlmIChvYmoxW2tleV0udG9TdHJpbmcoKSAhPT0gb2JqMltrZXldLnRvU3RyaW5nKCkpIHtcbiAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFjb21wYXJlT2JqZWN0cyhvYmoxW2tleV0sIG9iajJba2V5XSkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIENvbGxlY3QgcHJvZHVjdCBTS1VzIGZyb20gcGFnZVxuZXhwb3J0IGNvbnN0IHNrdUNvbGxlY3RvciA9ICgpID0+IHtcbiAgY29uc3Qgc2t1TGlzdCA9IFtdO1xuXG4gIC8vIENoZWNrIGlmIHBhZ2UgaXMgaG9tZSBwYWdlXG4gIGNvbnN0IHJ1bGUgPSB7XG4gICAgb3BlcmF0b3I6IFwiUGFnZVR5cGVcIixcbiAgICBjb25kaXRpb246IFwiZXF1YWxcIixcbiAgICB2YWx1ZTogXCJIb21lcGFnZVwiLFxuICB9O1xuICBpZiAoY2hlY2tEYXRhTGF5ZXJSdWxlKHJ1bGUpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBDaGVjayBpZiBwYWdlIGlzIGxpc3RpbmcgcGFnZVxuICBydWxlLnZhbHVlID0gXCJMaXN0aW5ncGFnZVwiO1xuICBpZiAoY2hlY2tEYXRhTGF5ZXJSdWxlKHJ1bGUpKSB7XG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZHVjdC1jYXJkXCIpKTtcbiAgICBlbGVtZW50cy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBza3VMaXN0LnB1c2goZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2R1Y3Qtc2t1XCIpKTtcbiAgICB9KTtcbiAgICBpZiAoIXNrdUxpc3QubGVuZ3RoKSB7XG4gICAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBTS1VzIG5vdCBmb3VuZCBvbiBMaXN0aW5ncGFnZVwiKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gc2t1TGlzdDtcbiAgfVxuXG4gIC8vIENoZWNrIGlmIHBhZ2UgaXMgcHJvZHVjdCBwYWdlXG4gIHJ1bGUudmFsdWUgPSBcIlByb2R1Y3RwYWdlXCI7XG4gIGlmIChjaGVja0RhdGFMYXllclJ1bGUocnVsZSkpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9kdWN0LXNrdVwiKTtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJQcm9kdWN0IFNLVSBub3QgZm91bmQgb24gUHJvZHVjdHBhZ2VcIik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc2t1TGlzdC5wdXNoKGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1za3VcIikpO1xuICAgIHJldHVybiBza3VMaXN0O1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgcGFnZSBpcyBiYXNrZXQgcGFnZVxuICBydWxlLm9wZXJhdG9yID0gXCJwYXRoXCI7XG4gIHJ1bGUudmFsdWUgPSBcIi9zaXBhcmlzLWxpc3Rlc2kuaHRtbFwiO1xuICBpZiAoY2hlY2tVcmxSdWxlKHJ1bGUpKSB7XG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FydC1pbnNpZGVcIikpO1xuICAgIGVsZW1lbnRzLmZvckVhY2goKGUpID0+IHtcbiAgICAgIHNrdUxpc3QucHVzaChlLmdldEF0dHJpYnV0ZShcImRhdGEtc2t1XCIpKTtcbiAgICB9KTtcbiAgICBpZiAoIXNrdUxpc3QubGVuZ3RoKSB7XG4gICAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBTS1VzIG5vdCBmb3VuZCBvbiBiYXNrZXQgcGFnZVwiKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gc2t1TGlzdDtcbiAgfVxuXG4gIGxvZ2dlci5sb2coXCJVbmlkZW50aWZpZWQgcGFnZSB0eXBlXCIpO1xuICByZXR1cm4gbnVsbDtcbn07XG5cbi8vIFJldHVybiBzZWxlY3RvciBmb3IgYSBnaXZlbiBlbGVtZW50XG4vLyByZWY6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS82NjI5MTYwOC85MTM4NjUxXG5leHBvcnQgY29uc3QgZ2V0U2VsZWN0b3IgPSAoZWxtKSA9PiB7XG4gIGlmIChlbG0udGFnTmFtZSA9PT0gXCJCT0RZXCIpIHJldHVybiBcIkJPRFlcIjtcbiAgY29uc3QgbmFtZXMgPSBbXTtcbiAgd2hpbGUgKGVsbS5wYXJlbnRFbGVtZW50ICYmIGVsbS50YWdOYW1lICE9PSBcIkJPRFlcIikge1xuICAgIGlmIChlbG0uaWQpIHtcbiAgICAgIG5hbWVzLnVuc2hpZnQoXCIjXCIgKyBlbG0uZ2V0QXR0cmlidXRlKFwiaWRcIikpO1xuICAgICAgYnJlYWs7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBjID0gMTsgbGV0IGUgPSBlbG07XG4gICAgICBmb3IgKDsgZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nOyBlID0gZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLCBjKyspIDtcbiAgICAgIG5hbWVzLnVuc2hpZnQoZWxtLnRhZ05hbWUgKyBcIjpudGgtY2hpbGQoXCIgKyBjICsgXCIpXCIpO1xuICAgIH1cbiAgICBlbG0gPSBlbG0ucGFyZW50RWxlbWVudDtcbiAgfVxuICByZXR1cm4gbmFtZXMuam9pbihcIj5cIik7XG59O1xuIiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuY29uc3Qgc3VwZXJQcmljZUJhZGdlID0gXCI8ZGl2IGNsYXNzPVxcXCJ0b3AtbGVmdC1iYWRnZVxcXCI+PGRpdiBjbGFzcz1cXFwic3VwZXItcHJpY2UtYmFkZ2VcXFwiPjxpbWcgc3JjPVxcXCIvL2Nkbi52aXZlbnNlLmNvbS9pbWFnZXMvYmFkZ2VzL3N1cGVyZml5YXRfYmFkZ2VfZmluYWwuc3ZnXFxcIiB3aWR0aD1cXFwiNDVcXFwiIGNsYXNzPVxcXCJzdXBlci1wcmljZS1pY29uXFxcIj48L2Rpdj48L2Rpdj5cIjtcblxuZXhwb3J0IGRlZmF1bHQgc3VwZXJQcmljZUJhZGdlO1xuIiwiaW1wb3J0IHtleGl0U2Nyb2xsTGlzdGVuZXIsIHN0eWxlQXBwbGljYXRvcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge01PQklMRV9NRURJQV9RVUVSWSwgU0VTU0lPTl9TVE9SQUdFX0tFWVN9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCBzdXBlclByaWNlQmFkZ2UgZnJvbSBcIi4uL0NvbXBvbmVudHMvdnZfc3VwZXJfcHJpY2VfYmFkZ2VcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuXG5hc3luYyBmdW5jdGlvbiBhcHBseVRyZWF0bWVudHModHJlYXRtZW50cywgcHJvZHVjdEluZm8sIG9ic2VydmVyID0gZmFsc2UpIHtcbiAgLy8gR0Egc2NyaXB0IGluamVjdGlvbiBvbiBob2xkIGZvciB0aW1lIGJlaW5nXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gIC8vIGNvbnN0IGdhU2NyaXB0ID0gXCI8c2NyaXB0PndpbmRvdy5kYXRhTGF5ZXI9d2luZG93LmRhdGFMYXllcnx8W107ZGF0YUxheWVyLnB1c2goe2V2ZW50OidHTE9WJyxHTE9WX09OOid0cnVlJyx0cmVhdG1lbnRfaWRzOidOQSd9KTs8L3NjcmlwdD5cIjtcblxuICAvLyBjb25zdCBpbmplY3RHYVNjcmlwdCA9ICh0cmVhdG1lbnRMaXN0KSA9PiB7XG4gIC8vICAgY29uc3QgdHJlYXRtZW50SWRzID0gdHJlYXRtZW50TGlzdC5yZWR1Y2UoKGlkcywgdHJlYXRtZW50KSA9PiB7XG4gIC8vICAgICBpZiAodHJlYXRtZW50LmlkICE9PSAtMSkgaWRzLnB1c2godHJlYXRtZW50LmlkLnRvU3RyaW5nKCkpO1xuICAvLyAgICAgcmV0dXJuIGlkcztcbiAgLy8gICB9LCBbXSk7XG4gIC8vICAgaWYgKHRyZWF0bWVudElkcy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAvLyAgICQoXCJoZWFkXCIpLmFwcGVuZChnYVNjcmlwdC5yZXBsYWNlKFwiTkFcIiwgdHJlYXRtZW50SWRzKSk7XG4gIC8vIH07XG5cbiAgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgQXBwbHkgVHJlYXRtZW50c1wiKTtcbiAgY29uc3Qge1BPUFVQX0RJU1BMQVlfRkxBR30gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcblxuICBjb25zdCB0cmFuc2Zvcm1lciA9IGZ1bmN0aW9uIHRyYW5zZm9ybWVyKHRyZWF0bWVudCkge1xuICAgIGxvZ2dlci5sb2coXCJBcHBseWluZyB0cmVhdG1lbnQ6IFwiLCBKU09OLnN0cmluZ2lmeSh0cmVhdG1lbnQpKTtcbiAgICBjb25zdCB7XG4gICAgICBiYWRnZVNlbGVjdG9yLFxuICAgICAgb3BlcmF0b3IsXG4gICAgICB0eXBlLFxuICAgICAgYXBwbHlFdmVudCxcbiAgICAgIGNvbnRlbnRTZWxlY3RvcixcbiAgICAgIHNlbGVjdG9yLFxuICAgICAgc2VsZWN0b3JGYWxsYmFjayxcbiAgICAgIG1kQ29uZGl0aW9uLFxuICAgICAgbW92ZV9zZWxlY3Rvcl8xLFxuICAgICAgbW92ZV9zZWxlY3Rvcl8yLFxuICAgICAgcmVwbGFjZUZuLFxuICAgIH0gPSB0cmVhdG1lbnQ7XG4gICAgbGV0IHt2YWx1ZX0gPSB0cmVhdG1lbnQ7XG4gICAgbGV0IGVsZW1lbnQgPSAkKHNlbGVjdG9yKTtcblxuICAgIGNvbnN0IG1jID0gbWRDb25kaXRpb24gPyB3aW5kb3cubWF0Y2hNZWRpYShtZENvbmRpdGlvbikubWF0Y2hlcyA6IHRydWU7XG4gICAgaWYgKCFtYykge1xuICAgICAgbG9nZ2VyLmxvZyhcIk1lZGlhIGNvbmRpdGlvbiBtaXNtYXRjaDogXCIsIG1kQ29uZGl0aW9uKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKChtb3ZlX3NlbGVjdG9yXzEgJiYgIW1vdmVfc2VsZWN0b3JfMikgfHwgKG1vdmVfc2VsZWN0b3JfMiAmJiAhbW92ZV9zZWxlY3Rvcl8xKSkge1xuICAgICAgbG9nZ2VyLmxvZyhcIkJvdGggbW92ZSBzZWxlY3RvcnMgYXJlIHJlcXVpcmVkXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobW92ZV9zZWxlY3Rvcl8xICYmIG1vdmVfc2VsZWN0b3JfMikge1xuICAgICAgaWYgKCEkKG1vdmVfc2VsZWN0b3JfMSkubGVuZ3RoKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJNb3ZlIHNlbGVjdG9yIDEgbm90IGZvdW5kOiBcIiwgbW92ZV9zZWxlY3Rvcl8xKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCEkKG1vdmVfc2VsZWN0b3JfMikubGVuZ3RoKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJNb3ZlIHNlbGVjdG9yIDIgbm90IGZvdW5kOiBcIiwgbW92ZV9zZWxlY3Rvcl8yKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBsb2dnZXIubG9nKFwiU2VsZWN0b3Igbm90IHNwZWNpZmllZFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFlbGVtZW50Lmxlbmd0aCkge1xuICAgICAgICBsb2dnZXIubG9nKFwiU2VsZWN0b3Igbm90IGZvdW5kOiBcIiwgc2VsZWN0b3IpO1xuICAgICAgICBsb2dnZXIubG9nKFwiVHJ5aW5nIGZhbGxiYWNrIHNlbGVjdG9yOiBcIiwgc2VsZWN0b3JGYWxsYmFjayk7XG4gICAgICAgIGlmIChzZWxlY3RvckZhbGxiYWNrKSBlbGVtZW50ID0gJChzZWxlY3RvckZhbGxiYWNrKTtcbiAgICAgICAgaWYgKCFlbGVtZW50Lmxlbmd0aCkge1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJGYWxsYmFjayBzZWxlY3RvciBub3QgZm91bmRcIik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJlcGxhY2VGbiAmJiB2YWx1ZS5pbmNsdWRlcyhcInt7UkVQTEFDRX19XCIpKSB7XG4gICAgICBsb2dnZXIubG9nKFwiRXhlY3V0aW5nIHJlcGxhY2UgZnVuY3Rpb246IFwiLCByZXBsYWNlRm4pO1xuICAgICAgY29uc3QgcmVwbGFjZUZ1bmN0aW9uID0gRnVuY3Rpb24ocmVwbGFjZUZuKTtcbiAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcInt7UkVQTEFDRX19XCIsIHJlcGxhY2VGdW5jdGlvbigpKTtcbiAgICB9XG5cbiAgICBpZiAob3BlcmF0b3IgPT09IFwicmVtb3ZlXCIpIHtcbiAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJSZW1vdmluZzogXCIsIHNlbGVjdG9yKTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJDYW5ub3QgZm91bmQgZWxlbWVudCB3aXRoIHNlbGVjdG9yOiBcIiwgc2VsZWN0b3IpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwiaW5zZXJ0XCIpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiYmVmb3JlXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkluc2VydGluZyBiZWZvcmU6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgaWYgKFN0cmluZyh2YWx1ZSkuaW5jbHVkZXMoXCJuZC1hZGQtdG8td2luXCIpKSB7XG4gICAgICAgICAgICAkKFwiLm5kLWFkZC10by13aW5cIikucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnQuYmVmb3JlKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFmdGVyXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkluc2VydGluZyBhZnRlcjogXCIsIHZhbHVlKTtcbiAgICAgICAgICBlbGVtZW50LmFmdGVyKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBvcHVwXCI6IHtcbiAgICAgICAgICBpZiAocGFyc2VJbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShQT1BVUF9ESVNQTEFZX0ZMQUcpKSAhPT0gMCkge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIlBvcHVwIGFscmVhZHkgZGlzcGxheWVkIGluIHNlc3Npb25cIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkNyZWF0aW5nIFBvcHVwOiBcIiwgdmFsdWUpO1xuICAgICAgICAgIGNyZWF0ZVBvcHVwKHZhbHVlLCBjb250ZW50U2VsZWN0b3IpO1xuXG4gICAgICAgICAgaWYgKGFwcGx5RXZlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKE1PQklMRV9NRURJQV9RVUVSWSkubWF0Y2hlcztcbiAgICAgICAgICAgIGZvciAoY29uc3QgZXZlbnQgb2YgYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgICBzd2l0Y2ggKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImV4aXRJbnRlbnRcIjpcbiAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBZGRpbmcgZXhpdCBpbnRlbnQgbGlzdGVuZXJcIik7XG4gICAgICAgICAgICAgICAgICBpZiAobW9iaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4aXRTY3JvbGxMaXN0ZW5lcihkaXNwbGF5UG9wdXApO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIGRpc3BsYXlQb3B1cCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtvbmNlOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY29weUludGVudFwiOlxuICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkFkZGluZyBjb3B5IGludGVudCBsaXN0ZW5lclwiKTtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY29weVwiLCBkaXNwbGF5UG9wdXAsXG4gICAgICAgICAgICAgICAgICAgICAge29uY2U6IHRydWV9KTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGFwcGVuZCBwb3B1cCB0byBib2R5IGFmdGVyIHRpbWVvdXQgZXhwaXJlc1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIGRpc3BsYXlQb3B1cCgpO1xuICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJlZGl0XCIpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJFZGl0aW5nIHRleHQ6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgZWxlbWVudC50ZXh0KHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN0eWxlQXBwbGljYXRvclwiOiB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkFwcGx5aW5nIHN0eWxlOiBcIiwgdmFsdWUpO1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICAgICAgY29uc3Qgc3R5bGVDaGFuZ2VzTWFwID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlN0eWxlIENoYW5nZXMgTWFwOiBcIiwgc3R5bGVDaGFuZ2VzTWFwKTtcbiAgICAgICAgICBzdHlsZUFwcGxpY2F0b3IoZWxlbWVudHMsIHN0eWxlQ2hhbmdlc01hcCk7XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFkZENsYXNzXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgYWRkZGluZyBjbGFzcyB0byAke2VsZW1lbnR9IG5hbWVkICR7dmFsdWV9YCk7XG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyZW1vdmVDbGFzc1wiOlxuICAgICAgICAgIGxvZ2dlci5sb2coYHJlbW92ZSBjbGFzcyBmcm9tICR7ZWxlbWVudH0gbmFtZWQgJHt2YWx1ZX1gKTtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInVwZGF0ZUJhZGdlXCI6IHtcbiAgICAgICAgICBpZiAoIXByb2R1Y3RJbmZvKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBpbmZvIHVuYXZhaWxhYmxlXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxvZ2dlci5sb2coXCJVcGRhdGluZyBiYWRnZXM6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGVsZW1lbnQpO1xuICAgICAgICAgIGZvciAoY29uc3QgZWxlbSBvZiBlbGVtZW50cykge1xuICAgICAgICAgICAgY29uc3QgZWwgPSAkKGVsZW0pO1xuICAgICAgICAgICAgbGV0IGVsZW1lbnRTa3UgPSBlbC5hdHRyKFwiZGF0YS1wcm9kdWN0LXNrdVwiKTtcbiAgICAgICAgICAgIGlmICghZWxlbWVudFNrdSkgZWxlbWVudFNrdSA9IGVsLmF0dHIoXCJkYXRhLXNrdVwiKTtcbiAgICAgICAgICAgIGlmICghZWxlbWVudFNrdSkge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiQ291bGQgbm90IGZpbmQgcHJvZHVjdCBza3VcIik7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWwuZmluZChiYWRnZVNlbGVjdG9yKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhwcm9kdWN0SW5mbykuaW5jbHVkZXMoZWxlbWVudFNrdSkgJiYgcHJvZHVjdEluZm9bZWxlbWVudFNrdV0uYmFkZ2VzLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInN1cGVyUHJpY2VcIjoge1xuICAgICAgICAgICAgICAgICAgZWwuZmluZChcIi5ob3Zlci1lbGVtZW50LWFyZWFcIikuYmVmb3JlKHN1cGVyUHJpY2VCYWRnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlVua25vd24gZWRpdCB0eXBlOiBcIiwgdHlwZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJzZXRhdHRyaWJ1dGVcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlNldHRpbmcgYXR0cmlidXRlOiBcIiwgYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgICBzd2l0Y2ggKGF0dHJpYnV0ZSkge1xuICAgICAgICBjYXNlIFwic3JjXCI6XG4gICAgICAgICAgZWxlbWVudC5jc3MoXCJjb250ZW50XCIsIGB1cmwoJHt2YWx1ZS50cmltKCl9KWApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY2FzZS1kZWNsYXJhdGlvbnNcbiAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHZhbHVlLnNwbGl0KFwiOlwiKVswXS50cmltKCk7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zXG4gICAgICAgICAgY29uc3QgcHJvcGVydHlWYWx1ZSA9IHZhbHVlLnNwbGl0KFwiOlwiKVsxXS50cmltKCk7XG5cbiAgICAgICAgICBlbGVtZW50LmNzcyhwcm9wZXJ0eSwgcHJvcGVydHlWYWx1ZSwgXCIhaW1wb3J0YW50XCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwicmVwbGFjZVwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiUmVwbGFjaW5nOiBcIiwgdmFsdWUpO1xuICAgICAgZWxlbWVudC5yZXBsYWNlQWxsKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcInN3YXBcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlN3YXBwaW5nOiBcIiwgbW92ZV9zZWxlY3Rvcl8xLCBtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgY29uc3QgbjEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMSk7XG4gICAgICBjb25zdCBuMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8yKTtcbiAgICAgIHN3YXBOb2RlcyhuMSwgbjIpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwiaW5qZWN0c2NyaXB0XCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJJbmplY3Rpbmcgc2NyaXB0OiBcIiwgdmFsdWUpO1xuICAgICAgZWxlbWVudC5hcHBlbmQoYDxzY3JpcHQ+JHt2YWx1ZX08L3NjcmlwdD5gKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcIm1vdmVcIikge1xuICAgICAgbG9nZ2VyLmxvZyhgTW92aW5nICR7bW92ZV9zZWxlY3Rvcl8xfSB0byAke21vdmVfc2VsZWN0b3JfMn1gKTtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8xKTtcbiAgICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgc291cmNlLnJlbW92ZSgpO1xuICAgICAgZGVzdGluYXRpb24ucHJlcGVuZChzb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwibm9vcFwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiTm9vcCBPcGVyYXRvcjogTm8gb3BlcmF0aW9uIGlzIGFwcGxpZWQgb24gdGFyZ2V0IFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nZ2VyLmxvZyhcIk5vIHN1Y2ggb3BlcmF0b3IgZXhpc3RzIHlldFwiLCBvcGVyYXRvcik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBvcHVwQ2xpY2sgPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCBpZCA9IGV2ZW50LnRhcmdldC5pZDtcbiAgICBpZiAoaWQgJiYgaWQgPT09IFwibmQtcG9wdXBfX3dyYXBwZXJcIikge1xuICAgICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGRpc3BsYXlQb3B1cCA9ICgpID0+IHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRywgMSk7XG4gICAgY29uc3QgcVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNncnQtc2hhZG93LWhvc3RcIik7XG4gICAgaWYgKHFQb3B1cCkgcVBvcHVwLnN0eWxlW1wiZGlzcGxheVwiXSA9IFwibm9uZVwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmQtcG9wdXBfX3dyYXBwZXJcIikuc3R5bGVbXCJkaXNwbGF5XCJdID0gXCJibG9ja1wiO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG5cbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgZGlzcGxheVBvcHVwLCB7b25jZTogdHJ1ZX0pO1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY29weVwiLCBkaXNwbGF5UG9wdXAsIHtvbmNlOiB0cnVlfSk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgIH0sIDE1MDAwKTtcbiAgfTtcblxuICBjb25zdCBjcmVhdGVQb3B1cCA9ICh2YWx1ZSwgY29udGVudFNlbGVjdG9yKSA9PiB7XG4gICAgLy8gQ3JlYXRlIHBvcHVwIHdyYXBwZXJcbiAgICBjb25zdCBwb3B1cFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgcG9wdXBXcmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJuZC1wb3B1cF9fd3JhcHBlclwiKTtcbiAgICBwb3B1cFdyYXBwZXIuaWQgPSBcIm5kLXBvcHVwX193cmFwcGVyXCI7XG5cbiAgICAvLyBDcmVhdGUgcG9wdXAgY2xvc2UgYnV0dG9uXG4gICAgY29uc3QgcG9wdXBDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgcG9wdXBDbG9zZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibmQtcG9wdXBfX2J1dHRvbi1jbG9zZVwiKTtcbiAgICBwb3B1cENsb3NlQnV0dG9uLmlubmVyVGV4dCA9IFwiWFwiO1xuICAgIHBvcHVwQ2xvc2VCdXR0b24ub25jbGljayA9ICgpID0+IHtcbiAgICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgIH07XG5cbiAgICBpZiAoY29udGVudFNlbGVjdG9yKSB7XG4gICAgICBjb25zdCBjb250ZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb250ZW50U2VsZWN0b3IpKTtcbiAgICAgIHdoaWxlICh2YWx1ZS5pbmNsdWRlcyhcInt7UkVQTEFDRX19XCIpICYmIGNvbnRlbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKFwie3tSRVBMQUNFfX1cIiwgY29udGVudHMuc2hpZnQoKS5zcmMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBwb3B1cCBmcm9tIHRyZWF0bWVudCBhbmQgYXBwZW5kIGNsb3NlIGJ1dHRvblxuICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO1xuICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IHZhbHVlLnRyaW0oKTtcbiAgICBjb25zdCBwb3B1cCA9IHRlbXBsYXRlLmNvbnRlbnQuZmlyc3RDaGlsZDtcbiAgICBwb3B1cC5hcHBlbmRDaGlsZChwb3B1cENsb3NlQnV0dG9uKTtcbiAgICBwb3B1cFdyYXBwZXIuYXBwZW5kQ2hpbGQocG9wdXApO1xuXG4gICAgLy8gUmVtb3ZlIG9sZCBwb3B1cCBpZiBleGlzdHMgYmVmb3JlIGFwcGVuZGluZyBuZXcgb25lXG4gICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHBvcHVwV3JhcHBlcik7XG4gIH07XG5cbiAgY29uc3Qgc3dhcE5vZGVzID0gZnVuY3Rpb24gc3dhcE5vZGVzKG4xLCBuMikge1xuICAgIGNvbnN0IHAxID0gbjEucGFyZW50Tm9kZTtcbiAgICBjb25zdCBwMiA9IG4yLnBhcmVudE5vZGU7XG4gICAgbGV0IGkxO1xuICAgIGxldCBpMjtcblxuICAgIGlmICghcDEgfHwgIXAyIHx8IHAxLmlzRXF1YWxOb2RlKG4yKSB8fCBwMi5pc0VxdWFsTm9kZShuMSkpIHJldHVybjtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcDEuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwMS5jaGlsZHJlbltpXS5pc0VxdWFsTm9kZShuMSkpIHtcbiAgICAgICAgaTEgPSBpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHAyLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocDIuY2hpbGRyZW5baV0uaXNFcXVhbE5vZGUobjIpKSB7XG4gICAgICAgIGkyID0gaTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocDEuaXNFcXVhbE5vZGUocDIpICYmIGkxIDwgaTIpIHtcbiAgICAgIGkyKys7XG4gICAgfVxuICAgIHAxLmluc2VydEJlZm9yZShuMiwgcDEuY2hpbGRyZW5baTFdKTtcbiAgICBwMi5pbnNlcnRCZWZvcmUobjEsIHAyLmNoaWxkcmVuW2kyXSk7XG4gIH07XG5cbiAgY29uc3QgdHJlYXRtZW50QXBwbGljYXRvciA9ICh0cmVhdG1lbnRMaXN0KSA9PiB7XG4gICAgaWYgKCF3aW5kb3cualF1ZXJ5KSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICB0cmVhdG1lbnRBcHBsaWNhdG9yKHRyZWF0bWVudExpc3QpO1xuICAgICAgfSwgMTApO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiB0cmVhdG1lbnRMaXN0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdHJhbnNmb3JtZXIodHJlYXRtZW50KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgbG9nZ2VyLndhcm4oXG4gICAgICAgICAgICAgIGBDb3VsZG4ndCBhcHBseSB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IHdpdGggZXJyb3IgJHtlcnIubWVzc2FnZX1gLFxuICAgICAgICAgICk7XG4gICAgICAgICAgLy8gU2V0IGlkIG9mIGZhaWxlZCB0cmVhdG1lbnQgdG8gLTEsXG4gICAgICAgICAgLy8gc28gd2Uga25vdyBub3QgdG8gbGlzdCBpbiB0aGUgY3VzdG9tIEdBIGV2ZW50XG4gICAgICAgICAgLy8gdHJlYXRtZW50TGlzdFt0cmVhdG1lbnRdLmlkID0gLTE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gQXBwbHkgdHJlYXRtZW50c1xuICB0cmVhdG1lbnRBcHBsaWNhdG9yKHRyZWF0bWVudHMpO1xuICBpZiAoIW9ic2VydmVyKSB7XG4gICAgLy8gaW5qZWN0R2FTY3JpcHQodHJlYXRtZW50cyk7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGFwcGx5VHJlYXRtZW50cztcbiIsImltcG9ydCB7TE9HX0FQSV9VUkwsIExPQ0FMX1NUT1JBR0VfS0VZUywgU0VTU0lPTl9TVE9SQUdFX0tFWVMsIFNQTElUX1JBVElPfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2NvbXBhcmVPYmplY3RzfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuXG5leHBvcnQgY2xhc3MgTW9uaXRvciB7XG4gIGNvbnN0cnVjdG9yKGFwcGxpZWRUcmVhdG1lbnRJZHMsIGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHMpIHtcbiAgICB0aGlzLmxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IE1vbml0b3JcIik7XG4gICAgdGhpcy5sb2dnZXIubG9nKFwiSW5pdGlhbGl6aW5nIG1vbml0b3JcIik7XG5cbiAgICB0aGlzLmFwcGxpZWRUcmVhdG1lbnRJZHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFwcGxpZWRUcmVhdG1lbnRJZHMpKTtcbiAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHMpKTtcbiAgICB0aGlzLmxhdGVzdENoYW5nZXMgPSBudWxsO1xuICAgIHRoaXMuZWxpZ2libGVOb3RBcHBsaWVkQ2hhbmdlcyA9IG51bGw7XG4gICAgdGhpcy5zZXNzaW9uSWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLlNFU1NJT05fSUQpO1xuICAgIHRoaXMudmlld0lkID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgICB0aGlzLmhlYWRlcnMgPSB7XG4gICAgICB0eXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIHRoaXMubG9nZ2VyLmxvZyhcIkluaXRpYWxpemluZyB3aXRoIHNlc3Npb24gaWQ6IFwiICsgdGhpcy5zZXNzaW9uSWQpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZUV4aXRFdmVudExpc3RlbmVyKCk7XG4gICAgdGhpcy5kZWJ1Z01vZGUgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLk5EX0RFQlVHX01PREUpID8gXCJvblwiIDogXCJvZmZcIjtcbiAgfVxuXG4gIGFzeW5jIHNlbmRMb2dzKGlzT24pIHtcbiAgICB0aGlzLmxvZ2dlci5sb2coXCJTZW5kaW5nIGxvZ3NcIik7XG4gICAgbGV0IHF1ZXVlZCA9IGZhbHNlO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgcXVldWVkID0gdHJ1ZTtcbiAgICB9LCAxMDAwKTtcbiAgICB3aGlsZSAoIXF1ZXVlZCkge1xuICAgICAgcXVldWVkID0gbmF2aWdhdG9yLnNlbmRCZWFjb24oTE9HX0FQSV9VUkwsIHRoaXMucGFja2FnZUxvZ0RhdGEoaXNPbikpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBzZW5kRW1wdHlMb2cobWVzc2FnZSwgaXNPbikge1xuICAgIGNvbnNvbGUubG9nKFwiTmV4dGRheSBNb25pdG9yOiBTZW5kaW5nIGVtcHR5IGxvZ3NcIik7XG4gICAgbGV0IHF1ZXVlZCA9IGZhbHNlO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgcXVldWVkID0gdHJ1ZTtcbiAgICB9LCAxMDAwKTtcbiAgICB3aGlsZSAoIXF1ZXVlZCkge1xuICAgICAgcXVldWVkID0gbmF2aWdhdG9yLnNlbmRCZWFjb24oTE9HX0FQSV9VUkwsIHRoaXMucGFja2FnZUVtcHR5TG9nRGF0YShtZXNzYWdlLCBpc09uKSk7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlTGF0ZXN0Q2hhbmdlcyhjaGFuZ2VzLCBlbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzKSB7XG4gICAgY29uc3Qge2FwcGxpZWRUcmVhdG1lbnRJZHMsIGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHMsIGxvZ2dlcn0gPSB0aGlzO1xuICAgIGxvZ2dlci5sb2coXCJVcGRhdGluZyBsYXRlc3QgY2hhbmdlc1wiKTtcblxuICAgIGxldCBjb21wYXJlVG8gPSB0aGlzLmxhdGVzdENoYW5nZXMgfHwgYXBwbGllZFRyZWF0bWVudElkcztcbiAgICBpZiAoIWNvbXBhcmVPYmplY3RzKGNvbXBhcmVUbywgY2hhbmdlcykpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJDaGFuZ2VzIGRldGVjdGVkXCIpO1xuICAgICAgbG9nZ2VyLmxvZyhcIkNoYW5nZXM6IFwiLCBjaGFuZ2VzKTtcbiAgICAgIHRoaXMubGF0ZXN0Q2hhbmdlcyA9IGNoYW5nZXM7XG4gICAgfVxuXG4gICAgY29tcGFyZVRvID0gdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzIHx8IGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHM7XG4gICAgaWYgKCFjb21wYXJlT2JqZWN0cyhjb21wYXJlVG8sIGVsaWdpYmxlTm90QXBwbGllZENoYW5nZXMpKSB7XG4gICAgICBsb2dnZXIubG9nKFwiQ2hhbmdlcyBkZXRlY3RlZFwiKTtcbiAgICAgIGxvZ2dlci5sb2coXCJDaGFuZ2VzOiBcIiwgY2hhbmdlcyk7XG4gICAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZENoYW5nZXMgPSBlbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzO1xuICAgIH1cbiAgfVxuXG4gIHBhY2thZ2VMb2dEYXRhKGlzT24pIHtcbiAgICBjb25zdCB7YXBwbGllZFRyZWF0bWVudElkcyxcbiAgICAgIGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHMsXG4gICAgICBkZWJ1Z01vZGUsXG4gICAgICBoZWFkZXJzLFxuICAgICAgc2Vzc2lvbklkLFxuICAgICAgdmlld0lkfSA9IHRoaXM7XG4gICAgY29uc3QgbWVzc2FnZSA9IE9iamVjdC5rZXlzKGFwcGxpZWRUcmVhdG1lbnRJZHMpLmxlbmd0aCA/IFwiVHJlYXRtZW50cyBhcHBsaWVkXCIgOlxuICAgICAgXCJObyB0cmVhdG1lbnRzIGFwcGxpZWRcIjtcbiAgICBjb25zdCBjdXJyZW50VVJMID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgIG46IGBuZXh0ZGF5LXNlc3Npb25faWQtJHtzZXNzaW9uSWR9YCxcbiAgICAgIHU6IGN1cnJlbnRVUkwuaHJlZixcbiAgICAgIGQ6IGN1cnJlbnRVUkwuaG9zdG5hbWUsXG4gICAgICByOiBkb2N1bWVudC5yZWZlcnJlcixcbiAgICAgIHc6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgYzogZG9jdW1lbnQuY29va2llLFxuICAgICAgd2RsOiB3aW5kb3cuZGF0YUxheWVyID8gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh3aW5kb3cuZGF0YUxheWVyKSkgOiBbXSxcbiAgICAgIHQ6IERhdGUubm93KCksXG4gICAgICB2OiBcIjAuMC4yMlwiLFxuICAgICAgYTogYXBwbGllZFRyZWF0bWVudElkcyxcbiAgICAgIGU6IGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHMsXG4gICAgICB2SWQ6IHZpZXdJZCxcbiAgICAgIHNyOiBTUExJVF9SQVRJTyxcbiAgICAgIG06IG1lc3NhZ2UsXG4gICAgICBkYm06IGRlYnVnTW9kZSxcbiAgICAgIGlzT246IGlzT24sXG4gICAgfTtcbiAgICByZXR1cm4gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGJvZHkpXSwgaGVhZGVycyk7XG4gIH1cblxuICBwYWNrYWdlVXBkYXRlTG9nRGF0YSgpIHtcbiAgICBjb25zdCB7aGVhZGVycywgZWxpZ2libGVOb3RBcHBsaWVkQ2hhbmdlcywgbGF0ZXN0Q2hhbmdlcywgdmlld0lkfSA9IHRoaXM7XG4gICAgaWYgKCFsYXRlc3RDaGFuZ2VzKSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgIHQ6IERhdGUubm93KCksXG4gICAgICBhOiBsYXRlc3RDaGFuZ2VzLFxuICAgICAgZTogZWxpZ2libGVOb3RBcHBsaWVkQ2hhbmdlcyxcbiAgICAgIHZJZDogdmlld0lkLFxuICAgIH07XG4gICAgcmV0dXJuIG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShib2R5KV0sIGhlYWRlcnMpO1xuICB9XG5cbiAgc3RhdGljIHBhY2thZ2VFbXB0eUxvZ0RhdGEobWVzc2FnZSwgaXNPbikge1xuICAgIGNvbnN0IGN1cnJlbnRVUkwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICBjb25zdCBkZWJ1Z01vZGUgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLk5EX0RFQlVHX01PREUpID8gXCJvblwiIDogXCJvZmZcIjtcbiAgICBjb25zdCBzZXNzaW9uSWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLlNFU1NJT05fSUQpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICB0eXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICBuOiBgbmV4dGRheS1zZXNzaW9uX2lkLSR7c2Vzc2lvbklkfWAsXG4gICAgICB1OiBjdXJyZW50VVJMLmhyZWYsXG4gICAgICBkOiBjdXJyZW50VVJMLmhvc3RuYW1lLFxuICAgICAgcjogZG9jdW1lbnQucmVmZXJyZXIsXG4gICAgICB3OiB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgIGM6IGRvY3VtZW50LmNvb2tpZSxcbiAgICAgIHdkbDogd2luZG93LmRhdGFMYXllciA/IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkod2luZG93LmRhdGFMYXllcikpIDogW10sXG4gICAgICB0OiBEYXRlLm5vdygpLFxuICAgICAgdjogXCIwLjAuMjJcIixcbiAgICAgIGE6IHt9LFxuICAgICAgZToge30sXG4gICAgICB2SWQ6IG51bGwsXG4gICAgICBzcjogU1BMSVRfUkFUSU8sXG4gICAgICBtOiBtZXNzYWdlLFxuICAgICAgZGJtOiBkZWJ1Z01vZGUsXG4gICAgICBpc09uOiBpc09uLFxuICAgIH07XG4gICAgcmV0dXJuIG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShib2R5KV0sIGhlYWRlcnMpO1xuICB9XG5cbiAgaW5pdGlhbGl6ZUV4aXRFdmVudExpc3RlbmVyKCkge1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcbiAgICBsb2dnZXIubG9nKFwiSW5pdGlhbGl6aW5nIGV4aXQgZXZlbnQgbGlzdGVuZXJcIik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwicGFnZWhpZGVcIixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbiBwYWdlaGlkZSBldmVudFwiKTtcbiAgICAgICAgICBjb25zdCBsb2dEYXRhID0gdGhpcy5wYWNrYWdlVXBkYXRlTG9nRGF0YSgpO1xuICAgICAgICAgIGlmICghbG9nRGF0YSkge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIk5vIGNoYW5nZXMgdG8gbG9nXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgcXVldWVkID0gZmFsc2U7XG4gICAgICAgICAgd2hpbGUgKCFxdWV1ZWQpIHtcbiAgICAgICAgICAgIHF1ZXVlZCA9IG5hdmlnYXRvci5cbiAgICAgICAgICAgICAgICBzZW5kQmVhY29uKExPR19BUElfVVJMLCBsb2dEYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkxvZ3MgcXVldWVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgICAgfSxcbiAgICAgICAge2NhcHR1cmU6IHRydWV9LFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9uaXRvcjtcbiIsImltcG9ydCB7TE9DQUxfU1RPUkFHRV9LRVlTLCBUUkVBVE1FTlRTX0RVUkFUSU9OfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2ZldGNoVHJlYXRtZW50c30gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFRyZWF0bWVudCBSZXBvc2l0b3J5XCIpO1xuXG5jbGFzcyBUcmVhdG1lbnRSZXBvc2l0b3J5IHtcbiAgY29uc3RydWN0b3IoYm9keSkge1xuICAgIGNvbnN0IHtjb29raWVQY3QsIHRyZWF0bWVudHN9ID0gYm9keTtcbiAgICB0aGlzLnRyZWF0bWVudHMgPSB0cmVhdG1lbnRzO1xuICAgIHRoaXMuY29va2llUGN0ID0gY29va2llUGN0O1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldFRyZWF0bWVudHMoKSB7XG4gICAgbG9nZ2VyLmxvZyhcIkxvYWRpbmcgdHJlYXRtZW50c1wiKTtcbiAgICBjb25zdCB7VFJFQVRNRU5UU30gPSBMT0NBTF9TVE9SQUdFX0tFWVM7XG4gICAgY29uc3QgdHJlYXRtZW50c09iaiA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oVFJFQVRNRU5UUykpO1xuICAgIGxldCB0cmVhdG1lbnRzID0gdHJlYXRtZW50c09iaj8udHJlYXRtZW50cztcbiAgICBjb25zdCB0aW1lc3RhbXAgPSB0cmVhdG1lbnRzT2JqPy50aW1lc3RhbXA7XG4gICAgaWYgKCF0cmVhdG1lbnRzIHx8ICF0aW1lc3RhbXApIHtcbiAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnRzIG5vdCBmb3VuZCBpbiBsb2NhbCBzdG9yYWdlXCIpO1xuICAgICAgdHJlYXRtZW50cyA9IGF3YWl0IGZldGNoVHJlYXRtZW50cygpO1xuICAgICAgY29uc3QgdHJlYXRtZW50V2l0aFRpbWVzdGFtcCA9IHtcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICB0cmVhdG1lbnRzLFxuICAgICAgfTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFRSRUFUTUVOVFMsIEpTT04uc3RyaW5naWZ5KHRyZWF0bWVudFdpdGhUaW1lc3RhbXApKTtcbiAgICAgIHJldHVybiB0cmVhdG1lbnRzO1xuICAgIH1cbiAgICBpZiAodGltZXN0YW1wKSB7XG4gICAgICBjb25zdCBlbGFwc2VkRGF5cyA9IChEYXRlLm5vdygpIC0gdGltZXN0YW1wKSAvICgxMDAwICogMzYwMCAqIDI0KTtcbiAgICAgIGlmIChlbGFwc2VkRGF5cyA+IFRSRUFUTUVOVFNfRFVSQVRJT04pIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudHMgYXJlIGV4cGlyZWRcIik7XG4gICAgICAgIHRyZWF0bWVudHMgPSBhd2FpdCBmZXRjaFRyZWF0bWVudHMoKTtcbiAgICAgICAgY29uc3QgdHJlYXRtZW50V2l0aFRpbWVzdGFtcCA9IHtcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgdHJlYXRtZW50cyxcbiAgICAgICAgfTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oVFJFQVRNRU5UUywgSlNPTi5zdHJpbmdpZnkodHJlYXRtZW50V2l0aFRpbWVzdGFtcCkpO1xuICAgICAgICByZXR1cm4gdHJlYXRtZW50cztcbiAgICAgIH1cbiAgICB9XG4gICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudHMgYXJlIGxvYWRlZCBmcm9tIGxvY2FsIHN0b3JhZ2VcIik7XG4gICAgcmV0dXJuIHRyZWF0bWVudHM7XG4gIH1cblxuICBnZXRNYXRjaGVkVHJlYXRtZW50cygpIHtcbiAgICBjb25zdCB1c2VyU2VnbWVudCA9IHRoaXMuZ2V0VXNlclNlZ21lbnQoKTtcblxuICAgIGNvbnN0IHNlZ21lbnRNYXRjaGVkVHJlYXRtZW50cyA9IHRoaXMudHJlYXRtZW50cy5maWx0ZXIoXG4gICAgICAgICh0KSA9PlxuICAgICAgICAgIHQuYXBwbHlfb25fdXNlcl9zZWdtZW50ID09IHVzZXJTZWdtZW50IHx8XG4gICAgICAgIHQuYXBwbHlfb25fdXNlcl9zZWdtZW50ID09PSBcIipcIixcbiAgICApO1xuICAgIGxvZ2dlci5sb2coYCR7c2VnbWVudE1hdGNoZWRUcmVhdG1lbnRzLmxlbmd0aH0gdHJlYXRtZW50cyBzZWdtZW50IG1hdGNoZWRgKTtcbiAgICBpZiAoIXNlZ21lbnRNYXRjaGVkVHJlYXRtZW50cy5sZW5ndGgpIHJldHVybiBbXTtcbiAgICByZXR1cm4gc2VnbWVudE1hdGNoZWRUcmVhdG1lbnRzO1xuICB9XG5cbiAgZ2V0VXNlclNlZ21lbnQoKSB7XG4gICAgaWYgKHRoaXMuY29va2llUGN0ID09PSAtMSkge1xuICAgICAgbG9nZ2VyLmluZm8oXCJOZXcgdXNlciBoYXMgbm8gc2VnbWVudFwiKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5ldyBVc2VyXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5jb29raWVQY3QgPCA1MCkgcmV0dXJuIFwiQVwiO1xuICAgIHJldHVybiBcIkJcIjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUcmVhdG1lbnRSZXBvc2l0b3J5O1xuIiwiaW1wb3J0IHtTRVNTSU9OX1NUT1JBR0VfS0VZUywgTE9DQUxfU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBDb3VudGVyIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0NvdW50ZXJSdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcInBhZ2VWaWV3XCI6XG4gICAgICByZXR1cm4gcGFnZVZpZXdIYW5kbGVyKGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGNhc2UgXCJDQUJhc2tldFByaWNlXCI6XG4gICAgICByZXR1cm4gY2FCYXNrZXRQcmljZUhhbmRsZXIoY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIGxvZ2dlci5sb2coXCJObyBzdWNoIG9wZXJhdG9yXCIsIG9wZXJhdG9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuY29uc3QgZ2V0Q291bnRlciA9IChjb3VudGVyLCB0eXBlKSA9PiB7XG4gIHRyeSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwic2Vzc2lvblwiOlxuICAgICAgICByZXR1cm4gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShjb3VudGVyKTtcbiAgICAgIGNhc2UgXCJsb2NhbFwiOlxuICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oY291bnRlcik7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsb2dnZXIubG9nKFwiTm8gc3VjaCB0eXBlXCIsIHR5cGUpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGxvZ2dlci5sb2coYENvdWxkIG5vdCBnZXQgY291bnRlciAke2NvdW50ZXJ9YCwgZXJyKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuY29uc3QgcGFnZVZpZXdIYW5kbGVyID0gKGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgY29uc3QgcGFnZVZpZXdzID0gcGFyc2VJbnQoZ2V0Q291bnRlcihTRVNTSU9OX1NUT1JBR0VfS0VZUy5QQUdFX1ZJRVdTLCBcInNlc3Npb25cIikpO1xuICBsb2dnZXIubG9nKFwiUGFnZSB2aWV3cyBjb3VudGVyIHZhbHVlOiBcIiwgcGFnZVZpZXdzKTtcbiAgaWYgKHBhZ2VWaWV3cyA9PT0gbnVsbCkge1xuICAgIGxvZ2dlci5sb2coXCJQYWdldmlld3MgY291bnRlciBub3QgZm91bmQgaW4gc2Vzc2lvbiBzdG9yYWdlXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihwYWdlVmlld3MsIGNvbmRpdGlvbiwgcGFyc2VJbnQodmFsdWUpKTtcbn07XG5cbmNvbnN0IGNhQmFza2V0UHJpY2VIYW5kbGVyID0gKGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgY29uc3QgY2FCYXNrZXRQcmljZSA9IHBhcnNlSW50KFxuICAgICAgZ2V0Q291bnRlcihMT0NBTF9TVE9SQUdFX0tFWVMuQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFLCBcImxvY2FsXCIpKTtcbiAgbG9nZ2VyLmxvZyhcIkNvdXBvbiBhcHBsaWNhYmxlIGJhc2tldCBwcmljZSBjb3VudGVyIHZhbHVlOiBcIiwgY2FCYXNrZXRQcmljZSk7XG4gIGlmIChjYUJhc2tldFByaWNlID09PSBudWxsKSB7XG4gICAgbG9nZ2VyLmxvZyhcIkNvdXBvbiBhcHBsaWNhYmxlIGJhc2tldCBwcmljZSBjb3VudGVyIG5vdCBmb3VuZCBpbiBsb2NhbCBzdG9yYWdlXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihjYUJhc2tldFByaWNlLCBjb25kaXRpb24sIHBhcnNlSW50KHZhbHVlKSk7XG59O1xuXG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBFbGVtZW50IENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0VsZW1lbnRSdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZSwgc2VsZWN0b3IsIHNlbGVjdG9yQWxsLCBzZWxlY3RvckZhbGxiYWNrID0gbnVsbH0gPSBydWxlO1xuICBsZXQgbWFpblNlbGVjdG9yID0gc2VsZWN0b3I7XG4gIGlmIChtYWluU2VsZWN0b3IgJiYgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKSkge1xuICAgIG1haW5TZWxlY3RvciA9IHNlbGVjdG9yRmFsbGJhY2sgPyBzZWxlY3RvckZhbGxiYWNrIDogbWFpblNlbGVjdG9yO1xuICB9XG5cbiAgaWYgKG9wZXJhdG9yID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgfVxuICBpZiAobWFpblNlbGVjdG9yICYmICFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3RvcikpIHtcbiAgICBsb2dnZXIubG9nKFwiU2VsZWN0b3Igbm90IGZvdW5kIG9uIHBhZ2VcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChzZWxlY3RvckFsbCAmJiAhZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvckFsbCkpIHtcbiAgICBsb2dnZXIubG9nKFwiU2VsZWN0b3Igbm90IGZvdW5kIG9uIHBhZ2VcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgbGV0IGVsZW1lbnQ7XG4gIGlmIChtYWluU2VsZWN0b3IpIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3Rvcik7XG4gIGVsc2UgaWYgKHNlbGVjdG9yQWxsKSBlbGVtZW50ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yQWxsKSk7XG5cbiAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgIGNhc2UgXCJ0ZXh0LW51bWJlclwiOiB7XG4gICAgICBsZXQgdGVtcFZhbDtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGVsZW1lbnQpKSB7XG4gICAgICAgIHRlbXBWYWwgPSBlbGVtZW50LnJlZHVjZSgocmV0dXJuVmFsLCBlbGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuVmFsICs9IHBhcnNlSW50KGVsZW0udGV4dENvbnRlbnQucmVwbGFjZShcIlRMXCIsIFwiXCIpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRlbXBWYWwgPSBwYXJzZUludChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3RvcikudGV4dENvbnRlbnRcbiAgICAgICAgICAgIC5yZXBsYWNlKFwiVExcIiwgXCJcIikucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgICAgfVxuICAgICAgY29uc3QgcnVuVGltZVZhbHVlID0gcGFyc2VJbnQodGVtcFZhbCk7XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW5UaW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIH1cbiAgICBjYXNlIFwiY2xhc3NMaXN0XCI6XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihBcnJheS5mcm9tKGVsZW1lbnQuY2xhc3NMaXN0KSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgY2FzZSBcImNvdW50XCI6IHtcbiAgICAgIGNvbnN0IHJ1blRpbWVWYWx1ZSA9IEFycmF5LmlzQXJyYXkoZWxlbWVudCkgPyBlbGVtZW50Lmxlbmd0aCA6IGVsZW1lbnQgPyAxIDogMDtcbiAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1blRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICBsb2dnZXIubG9nKFwiT3BlcmF0b3Igbm90IGRlZmluZWRcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBGdW5jdGlvbiBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tGdW5jdGlvblJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG4gIGlmICghb3BlcmF0b3IpIHtcbiAgICBsb2dnZXIubG9nKFwiUnVsZSBmdW5jdGlvbiBub3QgZGVmaW5lZFwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgcnVsZUZ1bmN0aW9uID0gRnVuY3Rpb24ob3BlcmF0b3IpO1xuICBjb25zdCBydW50aW1lVmFsdWUgPSBydWxlRnVuY3Rpb24oKTtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVudGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbn07XG4iLCJpbXBvcnQge1NFU1NJT05fU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBTZXNzaW9uIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja1Nlc3Npb25SdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcImR1cmF0aW9uXCI6XG4gICAgICByZXR1cm4gZHVyYXRpb25IYW5kbGVyKGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuY29uc3QgZ2V0U2Vzc2lvblRpbWVzdGFtcCA9ICgpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IERhdGUocGFyc2VJbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5TRVNTSU9OX1RJTUVTVEFNUCkpKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmxvZyhcIkNvdWxkIG5vdCBnZXQgc2Vzc2lvbiB0aW1lc3RhbXBcIiwgZXJyKTtcbiAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgfVxufTtcblxuY29uc3QgZHVyYXRpb25IYW5kbGVyID0gKGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgY29uc3QgZHVyYXRpb24gPSAoRGF0ZS5ub3coKSAtIGdldFNlc3Npb25UaW1lc3RhbXAoKSkgLyAxMDAwO1xuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihkdXJhdGlvbiwgY29uZGl0aW9uLCBwYXJzZUludCh2YWx1ZSkpO1xufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge01PQklMRV9NRURJQV9RVUVSWX0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBFbnYgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRW52UnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcblxuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcImRldmljZV90eXBlXCI6IHtcbiAgICAgIGNvbnN0IGlzTW9iaWxlID0gd2luZG93Lm1hdGNoTWVkaWEoTU9CSUxFX01FRElBX1FVRVJZKS5tYXRjaGVzID8gXCJtb2JpbGVcIiA6IFwiZGVza3RvcFwiO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoaXNNb2JpbGUsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIH1cbiAgfVxufTtcbiIsImltcG9ydCB7Y2hlY2tDb3VudGVyUnVsZX0gZnJvbSBcIi4vY291bnRlckNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tEYXRhTGF5ZXJSdWxlfSBmcm9tIFwiLi9kYXRhTGF5ZXJDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrRWxlbWVudFJ1bGV9IGZyb20gXCIuL2VsZW1lbnRDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrRnVuY3Rpb25SdWxlfSBmcm9tIFwiLi9mdW5jdGlvbkNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tTZXNzaW9uUnVsZX0gZnJvbSBcIi4vc2Vzc2lvbkNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tVcmxSdWxlfSBmcm9tIFwiLi91cmxDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrRW52UnVsZX0gZnJvbSBcIi4vZW52Q2hlY2tlclwiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBSdWxlIEVuZ2luZVwiKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUnVsZUVuZ2luZSB7XG4gIGNvbnN0cnVjdG9yKGJvZHkpIHtcbiAgICBjb25zdCB7YmFzZVJ1bGVTZXQsIHN1YlZhcmlhbnRSdWxlU2V0LCBjYWxsYmFjayA9IG51bGx9ID0gYm9keTtcbiAgICB0aGlzLmJhc2VSdWxlU2V0ID0gYmFzZVJ1bGVTZXQ7XG4gICAgdGhpcy5zdWJWYXJpYW50UnVsZVNldCA9IHN1YlZhcmlhbnRSdWxlU2V0O1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgfVxuXG4gIGNoZWNrUnVsZXMoKSB7XG4gICAgZm9yIChjb25zdCBydWxlIG9mIHRoaXMuYmFzZVJ1bGVTZXQpIHtcbiAgICAgIGNvbnN0IHJ1bGVTYXRpc2ZpZWQgPSB0aGlzLmNoZWNrUnVsZShydWxlKTtcbiAgICAgIGlmICghcnVsZVNhdGlzZmllZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY2hlY2tTdWJWYXJpYW50UnVsZXMoKSB7XG4gICAgZm9yIChjb25zdCBydWxlIG9mIHRoaXMuc3ViVmFyaWFudFJ1bGVTZXQpIHtcbiAgICAgIGNvbnN0IHJ1bGVTYXRpc2ZpZWQgPSB0aGlzLmNoZWNrUnVsZShydWxlKTtcbiAgICAgIGlmIChydWxlU2F0aXNmaWVkKSB7XG4gICAgICAgIHJldHVybiBydWxlLnN1YlZhcmlhbnRJZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY2hlY2tSdWxlKHJ1bGUpIHtcbiAgICBjb25zdCB7Y2hhaW4sIGNoYWluX2NvbmRpdGlvbiwgdHlwZX0gPSBydWxlO1xuICAgIGxldCBydWxlU2F0aXNmaWVkID0gbnVsbDtcbiAgICAvLyBjaGVjayBydWxlXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwic2Vzc2lvblwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tTZXNzaW9uUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiY291bnRlclwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tDb3VudGVyUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZWxlbWVudFwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tFbGVtZW50UnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGF0YUxheWVyXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0RhdGFMYXllclJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInVybFwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tVcmxSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tGdW5jdGlvblJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImVudmlyb25tZW50XCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0VudlJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbG9nZ2VyLmxvZyhgTm8gc3VjaCBydWxlIHR5cGU6ICR7dHlwZX1gKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKGNoYWluKSB7XG4gICAgICBzd2l0Y2ggKGNoYWluX2NvbmRpdGlvbikge1xuICAgICAgICBjYXNlIFwiYW5kXCI6XG4gICAgICAgICAgcnVsZVNhdGlzZmllZCA9IHJ1bGVTYXRpc2ZpZWQgJiYgdGhpcy5jaGVja1J1bGUoY2hhaW4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib3JcIjpcbiAgICAgICAgICBydWxlU2F0aXNmaWVkID0gcnVsZVNhdGlzZmllZCB8fCB0aGlzLmNoZWNrUnVsZShjaGFpbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4b3JcIjpcbiAgICAgICAgICBydWxlU2F0aXNmaWVkID0gcnVsZVNhdGlzZmllZCAhPSB0aGlzLmNoZWNrUnVsZShjaGFpbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIk5vIHN1Y2ggY2hhaW4gY29uZGl0aW9uXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcnVsZVNhdGlzZmllZDtcbiAgfVxufVxuIiwiaW1wb3J0IHtza3VDb2xsZWN0b3J9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHtMT09LVVBfQVBJX1VSTH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBBcGlcIik7XG5cbmV4cG9ydCBjb25zdCBwcm9kdWN0SW5mb0xvb2t1cCA9IGFzeW5jICgpID0+IHtcbiAgbG9nZ2VyLmxvZyhcIlN0YXJ0aW5nIHByb2R1Y3QgaW5mbyBsb29rdXBcIik7XG4gIGNvbnN0IHNrdUxpc3QgPSBza3VDb2xsZWN0b3IoKTtcbiAgaWYgKCFza3VMaXN0KSB7XG4gICAgbG9nZ2VyLmxvZyhcIk5vIHNrdSBmb3VuZFwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgaGVhZGVycy5hcHBlbmQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICBsZXQgcHJvZHVjdEluZm8gPSBhd2FpdCBmZXRjaChMT09LVVBfQVBJX1VSTCwge1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoc2t1TGlzdCksXG4gICAgaGVhZGVycyxcbiAgfSk7XG4gIGlmICghcHJvZHVjdEluZm8ub2spIHtcbiAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBpbmZvIGxvb2t1cCBmYWlsZWRcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcHJvZHVjdEluZm8gPSBhd2FpdCBwcm9kdWN0SW5mby5qc29uKCk7XG4gIGlmICghcHJvZHVjdEluZm8pIHtcbiAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBpbmZvIGV4dHJhY3Rpb24gZnJvbSByZXNwb25zZSBmYWlsZWRcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbG9nZ2VyLmxvZyhcIlByb2R1Y3QgaW5mbyBsb29rdXAgc3VjY2Vzc2Z1bFwiKTtcbiAgcmV0dXJuIHByb2R1Y3RJbmZvO1xufTtcbiIsImltcG9ydCBhcHBseVRyZWF0bWVudHMgZnJvbSBcIi4uL05leHRkYXlBcHBseVRyZWF0bWVudHMvaW5kZXhcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuaW1wb3J0IE1vbml0b3IgZnJvbSBcIi4uL05leHRkYXlNb25pdG9yL2luZGV4XCI7XG5pbXBvcnQgVHJlYXRtZW50UmVwb3NpdG9yeSBmcm9tIFwiLi4vTmV4dGRheVRyZWF0bWVudFJlcG9zaXRvcnkvaW5kZXhcIjtcbmltcG9ydCBSdWxlRW5naW5lIGZyb20gXCIuLi9OZXh0ZGF5UnVsZUVuZ2luZVwiO1xuaW1wb3J0IHtwcm9kdWN0SW5mb0xvb2t1cH0gZnJvbSBcIi4uL05leHRkYXlBcGlcIjtcbmltcG9ydCB7Q09PS0lFX05BTUUsXG4gIE1PQklMRV9NRURJQV9RVUVSWSxcbiAgU1BMSVRfUkFUSU8sXG4gIExPQ0FMX1NUT1JBR0VfS0VZUyxcbiAgVFJFQVRNRU5UX1JBVElPLFxufSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge1xuICBleHRyYWN0Q29va2llSWRlbnRpZmllcixcbiAgaW5pdGlhdGVTZXNzaW9uU3RvcmFnZXMsXG4gIGluamVjdFN0eWxlU2hlZXQsXG4gIHJlbW92ZURvY3VtZW50SGlkZSxcbiAgZGV0ZXJtaW5lUGN0LFxuICBwcmVwYXJlQWN0aW9ucyxcbn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cbihhc3luYyBmdW5jdGlvbigpIHtcbiAgbGV0IGlzT24gPSBudWxsO1xuICB0cnkge1xuICAgIGNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoKTtcbiAgICBsb2dnZXIuaW5mbyhcIk5leHRkYXkgaW5pdGlhdGVkXCIpO1xuICAgIGNvbnN0IHByb2R1Y3RJbmZvUHJvbWlzZSA9IHByb2R1Y3RJbmZvTG9va3VwKCk7XG5cbiAgICBjb25zdCBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gICAgaWYgKHF1ZXJ5U3RyaW5nLmluY2x1ZGVzKFwibmRfZGVidWc9MVwiKSkge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5ORF9ERUJVR19NT0RFLCAxKTtcbiAgICB9IGVsc2UgaWYgKHF1ZXJ5U3RyaW5nLmluY2x1ZGVzKFwibmRfZGVidWc9MlwiKSkge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5ORF9ERUJVR19NT0RFLCAyKTtcbiAgICB9IGVsc2UgaWYgKHF1ZXJ5U3RyaW5nLmluY2x1ZGVzKFwibmRfZGVidWc9MFwiKSkge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5ORF9ERUJVR19NT0RFKTtcbiAgICB9XG5cbiAgICBjb25zdCBpZGVudGlmaWVyID0gZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBDT09LSUVfTkFNRSk7XG4gICAgbG9nZ2VyLmxvZyhcIkZvdW5kIGNvb2tpZSBpZGVudGlmaWVyOiBcIiwgaWRlbnRpZmllcik7XG4gICAgY29uc3QgY29va2llUGN0ID0gYXdhaXQgZGV0ZXJtaW5lUGN0KGlkZW50aWZpZXIpO1xuICAgIGlmICghd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5ORF9ERUJVR19NT0RFKSkge1xuICAgICAgaWYgKGNvb2tpZVBjdCA8IFNQTElUX1JBVElPKSB7XG4gICAgICAgIGlmIChjb29raWVQY3QgPT09IC0xKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IHBhcnNlIGNvb2tpZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpc09uID0gZmFsc2U7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnRyb2wgZ3JvdXA6IG5vIHRyZWF0bWVudHMgYXBwbGllZFwiKTtcbiAgICAgIH0gaXNPbiA9IHRydWU7XG4gICAgfSBlbHNlIGxvZ2dlci5pbmZvKFwiRGVidWcgbW9kZSBvbjogYWxsIGFwcGxpY2FibGUgdHJlYXRtZW50cyB3aWxsIGJlIGFwcGxpZWRcIik7XG5cbiAgICBpZiAoIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJuZXh0RGF5LWhpZGVcIikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5leHRkYXkgc2NyaXB0IHRpbWVkIG91dFwiKTtcbiAgICB9XG5cbiAgICBpbmplY3RTdHlsZVNoZWV0KCk7XG4gICAgaW5pdGlhdGVTZXNzaW9uU3RvcmFnZXMoKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICAgIH0sIDIwMDApO1xuICAgIGNvbnN0IHRyZWF0bWVudHNQcm9taXNlID0gVHJlYXRtZW50UmVwb3NpdG9yeS5nZXRUcmVhdG1lbnRzKCk7XG4gICAgY29uc3QgaXNNb2JpbGUgPSB3aW5kb3cubWF0Y2hNZWRpYShNT0JJTEVfTUVESUFfUVVFUlkpLm1hdGNoZXM7XG4gICAgY29uc3QgT0JTRVJWRVJfQ09ORklHID0ge3N1YnRyZWU6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZX07XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgIGNvbnN0IGVuZ2FnZVRyZWF0bWVudCA9IGFzeW5jICh0cmVhdG1lbnQpID0+IHtcbiAgICAgIGNvbnN0IHtpZCwgYWN0aW9ucywgYmFzZVJ1bGVTZXQsIGRldmljZSwgZGVwZW5kYW50X29uX3RyZWF0bWVudCwgcmVhcHBseV9ldmVudCwgc3ViVmFyaWFudFJ1bGVTZXR9ID0gdHJlYXRtZW50O1xuICAgICAgaWYgKGRldmljZSA9PT0gXCJtb2JpbGVcIiAmJiAhaXNNb2JpbGUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudCBkZXZpY2UgJ21vYmlsZScgbWlzbWF0Y2hcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChkZXZpY2UgPT09IFwiZGVza3RvcFwiICYmIGlzTW9iaWxlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnQgZGV2aWNlICdkZXNrdG9wJyBtaXNtYXRjaFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGRlcGVuZGFudF9vbl90cmVhdG1lbnQpIHtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHMpLmluY2x1ZGVzKFN0cmluZyhkZXBlbmRhbnRfb25fdHJlYXRtZW50KSkpIHtcbiAgICAgICAgICBsb2dnZXIubG9nKGBUcmVhdG1lbnQgJHtpZH0gc2tpcHBlZCBkdWUgdG8gZGVwZW5kYW50IHRyZWF0bWVudCBiZWluZyBza2lwcGVkYCk7XG4gICAgICAgICAgZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c1tpZF0gPSB7ZGVwZW5kYW50X29uX3RyZWF0bWVudCwgc3ViVmFyaWFudElkOiBudWxsLCBhY3Rpb25zfTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCB0cmVhdG1lbnRQY3QgPSBhd2FpdCBkZXRlcm1pbmVQY3QoaWRlbnRpZmllciArIGlkLCA3KTtcbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuTkRfREVCVUdfTU9ERSkgJiZcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5ORF9ERUJVR19NT0RFKSA9PT0gXCIxXCIpIHtcbiAgICAgICAgICB0cmVhdG1lbnRQY3QgPSAxMDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRyZWF0bWVudFBjdCA8IFRSRUFUTUVOVF9SQVRJTykge1xuICAgICAgICAgIGxvZ2dlci5sb2coYFRyZWF0bWVudCAke2lkfSBza2lwcGVkIGR1ZSB0byB0cmVhdG1lbnQgc3BsaXQgcmF0aW9gKTtcbiAgICAgICAgICBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzW2lkXSA9IHtkZXBlbmRhbnRfb25fdHJlYXRtZW50OiBudWxsLCBzdWJWYXJpYW50SWQ6IG51bGwsIGFjdGlvbnN9O1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlYXBwbHlfZXZlbnQpIHtcbiAgICAgICAgbGV0IHJlYXBwbHlfZXZlbnRfYXJyYXkgPSByZWFwcGx5X2V2ZW50O1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVhcHBseV9ldmVudCkpIHJlYXBwbHlfZXZlbnRfYXJyYXkgPSBbcmVhcHBseV9ldmVudF07XG4gICAgICAgIGxvZ2dlci5sb2coYFJlYXBwbHkgZXZlbnQgJyR7cmVhcHBseV9ldmVudH0nIGZvdW5kIGZvciB0cmVhdG1lbnQ6ICR7aWR9YCk7XG4gICAgICAgIGZvciAoY29uc3QgcmVhcHBseUV2ZW50IG9mIHJlYXBwbHlfZXZlbnRfYXJyYXkpIHtcbiAgICAgICAgICBjb25zdCBwcmV2aW91c1ZhbHVlID0gcmVBcHBseVRyZWF0bWVudHNNYXBbcmVhcHBseUV2ZW50XSA/XG4gICAgICAgICAgICAgIHJlQXBwbHlUcmVhdG1lbnRzTWFwW3JlYXBwbHlFdmVudF0gOiBbXTtcbiAgICAgICAgICBpZiAocHJldmlvdXNWYWx1ZS5pbmNsdWRlcyhpZCkpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnQgYWxyZWFkeSBhZGRlZCBmb3IgcmVhcHBseSBldmVudFwiKTtcbiAgICAgICAgICB9IGVsc2UgcmVBcHBseVRyZWF0bWVudHNNYXBbcmVhcHBseUV2ZW50XSA9IFsuLi5wcmV2aW91c1ZhbHVlLCBpZF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHJ1bGVFbmdpbmUgPSBuZXcgUnVsZUVuZ2luZSh7YmFzZVJ1bGVTZXQsIHN1YlZhcmlhbnRSdWxlU2V0fSk7XG4gICAgICBsb2dnZXIubG9nKFwiU3RhcnRpbmcgYmFzZSBydWxlIHNldCBjaGVjayBmb3IgdHJlYXRtZW50OiBcIiArIGlkKTtcbiAgICAgIGlmICghYmFzZVJ1bGVTZXQgfHwgcnVsZUVuZ2luZS5jaGVja1J1bGVzKCkpIHtcbiAgICAgICAgaWYgKCFzdWJWYXJpYW50UnVsZVNldCkge1xuICAgICAgICAgIGFwcGx5VHJlYXRtZW50cyhhY3Rpb25zLCBwcm9kdWN0SW5mbyk7XG4gICAgICAgICAgYXBwbGllZFRyZWF0bWVudElkc1tpZF0gPSB7c3ViVmFyaWFudElkOiBudWxsLCBhY3Rpb25zfTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmxvZyhcIlN0YXJ0aW5nIHN1YiB2YXJpYW50IHJ1bGUgc2V0IGNoZWNrIGZvciB0cmVhdG1lbnQ6IFwiICsgaWQpO1xuICAgICAgICBjb25zdCBzdWJWYXJpYW50SWQgPSBydWxlRW5naW5lLmNoZWNrU3ViVmFyaWFudFJ1bGVzKCk7XG4gICAgICAgIGxldCBwcmVwYXJlZCA9IGFjdGlvbnM7XG4gICAgICAgIGlmIChzdWJWYXJpYW50SWQpIHtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiQXBwbHlpbmcgc3ViIHZhcmlhbnQgd2l0aCBpZDogXCIsIHN1YlZhcmlhbnRJZCk7XG4gICAgICAgICAgcHJlcGFyZWQgPSBwcmVwYXJlQWN0aW9ucyhhY3Rpb25zLCBzdWJWYXJpYW50SWQpO1xuICAgICAgICB9IGVsc2UgbG9nZ2VyLmxvZyhcIkFwcGx5aW5nIHRyZWF0bWVudCB3aXRoIGRlZmF1bHQgdmFsdWVzXCIpO1xuICAgICAgICBhcHBseVRyZWF0bWVudHMocHJlcGFyZWQsIHByb2R1Y3RJbmZvKTtcbiAgICAgICAgYXBwbGllZFRyZWF0bWVudElkc1tpZF0gPSB7c3ViVmFyaWFudElkLCBhY3Rpb25zOiBwcmVwYXJlZH07XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJSdWxlIGNoZWNrIGZhaWxlZCBmb3IgdHJlYXRtZW50OiBcIiwgaWQpO1xuICAgIH07XG5cbiAgICAvLyBUZW1wb3JhcnkgY29kZSBibG9jayB0byB0cmFjayBjb3Vwb24gYXBwbGljYWJsZSBiYXNrZXQgdG90YWwgcHJpY2VcbiAgICAvLyBUT0RPOiBSZW1vdmUgb25jZSB0aGUgaW5mbyBjYW4gYmUgb2J0YWluZWQgdmlhIExvb2t1cCBBUElcbiAgICBjb25zdCBjb2xsZWN0Q0FCYXNrZXRQcmljZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHtDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0V9ID0gTE9DQUxfU1RPUkFHRV9LRVlTO1xuICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwiL3NpcGFyaXMtbGlzdGVzaS5odG1sXCIpKSB7XG4gICAgICAgIGNvbnN0IHByaWNlRWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJpY2VcIikpO1xuICAgICAgICBwcmljZUVsZW1lbnRzLnB1c2goLi4uQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5ldy1wcmljZVwiKSkpO1xuICAgICAgICBpZiAoIXByaWNlRWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlByaWNlIGVsZW1lbnRzIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFLCAwKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmxvZyhcIlByaWNlIGVsZW1lbnRzOiBcIiwgcHJpY2VFbGVtZW50cyk7XG4gICAgICAgIGNvbnN0IGNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlID0gcHJpY2VFbGVtZW50cy5yZWR1Y2UoKHJldHVyblZhbCwgZWxlbSkgPT4ge1xuICAgICAgICAgIHJldHVyblZhbCArPSBwYXJzZUludChlbGVtLnRleHRDb250ZW50LnJlcGxhY2UoXCJUTFwiLCBcIlwiKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgICAgICAgcmV0dXJuIHJldHVyblZhbDtcbiAgICAgICAgfSwgMCk7XG4gICAgICAgIGxvZ2dlci5sb2coXCJDb3Vwb24gYXBwbGljYWJsZSB0b3RhbCBwcmljZTogXCIsIGNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlKTtcbiAgICAgICAgaWYgKGNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlID49IDApIHtcbiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXG4gICAgICAgICAgICAgIENPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSwgY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwiL3NpcGFyaXMtb3pldGkuaHRtbFwiKSkge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFLCAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGNhQmFza2V0UHJpY2UgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFKTtcbiAgICAgICAgaWYgKGNhQmFza2V0UHJpY2UgPT09IG51bGwpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFLCAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb2xsZWN0Q0FCYXNrZXRQcmljZSgpO1xuICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcyhcIi9zaXBhcmlzLWxpc3Rlc2kuaHRtbFwiKSkge1xuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIk11dGF0aW9uIG9ic2VydmVkLCBjYWxsaW5nIGNvbGxlY3RDQUJhc2tldFByaWNlXCIpO1xuICAgICAgICBjb2xsZWN0Q0FCYXNrZXRQcmljZSgpO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBiYXNrZXRDaGVja291dEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NoZWNrb3V0Rm9ybVwiKTtcbiAgICAgIGlmIChiYXNrZXRDaGVja291dEZvcm0pIG9ic2VydmVyLm9ic2VydmUoYmFza2V0Q2hlY2tvdXRGb3JtLCBPQlNFUlZFUl9DT05GSUcpO1xuICAgIH1cbiAgICAvLyBFbmQgb2YgdGVtcG9yYXJ5IGNvZGUgYmxvY2tcblxuICAgIGNvbnN0IFt0cmVhdG1lbnRzLCBwcm9kdWN0SW5mb10gPSBhd2FpdCBQcm9taXNlLmFsbChbdHJlYXRtZW50c1Byb21pc2UsIHByb2R1Y3RJbmZvUHJvbWlzZV0pO1xuXG4gICAgbG9nZ2VyLmxvZyhcIkZvdW5kIHRyZWF0bWVudHM6IFwiLCB0cmVhdG1lbnRzKTtcbiAgICBsb2dnZXIubG9nKFwiRm91bmQgY29va2llIHBlcmNlbnRhZ2U6IFwiLCBjb29raWVQY3QpO1xuICAgIGxvZ2dlci5sb2coXCJTcGxpdF9yYXRpbzogXCIsIFNQTElUX1JBVElPKTtcbiAgICBsb2dnZXIubG9nKFwiY29va2llUGN0IDwgU1BMSVRfUkFUSU9cIiwgY29va2llUGN0IDwgU1BMSVRfUkFUSU8pO1xuICAgIGxvZ2dlci5pbmZvKGBDb250cm9sIGdyb3VwIHJhdGlvOiAke1NQTElUX1JBVElPfSVgKTtcblxuICAgIGNvbnN0IHRyZWF0bWVudFJlcG9zaXRvcnkgPSBuZXcgVHJlYXRtZW50UmVwb3NpdG9yeSh7XG4gICAgICB0cmVhdG1lbnRzLFxuICAgICAgY29va2llUGN0LFxuICAgIH0pO1xuICAgIGNvbnN0IG1hdGNoZWRUcmVhdG1lbnRzID0gdHJlYXRtZW50UmVwb3NpdG9yeS5nZXRNYXRjaGVkVHJlYXRtZW50cygpO1xuICAgIGlmICghbWF0Y2hlZFRyZWF0bWVudHMubGVuZ3RoKSB7XG4gICAgICBsb2dnZXIubG9nKFwiTm8gdHJlYXRtZW50cyBtYXRjaGVkLCByZXR1cm5pbmcgd2l0aG91dCBmdXJ0aGVyIGFjdGlvblwiKTtcbiAgICAgIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICAgICAgTW9uaXRvci5zZW5kRW1wdHlMb2coXCJObyB0cmVhdG1lbnRzIG1hdGNoZWRcIiwgaXNPbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGFwcGxpZWRUcmVhdG1lbnRJZHMgPSB7fTtcbiAgICBjb25zdCBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzID0ge307XG4gICAgY29uc3QgcmVBcHBseVRyZWF0bWVudHNNYXAgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiBtYXRjaGVkVHJlYXRtZW50cykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkVycm9yIGV4ZWN1dGluZyBydWxlc1wiLCBlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgICBsb2dnZXIuaW5mbyhcIlRyZWF0bWVudHMgYXBwbGllZFwiKTtcbiAgICByZW1vdmVEb2N1bWVudEhpZGUoKTtcblxuICAgIC8vIEluaXRpYWxpemUgbW9uaXRvciB3aXRoIGFwcGxpZWQgdHJlYXRtZW50c1xuICAgIGxvZ2dlci5sb2coXCJBcHBsaWVkIHRyZWF0bWVudHM6IFwiLCBhcHBsaWVkVHJlYXRtZW50SWRzKTtcbiAgICBjb25zdCBtb25pdG9yID0gbmV3IE1vbml0b3IoYXBwbGllZFRyZWF0bWVudElkcywgZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50cyk7XG4gICAgbW9uaXRvci5zZW5kTG9ncyhpc09uKTtcblxuICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIG1vbml0b3IudXBkYXRlTGF0ZXN0Q2hhbmdlcyhhcHBsaWVkVHJlYXRtZW50SWRzLCBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzKTtcbiAgICB9LCAxMDAwKTtcblxuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHJlQXBwbHlUcmVhdG1lbnRzTWFwKSkge1xuICAgICAgY29uc3QgdHJlYXRtZW50SWRzID0gcmVBcHBseVRyZWF0bWVudHNNYXBba2V5XTtcbiAgICAgIGNvbnN0IHJlQXBwbHlUcmVhdG1lbnRzID0gbWF0Y2hlZFRyZWF0bWVudHMuZmlsdGVyKCh0KSA9PiB0cmVhdG1lbnRJZHMuaW5jbHVkZXModC5pZCkpO1xuICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgY2FzZSBcImluZmluaXRlX3Njcm9sbFwiOiB7XG4gICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gaW5maW5pdGVfc2Nyb2xsYCk7XG4gICAgICAgICAgICAgIGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidGltZW91dFwiOiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gdGltZW91dGApO1xuICAgICAgICAgICAgICBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJlbGVtZW50X2NoYW5nZVwiOiB7XG4gICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlYXBwbHlTZWxlY3Rvckxpc3QgPSBBcnJheS5pc0FycmF5KHRyZWF0bWVudC5yZWFwcGx5X3NlbGVjdG9yKSA/XG4gICAgICAgICAgICB0cmVhdG1lbnQucmVhcHBseV9zZWxlY3RvciA6IFt0cmVhdG1lbnQucmVhcHBseV9zZWxlY3Rvcl07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNlbGVjdG9yIG9mIHJlYXBwbHlTZWxlY3Rvckxpc3QpIHtcbiAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gZWxlbWVudF9jaGFuZ2VgKTtcbiAgICAgICAgICAgICAgICAgIGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoZWxlbWVudCwgT0JTRVJWRVJfQ09ORklHKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib25fc2Nyb2xsXCI6IHtcbiAgICAgICAgICB3aW5kb3cub25zY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coYFJldHJ5aW5nIHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gZnJvbSBvbl9zY3JvbGxgKTtcbiAgICAgICAgICAgICAgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJSZWFwcGx5IGV2ZW50IG5vdCBmb3VuZDogXCIsIGtleSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgICBjb25zb2xlLndhcm4oXCJOZXh0ZGF5OiBcIiwgZXJyLm1lc3NhZ2UpO1xuICAgIGxldCBtZXNzYWdlID0gZXJyLm1lc3NhZ2U7XG4gICAgaWYgKGVyci5tZXNzYWdlICE9PSBcIkNvdWxkIG5vdCBwYXJzZSBjb29raWVcIiAmJiBlcnIubWVzc2FnZSAhPT0gXCJDb250cm9sIGdyb3VwOiBubyB0cmVhdG1lbnRzIGFwcGxpZWRcIikge1xuICAgICAgbWVzc2FnZSA9IGBFcnJvciB3aGVuIGFwcGx5aW5nIHRyZWF0bWVudHM6ICR7ZXJyLm1lc3NhZ2V9YDtcbiAgICB9XG4gICAgTW9uaXRvci5zZW5kRW1wdHlMb2cobWVzc2FnZSwgaXNPbik7XG4gIH1cbn0pKCk7XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInJ1bnRpbWUiLCJ1bmRlZmluZWQiLCJPcCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093biIsImhhc093blByb3BlcnR5IiwiJFN5bWJvbCIsIlN5bWJvbCIsIml0ZXJhdG9yU3ltYm9sIiwiaXRlcmF0b3IiLCJhc3luY0l0ZXJhdG9yU3ltYm9sIiwiYXN5bmNJdGVyYXRvciIsInRvU3RyaW5nVGFnU3ltYm9sIiwidG9TdHJpbmdUYWciLCJkZWZpbmUiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZXJyIiwid3JhcCIsImlubmVyRm4iLCJvdXRlckZuIiwic2VsZiIsInRyeUxvY3NMaXN0IiwicHJvdG9HZW5lcmF0b3IiLCJHZW5lcmF0b3IiLCJnZW5lcmF0b3IiLCJjcmVhdGUiLCJjb250ZXh0IiwiQ29udGV4dCIsIl9pbnZva2UiLCJzdGF0ZSIsIkdlblN0YXRlU3VzcGVuZGVkU3RhcnQiLCJtZXRob2QiLCJhcmciLCJHZW5TdGF0ZUV4ZWN1dGluZyIsIkVycm9yIiwiR2VuU3RhdGVDb21wbGV0ZWQiLCJkb25lUmVzdWx0IiwiZGVsZWdhdGUiLCJkZWxlZ2F0ZVJlc3VsdCIsIm1heWJlSW52b2tlRGVsZWdhdGUiLCJDb250aW51ZVNlbnRpbmVsIiwic2VudCIsIl9zZW50IiwiZGlzcGF0Y2hFeGNlcHRpb24iLCJhYnJ1cHQiLCJyZWNvcmQiLCJ0cnlDYXRjaCIsInR5cGUiLCJkb25lIiwiR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCIsIm1ha2VJbnZva2VNZXRob2QiLCJmbiIsImNhbGwiLCJHZW5lcmF0b3JGdW5jdGlvbiIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwiSXRlcmF0b3JQcm90b3R5cGUiLCJ0aGlzIiwiZ2V0UHJvdG8iLCJnZXRQcm90b3R5cGVPZiIsIk5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlIiwidmFsdWVzIiwiR3AiLCJkZWZpbmVJdGVyYXRvck1ldGhvZHMiLCJmb3JFYWNoIiwiQXN5bmNJdGVyYXRvciIsIlByb21pc2VJbXBsIiwiaW52b2tlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlc3VsdCIsIl9fYXdhaXQiLCJ0aGVuIiwidW53cmFwcGVkIiwiZXJyb3IiLCJwcmV2aW91c1Byb21pc2UiLCJjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyIsIlR5cGVFcnJvciIsImluZm8iLCJyZXN1bHROYW1lIiwibmV4dCIsIm5leHRMb2MiLCJwdXNoVHJ5RW50cnkiLCJsb2NzIiwiZW50cnkiLCJ0cnlMb2MiLCJjYXRjaExvYyIsImZpbmFsbHlMb2MiLCJhZnRlckxvYyIsInRyeUVudHJpZXMiLCJwdXNoIiwicmVzZXRUcnlFbnRyeSIsImNvbXBsZXRpb24iLCJyZXNldCIsIml0ZXJhYmxlIiwiaXRlcmF0b3JNZXRob2QiLCJpc05hTiIsImxlbmd0aCIsImkiLCJkaXNwbGF5TmFtZSIsImlzR2VuZXJhdG9yRnVuY3Rpb24iLCJnZW5GdW4iLCJjdG9yIiwiY29uc3RydWN0b3IiLCJuYW1lIiwibWFyayIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiYXdyYXAiLCJhc3luYyIsIlByb21pc2UiLCJpdGVyIiwia2V5cyIsIm9iamVjdCIsInJldmVyc2UiLCJwb3AiLCJza2lwVGVtcFJlc2V0IiwicHJldiIsImNoYXJBdCIsInNsaWNlIiwic3RvcCIsInJvb3RSZWNvcmQiLCJydmFsIiwiZXhjZXB0aW9uIiwiaGFuZGxlIiwibG9jIiwiY2F1Z2h0IiwiaGFzQ2F0Y2giLCJoYXNGaW5hbGx5IiwiZmluYWxseUVudHJ5IiwiY29tcGxldGUiLCJmaW5pc2giLCJ0aHJvd24iLCJkZWxlZ2F0ZVlpZWxkIiwicmVnZW5lcmF0b3JSdW50aW1lIiwiYWNjaWRlbnRhbFN0cmljdE1vZGUiLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJvIiwiZ2V0IiwicHJvcCIsIl90eXBlb2YiLCJfYXJyYXlMaWtlVG9BcnJheSIsImFyciIsImxlbiIsImFycjIiLCJBcnJheSIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIm1pbkxlbiIsInRvU3RyaW5nIiwiZnJvbSIsInRlc3QiLCJfc2xpY2VkVG9BcnJheSIsImlzQXJyYXkiLCJfaSIsIl9zIiwiX2UiLCJfYXJyIiwiX24iLCJfZCIsIl90b0NvbnN1bWFibGVBcnJheSIsImFzeW5jR2VuZXJhdG9yU3RlcCIsImdlbiIsIl9uZXh0IiwiX3Rocm93IiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJhcmdzIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJTVFlMRVNIRUVUX0xPQ0FUSU9OIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic3Vic3RyaW5nIiwicmVwbGFjZSIsInJlcGxhY2VBbGwiLCJMT0dfQVBJX1VSTCIsIk1PQklMRV9NRURJQV9RVUVSWSIsIlNQTElUX1JBVElPIiwiU0VTU0lPTl9TVE9SQUdFX0tFWVMiLCJMT0NBTF9TVE9SQUdFX0tFWVMiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJfY3JlYXRlQ2xhc3MiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJMb2dnZXIiLCJvcmlnaW4iLCJERUJVRyIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJjb25zb2xlIiwibG9nIiwibG9nZ2VyIiwiY2hlY2tEYXRhTGF5ZXJSdWxlIiwicnVsZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvcGVyYXRvciIsImNvbmRpdGlvbiIsInJ1bnRpbWVWYWx1ZSIsImRhdGFMYXllckZpbmRlciIsImNvbmRpdGlvbkNoZWNrZXIiLCJkYXRhTGF5ZXIiLCJpbmNsdWRlcyIsImNoZWNrVXJsUnVsZSIsInJlcXVlc3RVUkwiLCJsb2NhdGlvbiIsImhyZWYiLCJwYXRoIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiVVJMIiwic2VhcmNoIiwicGF0aG5hbWUiLCJjcnlwdG8iLCJyYW5kb21VVUlERmFsbGJhY2siLCJyZW1vdmVEb2N1bWVudEhpZGUiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImZldGNoVHJlYXRtZW50cyIsImZldGNoIiwidHJlYXRtZW50cyIsImpzb24iLCJleHRyYWN0Q29va2llSWRlbnRpZmllciIsImNvb2tpZVN0cmluZyIsImNvb2tpZU5hbWUiLCJpZGVudGlmaWVyIiwic3BsaXQiLCJtYXAiLCJ2IiwicmVkdWNlIiwiYWNjIiwidHJpbSIsImRldGVybWluZVBjdCIsInN1YnN0cmluZ0xlbmd0aCIsImVuY29kZWQiLCJUZXh0RW5jb2RlciIsImVuY29kZSIsInN1YnRsZSIsImRpZ2VzdCIsImhhc2hCdWZmZXIiLCJoYXNoQXJyYXkiLCJVaW50OEFycmF5IiwiaGFzaFN0cmluZyIsImIiLCJwYWRTdGFydCIsImpvaW4iLCJoYXNoTnVtYmVyIiwicGFyc2VJbnQiLCJleGl0U2Nyb2xsTGlzdGVuZXIiLCJjYWxsQmFjayIsImxhc3RTY3JvbGxUb3AiLCJzY3JvbGxUb3AiLCJleGl0U2Nyb2xsSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJzdHlsZUFwcGxpY2F0b3IiLCJlbGVtZW50cyIsInN0eWxlQ2hhbmdlc01hcCIsImVsZW1lbnQiLCJlbnRyaWVzIiwic3R5bGUiLCJpbmplY3RTdHlsZVNoZWV0Iiwic3R5bGVTaGVldCIsImNyZWF0ZUVsZW1lbnQiLCJyZWwiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJwcmVwYXJlQWN0aW9ucyIsImFjdGlvbnNUb1ByZXBhcmUiLCJzdWJWYXJpYW50SWQiLCJhY3Rpb25zIiwicGFyc2UiLCJhY3Rpb24iLCJzdWJWYXJpYW50cyIsInN1YlZhcmlhbnQiLCJpZCIsInJ1blRpbWVWYWx1ZSIsIm1pbiIsIm1heCIsInJhbmRvbVVVSUQiLCJjIiwiZ2V0UmFuZG9tVmFsdWVzIiwiY29tcGFyZU9iamVjdHMiLCJvYmoxIiwib2JqMiIsImtleXNBIiwia2V5c0IiLCJza3VDb2xsZWN0b3IiLCJza3VMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsImUiLCJnZXRBdHRyaWJ1dGUiLCJxdWVyeVNlbGVjdG9yIiwicHJvZHVjdEluZm8iLCJQT1BVUF9ESVNQTEFZX0ZMQUciLCJ0cmFuc2Zvcm1lciIsInRyZWF0bWVudCIsImJhZGdlU2VsZWN0b3IiLCJhcHBseUV2ZW50IiwiY29udGVudFNlbGVjdG9yIiwic2VsZWN0b3IiLCJzZWxlY3RvckZhbGxiYWNrIiwibWRDb25kaXRpb24iLCJtb3ZlX3NlbGVjdG9yXzEiLCJtb3ZlX3NlbGVjdG9yXzIiLCJyZXBsYWNlRm4iLCIkIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJyZXBsYWNlRnVuY3Rpb24iLCJTdHJpbmciLCJiZWZvcmUiLCJhZnRlciIsInNlc3Npb25TdG9yYWdlIiwiY3JlYXRlUG9wdXAiLCJtb2JpbGUiLCJkaXNwbGF5UG9wdXAiLCJhZGRFdmVudExpc3RlbmVyIiwib25jZSIsInNldFRpbWVvdXQiLCJ0aW1lb3V0IiwidGV4dCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJlbGVtIiwiZWwiLCJlbGVtZW50U2t1IiwiYXR0ciIsImZpbmQiLCJiYWRnZXMiLCJzdXBlclByaWNlQmFkZ2UiLCJhdHRyaWJ1dGUiLCJjc3MiLCJwcm9wZXJ0eSIsInByb3BlcnR5VmFsdWUiLCJuMSIsIm4yIiwic3dhcE5vZGVzIiwiYXBwZW5kIiwic291cmNlIiwiZGVzdGluYXRpb24iLCJwcmVwZW5kIiwiaGFuZGxlUG9wdXBDbGljayIsImV2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldEl0ZW0iLCJxUG9wdXAiLCJnZXRFbGVtZW50QnlJZCIsInBvcHVwV3JhcHBlciIsImFkZCIsInBvcHVwQ2xvc2VCdXR0b24iLCJpbm5lclRleHQiLCJvbmNsaWNrIiwiY29udGVudHMiLCJzaGlmdCIsInNyYyIsInRlbXBsYXRlIiwiaW5uZXJIVE1MIiwicG9wdXAiLCJjb250ZW50IiwiZmlyc3RDaGlsZCIsImJvZHkiLCJpMSIsImkyIiwicDEiLCJwYXJlbnROb2RlIiwicDIiLCJpc0VxdWFsTm9kZSIsImNoaWxkcmVuIiwiaW5zZXJ0QmVmb3JlIiwidHJlYXRtZW50QXBwbGljYXRvciIsInRyZWF0bWVudExpc3QiLCJqUXVlcnkiLCJ3YXJuIiwibWVzc2FnZSIsImFwcGx5VHJlYXRtZW50cyIsIk1vbml0b3IiLCJhcHBsaWVkVHJlYXRtZW50SWRzIiwiZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50cyIsImxhdGVzdENoYW5nZXMiLCJlbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzIiwic2Vzc2lvbklkIiwidmlld0lkIiwiaGVhZGVycyIsImluaXRpYWxpemVFeGl0RXZlbnRMaXN0ZW5lciIsImRlYnVnTW9kZSIsImlzT24iLCJxdWV1ZWQiLCJuYXZpZ2F0b3IiLCJzZW5kQmVhY29uIiwicGFja2FnZUxvZ0RhdGEiLCJjaGFuZ2VzIiwiY29tcGFyZVRvIiwiY3VycmVudFVSTCIsInUiLCJob3N0bmFtZSIsInIiLCJyZWZlcnJlciIsInciLCJpbm5lcldpZHRoIiwiY29va2llIiwid2RsIiwidCIsIm5vdyIsInZJZCIsInNyIiwibSIsImRibSIsIkJsb2IiLCJsb2dEYXRhIiwicGFja2FnZVVwZGF0ZUxvZ0RhdGEiLCJjYXB0dXJlIiwicGFja2FnZUVtcHR5TG9nRGF0YSIsIlRyZWF0bWVudFJlcG9zaXRvcnkiLCJjb29raWVQY3QiLCJ1c2VyU2VnbWVudCIsImdldFVzZXJTZWdtZW50Iiwic2VnbWVudE1hdGNoZWRUcmVhdG1lbnRzIiwiZmlsdGVyIiwiYXBwbHlfb25fdXNlcl9zZWdtZW50IiwiVFJFQVRNRU5UUyIsInRyZWF0bWVudHNPYmoiLCJ0aW1lc3RhbXAiLCJ0cmVhdG1lbnRXaXRoVGltZXN0YW1wIiwiZ2V0Q291bnRlciIsImNvdW50ZXIiLCJSdWxlRW5naW5lIiwiYmFzZVJ1bGVTZXQiLCJzdWJWYXJpYW50UnVsZVNldCIsImNhbGxiYWNrIiwiY2hlY2tSdWxlIiwiY2hhaW4iLCJjaGFpbl9jb25kaXRpb24iLCJydWxlU2F0aXNmaWVkIiwiZHVyYXRpb24iLCJnZXRTZXNzaW9uVGltZXN0YW1wIiwiZHVyYXRpb25IYW5kbGVyIiwiY2hlY2tTZXNzaW9uUnVsZSIsInBhZ2VWaWV3cyIsInBhZ2VWaWV3SGFuZGxlciIsImNhQmFza2V0UHJpY2UiLCJjYUJhc2tldFByaWNlSGFuZGxlciIsImNoZWNrQ291bnRlclJ1bGUiLCJzZWxlY3RvckFsbCIsIm1haW5TZWxlY3RvciIsInRlbXBWYWwiLCJyZXR1cm5WYWwiLCJ0ZXh0Q29udGVudCIsImNoZWNrRWxlbWVudFJ1bGUiLCJydWxlRnVuY3Rpb24iLCJjaGVja0Z1bmN0aW9uUnVsZSIsImlzTW9iaWxlIiwiY2hlY2tFbnZSdWxlIiwicHJvZHVjdEluZm9Mb29rdXAiLCJIZWFkZXJzIiwib2siLCJwcm9kdWN0SW5mb1Byb21pc2UiLCJxdWVyeVN0cmluZyIsInJlbW92ZUl0ZW0iLCJjb250YWlucyIsIlBBR0VfVklFV1MiLCJTRVNTSU9OX0lEIiwiU0VTU0lPTl9USU1FU1RBTVAiLCJwb3B1cERpc3BsYXlGbGFnIiwic2Vzc2lvblRpbWVzdGFtcCIsInRyZWF0bWVudHNQcm9taXNlIiwiT0JTRVJWRVJfQ09ORklHIiwic3VidHJlZSIsImNoaWxkTGlzdCIsImVuZ2FnZVRyZWF0bWVudCIsImRldmljZSIsImRlcGVuZGFudF9vbl90cmVhdG1lbnQiLCJyZWFwcGx5X2V2ZW50IiwidHJlYXRtZW50UGN0IiwicmVhcHBseV9ldmVudF9hcnJheSIsInJlYXBwbHlFdmVudCIsInByZXZpb3VzVmFsdWUiLCJyZUFwcGx5VHJlYXRtZW50c01hcCIsInJ1bGVFbmdpbmUiLCJjaGVja1J1bGVzIiwiY2hlY2tTdWJWYXJpYW50UnVsZXMiLCJwcmVwYXJlZCIsImNvbGxlY3RDQUJhc2tldFByaWNlIiwiQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFIiwicHJpY2VFbGVtZW50cyIsImNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlIiwib2JzZXJ2ZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwiYmFza2V0Q2hlY2tvdXRGb3JtIiwib2JzZXJ2ZSIsImFsbCIsInRyZWF0bWVudFJlcG9zaXRvcnkiLCJtYXRjaGVkVHJlYXRtZW50cyIsImdldE1hdGNoZWRUcmVhdG1lbnRzIiwibW9uaXRvciIsInNlbmRMb2dzIiwidXBkYXRlTGF0ZXN0Q2hhbmdlcyIsInRyZWF0bWVudElkcyIsInJlQXBwbHlUcmVhdG1lbnRzIiwiUmVzaXplT2JzZXJ2ZXIiLCJyZWFwcGx5X3NlbGVjdG9yIiwib25zY3JvbGwiXSwic291cmNlUm9vdCI6IiJ9
